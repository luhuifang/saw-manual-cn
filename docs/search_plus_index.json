{"./":{"url":"./","title":"概览","summary":"Homepage of SAW for software introduction","keywords":"","body":"概览SAWSAW工具是什么?运行分析使用教程概览 SAW SAW工具是什么? Stereo-seq Analysis Workflow (SAW) 是一套生信分析流程软件包，整合了多个Stereo-seq空间组基因表达分析工具。它可以将测序数据映射到组织切片上的空间位置，量化特征表达，直观地呈现空间表达分布。SAW 处理来自 Stereo-seq 测序平台的数据，结合显微镜拍照图像，生成空间特征表达矩阵。分析人员可以将SAW标准分析流程输出的文件结果作为起点，开展下游生信分析。 SAW: an efficient and accurate data analysis workflow for Stereo-seq spatial transcriptomics, Gigabyte, 2024 https://doi.org/10.46471/gigabyte.111 下载中心 > 快速开始 > 数据下载 > Reference下载 > 运行分析 输入文件准备 SAW 分析的输入文件分析流程如何运行 SAW 分析流程输出结果探究 SAW 分析的输出结果 使用教程 Stereo-seq FF 数据分析学习如何使用 FF (fresh frozen) 样本数据开展 SAW 分析Stereo-seq FFPE 数据分析学习如何使用 FFPE (formlin-fixed paraffin-embedded) 样本数据开展 SAW 分析Stereo-CITE FF 数据分析学习如何使用蛋白组转录组 Stereo-CITE FF (fresh frozen) 样本数据开展SAW分析手动图像处理学习如何使用 StereoMap 输出的手动处理图像重启分析 ©2025 深圳华大三箭齐发科技有限责任公司保留所有权利。 本产品仅用于研究，不用于诊断。 本手册上的内容可能全部或部分受到适用的知识产权法的保护。深圳华大三箭齐发科技有限责任公司和/或相应权利主体依法拥有其知识产权，包括但不限于商标权、版权等。 深圳华大三箭齐发科技有限责任公司不授予或暗示使用我们或任何第三方的任何版权内容或商标（注册或未注册）的权利或许可。未经本单位书面同意，任何人不得擅自使用、修改、复制、公开传播、更改、分发或发布本手册的程序或内容，不得使用或利用设计技巧使用或占有本单位或本单位关联方的商标、标识或其他专有信息（包括图像、文本、网页设计或形式）。 此处的任何内容都无意于或应被理解为对此处列出或描述的任何产品的性能的任何保证、表达或暗示。适用于本文所列任何产品的任何和所有保证均载于购买该产品所附的适用销售条款和条件。深圳华大三箭齐发科技有限责任公司不做任何保证，并在此声明对本文所述任何第三方产品或协议的使用不做任何保证。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"getting-started/":{"url":"getting-started/","title":"快速开始","keywords":"","body":"快速开始初次接触SAW?SAW使用介绍快速开始 初次接触SAW? SAW是什么？Stereo-seq Analysis Workflow (SAW) 是一套生信分析流程软件包，整合了多个Stereo-seq空间组基因表达分析工具。它可以将测序数据映射到组织切片上的空间位置，量化特征表达，直观地呈现空间表达分布。SAW 处理来自 Stereo-seq 测序平台的数据，结合显微镜拍照图像，生成空间特征表达矩阵。分析人员可以将SAW标准分析流程输出的文件结果作为起点，开展下游生信分析。 For further details regarding STOmics and SAW, click the title. SAW使用介绍 1.下载和安装 软件下载 > 安装 > 2.数据准备 输入概览 > Reference准备 > 3.分析流程 SAW 参数命令 > SAW count > SAW realign > 其他辅助分析流程 > 4.运行分析 Stereo-seq FF > Stereo-seq FFPE > Stereo-CITE FF > 接入手动图像数据 > 5.输出结果 输出概览 > HTML 报告 > 6.其他信息 时空词汇 > 算法原理说明 > 文件格式详解 > GPU使用 > 集群模式 > © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"getting-started/introduction.html":{"url":"getting-started/introduction.html","title":"软件介绍","keywords":"","body":"软件介绍什么是SAW软件[1]? 分析流程显微镜图像标准分析流程参考软件介绍 什么是SAW软件[1]? STOmics 转录组技术由 STOmics Tech 开发，集成了专业设备和试剂盒，可实现高通量空间转录组测序，该技术可在组织和细胞维度上实现超高时空分辨率。Stereo-seq 芯片的优势在于可以捕获组织和细胞维度上的特征表达信息，此功能助力解析生物体中的时间变化和分子调控网络，研究转录变化的动态过程。 Stereo-seq workflow SAW 是专门为时空转录组测序数据而设计的生信分析流程软件包，通过复原组织样本中每个捕获转录本 (Molecular ID，MID) 的空间位置 (Coordinate ID，CID) 和其对应的表达水平，来实现空间维度的特征表达信息提取。从海量数据集中提取高精度和高密度生物学信息。 现在，SAW 工具包支持 FFPE 和 FF 组织样本的分析，可以对遗传发育、疾病病理和临床转化等领域的课题项目进行更多探索性的研究。 分析流程 SAW 提供以下分析流程用于处理 Stereo-seq 数据： SAW count 是 SAW 的核心分析流程，可以兼容大多数 Stereo-seq FF, Stereo-seq FFPE 和 Stereo-CITE FF 数据。输入数据包括芯片 mask 文件、测序 FASTQ、参考基因组和显微镜拍照图像。流程输出 Stereo-seq 芯片的空间表达矩阵和分析结果。 SAW realign 是专门用于处理手动图像数据 (.tar.gz) 的辅助分析流程，使用调整后的图像重启分析，主要适用于自动分析流程的输出结果不够完美，或者图像QC结果失败的数据。 其他辅助分析流程 主要应用于索引文件构建、下游分析和文件格式转换。 显微镜图像 SAW 使用显微镜拍照图像作为组织形态学的参考，协助分析流程，实现特征表达矩阵的空间可视化。SAW 分析中提供的图像类型包括荧光和 H&E 染色图像。详细说明请参阅显微镜图像模块。 标准分析流程 大多数情况下，SAW count 分析流程会自动完成显微镜图像与特征表达矩阵之间的配准。如果图像和矩阵间的自动配准不成功，或是QC失败的图像数据，可以在 StereoMap 中对其图像进行手动处理。更多关于图像手动处理的介绍，请参阅 SAW realign 使用教程。 参考 Gong, C., Li, S., Wang, L., Zhao, F., Fang, S., Yuan, D., Zhao, Z., He, Q., Li, M., Liu, W., Li, Z., Xie, H., Liao, S., Chen, A., Zhang, Y., Li, Y., & Xu, X. (2024). SAW: An efficient and accurate data analysis workflow for Stereo-seq spatial transcriptomics. Gigabyte. https://doi.org/10.46471/gigabyte.111 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"getting-started/glossary.html":{"url":"getting-started/glossary.html","title":"词汇表","keywords":"","body":"词汇表STOmics 词汇说明词汇表 为更加清晰、方便地理解 STOmics Tech 的分析工具使用，我们整理了常见的 STOmics 词汇说明。 STOmics 词汇说明 TermDefinitionStereo-seq Chip TUsed in generating a spatially-resolved 3’ RNA library from biological tissue sections, only for fresh frozen (FF) samples currently.Stereo-seq Chip NUsed in generating a spatially-resolved 3’ RNA library from biological tissue sections, only for formalin-fixed paraffin-embedded (FFPE) samples currently.DNBDNA NanoBall. DNA nanoball is the product of rolling-circle amplification (RCA) that is linearly amplified from the original circular single-stranded DNA template. DNB is the smallest capture unit on the Stereo-seq Chip.Resolution/PitchAlso called the chip resolution/pitch. A center-to-center distance of two adjacent DNBs.CIDCoordinate ID. Spatial position identifier, the artificially synthesized barcode sequence unique to each spot on the Stereo-seq Chip.MIDMolecular ID. A molecular identifier is an artificially synthesized sequence that is unique to each mRNA molecule captured from the sample. It helps differentiate the number of reads contributed by mRNA expression levels due to amplification. Two copies of native transcripts from the same molecule captured on one DNA nanoball will result in two independent reads with the same CID but different MID. In contrast, two reads with identical CID and MID originated from the same transcript but were amplified.ADTAntibody-Derived Tag. It refers to a specific type of molecular tag derived from antibodies, commonly used in single-cell proteomics and CITE-seq (Cellular Indexing of Transcriptomes and Epitopes by Sequencing). ADTs are designed to bind to target proteins, enabling their detection, quantification, and characterization at the single-cell level. These tags are typically conjugated to oligonucleotides or other detectable markers, allowing for high-throughput and multiplexed analysis of protein expression in complex biological samples. ADTs are widely utilized in technologies such as CITE-seq, where they facilitate simultaneous profiling of protein and gene expression in individual cells, providing a comprehensive understanding of cellular heterogeneity and function.GEFGene expression file (GEF) is a data management and storage format designed to support multidimensional datasets and high computational efficiency. Stereo-seq analysis workflow generates bin GEF and cellbin GEF files.GEMGene expression matrix (GEM) stores gene spatial expression data. SAW generates multiple gene expression matrix files in the workflow, the basic format requires four columns with a header row that shows the column names.Bin &Bin sizeBin (or Square Bin) is the analysis unit on the expression heatmap. A bin is a fixed-sized square in which the expression value in this square is accumulated. Bins are not overlapped. The value followed by \"Bin\" represents the square side length. For bin1, each DNB on the Stereo-seq Chip is shown as a spot, which means one spot only contains the data from one DNB. BinN means one spot that aggregates data from N×N DNBs. For example, a spot of bin5 covers data from 5*5 DNBs.CellBinA cell bin stands for a region of cell on the expression heatmap recognized by the algorithm (either from image or heat map). Expression within a cell bin region is accumulated, and neighbor cell bins are not overlapped. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"download-center.html":{"url":"download-center.html","title":"下载中心","keywords":"","body":"下载中心系统配置要求 软件下载 SAW 8.2.2 (12月, 2025)相关软件（StereoMap）兼容 SAW-8.2 软件亮点下载与安装芯片mask下载 参考基因组下载 STAR 索引文件Bowtie2 索引文件Kraken2 索引文件 蛋白列表下载中心 请根据下面的提示步骤，在计算环境中安装SAW软件： 检查系统配置要求 下载SAW 安装SAW 下载芯片mask（可选） 下载参考基因组索引（可选） 系统配置要求 SAW分析软件包在Linux系统上被解压和安装，计算环境需满足下列基本要求： 8-core Intel or AMD processor (>24 cores recommended) 128GB RAM (>256GB recommended) 1TB free disk space or higher 64-bit CentOS/RedHat 7.8 or Ubuntu 20.04 软件下载 SAW 8.2.2 (12月, 2025) Download for Linux 64-bit (tar.gz)File size: 8.1 GBmd5sum: 53473c7f46581c1bc088e6e6d57d8b20 ##with curl curl -o saw-8.2.2.tar.gz \"https://cdn-newfile.stomics.tech/saw-8.2.2.tar.gz\" ##with wget wget -O saw-8.2.2.tar.gz \"https://cdn-newfile.stomics.tech/saw-8.2.2.tar.gz\" 相关软件（StereoMap）兼容 StereoMap >= v4.0 （历史版本的适配兼容信息） SAW-8.2 软件亮点 SAW makeRef --params-config 支持简便输入第三方比对软件的原生参数 。 构建STAR索引文件时自动调用 checkGTF 检查注释文件。 SAW count/realign 支持 Stereo-seq N FFPE V1.1 试剂盒数据分析，新增分析参数： --kit-version=\"Stereo-seq N FFPE V1.1\" --sequencing-type=PE75_50+100 Read比对步骤支持多对/组FASTQ文件之间的并行计算，提高资源利用率和运行效率，设置方式详见并行计算说明。 优化STAR比对步骤前的RNA reads过滤，针对某些特定的接头序列，来提升数据利用率，例如：“Confidently Mapped Reads”。 --skip-cellbin 可以跳过图像细胞分割，以及后续与其相关的分析步骤 。 --summary-display-bin-size 支持报告中各组学/模态的Summary页面下的展示bin size，可以从[20,50,100]中选择合适的维度。 --custom-bin-size 支持自定义分析流程使用的bin size维度，可从[20,50,100]中至多选择两个，主要用于初步下游分析和报告展示。 新增 Initial Check 检查功能，启动分析之前对主要输入文件格式和软件进行检查，可通过 --no-initial-check 对其进行屏蔽。 --job-mode 支持SGE集群模式分析，以及自定义资源配置文件，实现更细致和深入的资源调度。 SAW realign 分析流程支持使用 --extra-image-enhance 设置额外的 CLAHE 图像增强次数，应用于后续的图像细胞分割（如果图像符合要求可以调用自动算法进行细胞分割）。 HTML报告升级 报告界面的UI设计升级，主要包括配色方案、页面布局等； 升级报告内容展示逻辑，从多模态/多组学角度划分导航栏，并且，更新字段表述和解释说明，增加样本信息描述和图像配准检查模块； Microbe组学页面下，报告微的统计值调整为组织区域下的信息； Summary页签下，数据展示可使用 --summary-display-bin-size 参数改变展示 bin size 维度； Square Bin页签下，可使用 --custom-bin-size 参数改变下游分析结果的 bin size 维度； Cell Bin页签下，统计表格中细胞面积单位由pixel变更为μm²； Square Bin和Cell Bin页签下，针对大芯片报告（作图时点数过多）的聚类和UMAP结果进行降采样展示 。 SAW reanalyze 新增空间基因共表达分析功能； SAW convert 新增 gef2rds、 gem2rds、h5ad2rds 格式转换，输出 RDS 格式文件用于Seurat下游分析 。 bin2tissue 可以根据组织分割图提取对应矩阵信息，也支持基于表达矩阵（无图）的组织分割。 优化分析流程日志和子程序模块的日志格式和内容。 优化错误码信息，提供更加详细/明确的报错提示。 新增输出整体分析流程的统计文件 _statistics.json。 版本说明 > 下载与安装 SAW 此版本为单体可执行程序的 .tar.gz 文件，可以直接在系统上解压，无需额外配置计算环境。由于它已经集成并预编译所有内置软件所需的依赖项，因此可以在大多数Linux环境直接运行。 下载 SAW 软件包并解压到合适的目录位置，文档示例假设 /saw/package 为运行目录。 $ cd /saw/package [download the SAW package tar.gz from the Software download part] $ tar -xzf saw-8.2.0.tar.gz 注意，参考基因组和 demo 数据集需要单独下载。 芯片mask下载 Stereo-seq 时空转录组学的芯片 mask 文件是启动 SAW count 分析的关键输入，可在芯片 mask 介绍部分获取更多信息，参考下载教程获取芯片 mask 文件。 参考基因组下载 STOmics 研发团队已预先构建了可直接使用的参考基因组索引文件。 STAR 索引文件 Index file Description File information ​reference-data-mouse.tar.gz​ Mouse reference for STAR alignment, including genome file, annotation file and index files. File size: 27.84GB md5sum: 67c79da93b3575b31c7a97fe6e2f17f0 ​reference-data-mouse-rRNA.tar.gz​ Mouse reference with rRNA information for STAR alignment, including genome file, annotation file and index files. File size: 28.03GB md5sum: 6fa47b14dc26321d1cab691baee4fb2f ​reference-data-rat.tar.gz​ Rat reference for STAR alignment, including genome file, annotation file and index files. File size: 27.55GB md5sum: 92dc19ab97b5ad1a16f3f1dfd34cd642 ​reference-data-human.tar.gz​ Human reference for STAR alignment, including genome file, annotation file and index files. File size: 31.20GB md5sum: 881b966dcd3e253cdf5ef5c36ec588dc ​reference-data-human-rRNA.tar.gz​ Human reference with rRNA information for STAR alignment, including genome file, annotation file and index files. File size: 31.47GB md5sum: a86ceda324fa300d18f48b77502e5274 ##with wget #mouse wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse.tar.gz #mouse with rRNA wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse-rRNA.tar.gz #rat wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-rat.tar.gz #human wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human.tar.gz #human with rRNA wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human-rRNA.tar.gz ##with curl #mouse curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse.tar.gz #mouse with rRNA curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse-rRNA.tar.gz #rat curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-rat.tar.gz #human curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human.tar.gz #human with rRNA curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human-rRNA.tar.gz 下载索引文件并将其解压到合适的位置。这里假设将 /saw/reference 设置为操作目录。 $ cd /saw/reference [download the mouse referencetar.gz from the reference download part] $ tar -xzf reference-data-mouse.tar.gz Bowtie2 索引文件 Index file Description File information ​reference-data-mouse-rRNA-Bowtie2.tar.gz​ Mouse reference with rRNA information for Bowtie2 alignment, including genome file and index files. File size: 3.89GB md5sum: 2c8dd1293390009ba2a10cb28d757a74 ​reference-data-human-rRNA-Bowtie2.tar.gz​ Human reference with rRNA information for Bowtie2 alignment, including genome file and index files. File size: 4.32GB md5sum: 3fcc26c8df319706634514e8e5b17d73 ##with wget #mouse for bowtie2 wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse-rRNA-Bowtie2.tar.gz #human for bowtie2 wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human-rRNA-Bowtie2.tar.gz ##with curl #mouse for bowtie2 curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse-rRNA-Bowtie2.tar.gz #human for bowtie2 curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human-rRNA-Bowtie2.tar.gz Kraken2 索引文件 Index file Description FIle information ​reference-data-pluspf-20220908-Kraken2.tar.gz​ Taxonomy reference for Kraken2 alignment. File size: 48.47GB md5sum: 46e56a6d2707066758574d203579d1d9 ##with wget #kraken2 database wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-pluspf-20220908-Kraken2.tar.gz ##with curl #kraken2 database curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-pluspf-20220908-Kraken2.tar.gz 蛋白列表 Species Protein panel MD5 Cocktail information mouse ​ProteinPanel_128_mouse_V2.list​ 8745033762db89d5a4096232e54e6521 TotalSeq-A™ Mouse Universal Cocktail, V1.0 (Cat. No. 199901) human ​ProteinPanel_163_human_V2.list​ 64a20baa464ba38aa1f7f93286b18bed TotalSeq-A™ Human Universal Cocktail, V1.0 (Cat. No. 399907) *查询Cocktail了解更多信息。 ##with wget #mouse wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_128_mouse_V2.list #human wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_163_human_V2.list ##with curl #mouse curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_128_mouse_V2.list #human curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_163_human_V2.list © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/":{"url":"analysis/","title":"运行分析","keywords":"","body":"运行分析输入文件分析流程输出结果运行分析 输入文件 准备 SAW 分析的输入文件 分析流程 如何运行 SAW 分析流程 输出结果 探究 SAW 分析的输出结果 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/inputs/":{"url":"analysis/inputs/","title":"输入文件","keywords":"","body":"输入文件SAW count 输入文件SAW realign 输入文件输入文件 在运行 SAW 分析流程之前，应提前准备好输入文件。启动分析的输入文件因生化实验操作、测序数据类型、选择的 SAW 分析流程等因素会有所不同。 SAW count 输入文件 准备输入文件、分析流程和参数设置时，请考虑以下事项： 使用哪个分析流程？ SAW count 是将测序 FASTQ（数据）转换为空间特征表达矩阵（信息）的核心分析流程。在启动标准分析之前，应当调用 SAW makeRef 辅助流程构建参考基因组的索引文件，用于 read 的比对和注释。 什么是时空芯片？ Stereo-seq Chip T/N 芯片是时空转录组测序的载体，与 FASTQ 数据密切相关，时空芯片涉及的主要信息包括 SN（芯片序列号）和记录 CID 信息（Coordiante ID）的芯片 mask 文件。 如何获取芯片 mask 文件？ 时空芯片 mask 文件对于SAW count 分析流程的开启至关重要，可以从 STOmics Cloud 上的在线项目文件中获取。学习相关下载教程，可直接将芯片 mask 下载 Linux 服务器上。 如何选择图像？ SAW 通常需要显微镜拍照图像来作为样本组织的解剖结构参考图，是否输入图像（支持TIFF 或 .tar.gz格式）取决于具体的分析需求。 如何确认一些重要的参数信息？ --kit-version 与产品试剂盒的版本相关，可在生化实验操作手册中找到对应信息，通过该参数程序可以自动识别流程中的内置参数设置，例如，“Stereo-seq T FF V1.2”表示对 Stereo-seq Chip T 芯片上的 FF（新鲜冷冻）组织样本开展分析。 --sequencing-type 与FASTQ测序相关，例：“PE100_50+100”，表示试剂盒采用 100 bp 双端测序方案，read 1 测序读长为 50 bp ，read 2 测序读长为 100 bp。 SAW realign 输入文件 是否已经运行过一次SAW count标准分析流程？ 将SAW count 输出 visualization.tar.gz 可视化压缩文件下载至本地后，解压后输入到 StereoMap 进行可视化查看和手动图像处理。需要注意，此次SAW count 的输出结果将在后续手动处理中发挥重要作用。 是否已经完成图像手动处理？ 经过一系列手动调整后，StereoMap 的 Image Processing 模块会生成一个“重新调整”后的图像 .tar.gz 文件，将该文件传给 SAW realign 的 --realigned-image-tar 参数，重启分析流程。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/inputs/chip-mask.html":{"url":"analysis/inputs/chip-mask.html","title":"芯片 mask","keywords":"","body":"芯片 maskStereo-seq 芯片是什么？如何获取芯片 mask 文件？芯片 mask Stereo-seq 芯片是什么？ Stereo-seq Chip 是STOmics Tech独立开发的一项技术，用于在生命科学领域研究基因表达、细胞变化和生命发展。这项技术利用了一种名为\"Stereo-seq\"的时空转录组技术，其捕获组织中的mRNA，并使用时空条形码（Coordinate ID，CID）恢复其空间位置，以统计空间维度的特征表达信息。 时空组学技术的突破在于其亚细胞分辨率和厘米级的视野。该技术可以达到500纳米的分辨率，意味着一个单独的细胞可以被捕获到400个像素。通过对生命发展中的基因和细胞变化进行高精度的时空维度分析，时空组学为理解认知器官结构、生命发展、人类疾病和物种进化提供了新的研究途径。 如何获取芯片 mask 文件？ Stereo-seq Chip 时空芯片的 mask 文件对于 SAW count 分析至关重要，参考下载教程获取芯片 mask 文件。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/inputs/fastqs.html":{"url":"analysis/inputs/fastqs.html","title":"测序 FASTQ","keywords":"","body":"测序 FASTQ概览质量值记录存储类型名称前缀规范测序 FASTQ 概览 FASTQ 是一种常见的存储测序和质量评估信息的数据格式。Stereo-seq 的测序方法是双端测序 （paired-end, PE）。Read 1 包含坐标信息（Coordinate ID，CID）和分子信息（Molecular ID，MID），read 2 包含探针捕获的 RNA 测序数据。在多样本测序过程中，会添加一个额外的样本条形码（sample barcode）序列来识别样本。当测序数据不准确时，会进行过滤，从 read 1 及其配对的 read 2 中移除低质量的 MID 序列（MID中包含 N 碱基或有两个及两个以上碱基的质量值低于10）。然后，过滤后的 read 2 的 read ID 后会附加上 CID 和 MID 信息。Read 2 中包含 RNA 数据的单链被写入 FASTQ 格式的文件中，作为原始测序数据，注意，此时已经去除了样本条形码。 质量值记录 Q40 FASTQ 和 Q4 FASTQ 是记录原始测序数据的碱基质量值的两种方式。两者区别为质量评估体系不同，Q40 采用了41个质量值描述测序碱基的质量，Q4 中只有4个质量值。 存储类型 成对 FASTQ 和成组 FASTQ 是原始测序数据的两种可选输出格式。 注意：FASTQ 中的质量值记录方式与其文件的存储类型无关。 成对的 FASTQs 包括一对 read 文件，read 1 用于记录 CID、MID 信息，read 2 用于记录探针捕获的 RNA 测序数据。下面是 成对 FASTQ 的一个示例： # read 1 @E100026571L1C001R00300000000/1 TGTCCAACGGAGACGGCTCCGACAAGGCACTGGCA + >DG;*EFE8*G/3E@2:F0-GBGG188F=E53FEF5>FGF@,0ADE9CEAG2GBE@HF3EA 成组 FASTQ 格式通常为一个 read 文件，但其脱身于一个组，每组数据由16或64个单独的 read 文件构成。read 文件中的 read ID 以“@”开头，包括 read 名称和经过编码的 CID 和 MID 信息。序列部分包含捕获的 RNA 测序数据。由于文件为组合格式，和并且减少了评估的质量值数量，存储空间大大减少。下面是成组 FASTQ 的一个示例： @FP300000513L1C002R00400000218 CE242DF29A57 97D26 GTGTAGTGAACCCCATGGTAGTTTTCTGATTGTTGTTAAAAAAAATGACTTAACATATTACATGGACACTCAATAAAAATGTTTTATTTCCTGTTGAAAA + FFFFFFFFFFFF8F8FFFFFFFFFFFFF8FFFFFFFFF8FF8FFF8FFFFFFF,FFFFFFFFFFF8FFFFFF8F8F,F8FFFFFF,FFFFFFFFFF,FFF 名称前缀规范 Stereo-seq 的原始测序数据根据存储类型分为两类，它们的文件名有自己的规则。--fastqs 参数需要一个或多个文件夹路径，文件夹下的所有 FASTQ 文件都会进入到 SAW count 分析流程中，所以，请注意你的输入目录。 如果FASTQ数据存储在多个目录下， 可以使用 --fastqs 参数传入多个文件夹路径： --fastqs=/path/to/directory1,/path/to/directory2,... 注意：传入文件夹路径下的所有FASTQ文件都将被投入分析。 对于成对 FASTQ，文件名前缀分别表示测序 slide、lane 编号、样本barcode识别码和 read 索引，标准的成对 FASTQ 文件遵循以下命名方式： ___.fq.gz。 是单个样本在混合测序池中的标识符，是名称中的非必选字段。 兼容以下格式的后缀组合：1/2、read_1/read_2 和 R1/R2。 成对 FASTQ 文件和目录结构类似： /saw/datasets/paired_fastqs ├── SampleSlide01_L01_12_1.fq.gz ├── SampleSlide01_L01_12_2.fq.gz ├── SampleSlide01_L03_12_1.fq.gz ├── SampleSlide01_L03_12_2.fq.gz └── ... or /saw/datasets/paired_fastqs ├── SampleSlide02_L02_10_read_1.fq.gz ├── SampleSlide02_L02_10_read_2.fq.gz ├── SampleSlide02_L04_10_read_1.fq.gz ├── SampleSlide02_L04_10_read_2.fq.gz └── ... or /saw/datasets/paired_fastqs ├── SampleSlide03_L05_7_R1.fq.gz ├── SampleSlide03_L05_7_R2.fq.gz ├── SampleSlide03_L06_7_R1.fq.gz ├── SampleSlide03_L06_7_R2.fq.gz └── ... 对于成组 FASTQ，文件名前缀表示测序流 slide、lane 编号、样本条形码和拆分索引编号，标准成组 FASTQ 文件遵循以下命名方式：___.fq.gz. 是单个样本在混合测序池中的标识符，是名称中的非必选字段。 通常是1~16 或 1~64 范围内的数字。 由于成组 FASTQ 数据是拆分后进行存储的，需要以组为单位被使用，每组包含 16 或 64 个文件。 成组 FASTQ 文件和目录结构类似： /saw/datasets/Q4_fastqs ├── TestFlowcell02_L01_25_1.fq.gz ├── TestFlowcell02_L01_25_2.fq.gz ├── TestFlowcell02_L01_25_3.fq.gz ├── TestFlowcell02_L01_25_4.fq.gz ├── TestFlowcell02_L01_25_5.fq.gz ├── TestFlowcell02_L01_25_6.fq.gz ├── TestFlowcell02_L01_25_7.fq.gz ├── TestFlowcell02_L01_25_8.fq.gz ├── TestFlowcell02_L01_25_9.fq.gz ├── TestFlowcell02_L01_25_10.fq.gz ├── TestFlowcell02_L01_25_11.fq.gz ├── TestFlowcell02_L01_25_12.fq.gz ├── TestFlowcell02_L01_25_13.fq.gz ├── TestFlowcell02_L01_25_14.fq.gz ├── TestFlowcell02_L01_25_15.fq.gz ├── TestFlowcell02_L01_25_16.fq.gz └── ... 在SAW count分析流程中，成对和成组的 FASTQ 测序数据不能混用。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/inputs/images.html":{"url":"analysis/inputs/images.html","title":"显微镜图像","keywords":"","body":"显微镜图像类型和格式核染色图像核染色 + 免疫荧光图像H&E图像图像类型和格式轨迹线显微镜图像 类型和格式 SAW 支持三种组合的显微镜图像输入: 核染色图像 核染色 + 免疫荧光图像 H&E染色图像 核染色图像 核染色在组织切片中不存在组织分离偏倚，对于确定组织区域和细胞位置具有较高的价值。Stereo-seq 实验和生信分析工具同时兼容了 ssDNA 和 DAPI 两种核染色试剂。 STOmics 的研发团队测试并对比了多种商业化的染色试剂，发现 ssDNA 染色对下游 mRNA 捕获率的影响最小，DAPI 对染色细胞核具有高度特异性，可以与其它荧光试剂一起使用，是一种常用的染料。这两种染色方法都可以看到轨迹线。 ssDNA 核染色 + 免疫荧光图像 免疫荧光（immunofluorescence, IF）是一种广泛使用的基于图像的技术，用于可视化展示细胞中蛋白质的亚细胞分布，例如，细胞核可以用 DAPI 染色，而 T 细胞可以通过 CD3 识别。多重免疫荧光（multiplex IF, mIF）可以标记在组织切片上通过荧光显微镜同时扫描，Stereo-seq 生化流程和生信分析工具兼容 DAPI 和最多 6 个用户定义的 IF，从而实现对组织样本更多的空间研究。 DAPI APAK3_IF TESK2_IF H&E图像 苏木精-伊红（Hematoxylin and eosin，H&E）染色是一种常用的组织染色，可为医学诊断提供组织学信息，被认为是金标准。苏木精主要将细胞核染成蓝紫色，而伊红主要将细胞质和细胞外基质染成不同深浅的粉红色，通过 Stereo-seq 生成的空间表达矩阵与 H&E 染色图像相结合，可以将细胞的形态与空间局部特征表达关联起来，挖掘组织切片中更多的信息。 H&E 图像类型和格式 如分析使用的显微镜图像为荧光染色图，请确认其为单通道图像文件。 如下为 StereoMap 和 SAW 支持的数据格式说明： 图像类型图像格式放大倍率Stereo-seq 芯片尺寸核染色图像，比如：ssDNA或者 DAPI8 或 16 位的单张灰度图像10X核染色+免疫荧光图像比如：DAPI +最多 6 个IF的图像8 或 16 位的单张灰度图像10X苏木精-伊红（H&E）染色图像24位深的彩图10X 轨迹线 Stereo-seq 芯片表面具有周期性的轨迹线（水平和垂直轨迹线），在空间表达的热图上会显示为狭窄的线条，因轨迹线区域是没有捕获探针的，可以辅助矩阵跟图像的对齐。为最大程度地减小其对下游 mRNA 捕获率的影响并提高显微镜图像中轨迹线的可见性，设计了 Stereo-seq 技术的组织染色和成像标准操作规程（SOP）。因在基因热图和显微镜图像上同时可以看到这些轨迹线，因此这些线条可以用作图像对齐的位置标记。 以下是图像和热图上的轨迹线示例。 展示的图像已经过调整，以便轨迹线可以清晰的可视化。 荧光图像上的轨迹线 彩色图像上的轨迹线 表达热图上的轨迹线 轨迹线为黑色线条 轨迹线为浅白色线条 轨迹线为黑色线条 SAW 软件嵌入了自动化图像处理算法，用于识别组织和细胞的边界，并在Stereo-seq 芯片上检测轨迹线，以便将图像与特征表达矩阵对齐。如果无法检测到轨迹线或组织/细胞边界不清晰，可能需要手动处理协助。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/pipelines/":{"url":"analysis/pipelines/","title":"分析流程","keywords":"","body":"分析流程核心分析流程辅助分析流程分析流程 SAW 软件中的分析流程是对子程序模块的整合，每个程序模块都能够独立地特定的任务，以此满足不同用户场景的分析需求。 核心分析流程 SAW count 是分析软件包的核心部分，支持处理绝大部分的 Stereo-seq FF，Stereo-seq FFPE 和 Stereo-CITE FF 的数据。输入文集包括芯片 mask 文件、测序 FASTQ 、参考基因组和显微镜图像，输出空间特征表达矩阵和下游分析结果。 辅助分析流程 辅助分析流程包含： SAW makeRef: 构建参考基因组的索引文件，需要 GTF/GFF 注释文件和 FASTA 基因组文件，以及包含特定rRNA 信息的 FASTA 文件； SAW chechGTF: 检查 GTF/GFF 注释文件是否为标准格式，在 SAW count 流程中会被自动调用。此外，可以从 GTF/GFF 中提取特定的注释信息； SAW realign: 接回 StereoMap 手动处理后生成的图像 .tar.gz 文件，重启分析流程； SAW reanalyze: 进行数据再分析，包含聚类分析、矩阵套索和差异表达分析等； SAW convert: 提供数据格式转换工具。 辅助分析流程主要是为了支持 SAW 软件的正常运行，尽可能满足用户分析的使用场景，确保整个分析流程的顺利开展。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/pipelines/saw-can-shu-ming-ling.html":{"url":"analysis/pipelines/saw-can-shu-ming-ling.html","title":"SAW 参数命令","keywords":"","body":"SAW 参数命令SAW count SAW makeRefSAW checkGTFSAW realignSAW reanalyzeclusterlassodiffExpcoExpmultiomicsmidFilterremoveBackgroundSAW convertMatrix relatedImage relatedSAW 参数命令 可在命令行输入saw --help | -h，查看具体分析流程和参数设置信息，通过 saw --version 检查软件版本信息。 SAW count 将时空转录组测序数据转换为空间特征表达矩阵。 运行方式: saw count [Parameters] --id --sn --omics --kit-version --sequencing-type --reference --image --fastqs saw count -h | --help ParameterDescription--id (Optional, default to None) A unique task id ([a-zA-Z0-9_-]+) which will be displayed as the output folder name and the title of HTML report. If the parameter is absent, --sn will play the same role.--description (Optional, default to None) Description for chip, or sample, or analysis run.--sn (Required, default to None) SN (serial number) of the Stereo-seq chip.--omics (Required, default to \"transcriptomics\") Omics information. When it comes to multi-omics analysis, please provide a list of omics, like \"transcriptomics,proteomics\" for Stereo-CITE analysis.--kit-version (Required, default to None) The version of the product kit. More in count pipeline introduction.--sequencing-type (Required, default to None) Sequencing type of FASTQs which is recorded in the sequencing report.--chip-mask (Required, default to None) Stereo-seq chip mask file, recording the spatial location information and the corresponding CID for each spot.--organism (Optional, default to None) Organism type of sample, usually referring to species.--tissue (Optional, default to None) Physiological tissue of sample.--reference (Optional, default to None) Path to the reference folder, containing SAW-compatible index files and GTF/GFF, built by SAW makeRef.--ref-libraries (Optional, default to None) Path to a ref_libraries.csv which declares reference indexes, built by SAW makeRef. Not compatible with --reference.--fastqs (Required, default to None) Path(s) to folder(s), containing all needed FASTQs. If FASTQs are stored in multiple directories, use it as: --fastqs=/path/to/directory1,/path/to/directory2,.... Notice that all FASTQ files under these directories will be loaded for analysis. --adt-fastqs (Optional, default to None) Path(s) to folder(s), containing all ADT FASTQs. If FASTQs are stored in multiple directories, use it as: --adt-fastqs=/path/to/directory1,/path/to/directory2,.... Notice that all FASTQ files under these directories will be loaded for analysis. Also, use --fastqs specifies all gene expression FASTQs.--microorganism-detect(Optional, default to None) Whether to perform analysis related to microorganisms. Notice that the detection only works for FFPE assay currently.--uniquely-mapped-only(Optional, default to None) Only annotate on uniquely mapped reads during read annotation.--rRNA-remove(Optional, default to None) Whether to remove rRNA. Before turning the switch on, make sure that the necessary rRNA information has been added to FASTA, using SAW makeRef.--skip-cellbin(Optional, default to None) Whether to skip the processing of cellbin level, including image cell segmentation, cell border expansion, clustering based on cellbin expression matrices and so on. This switch is default to be off, to output cellbin analysis results.--skip-clustering(Optional, default to None) Whether to skip the second analysis based on spatial expression matrices, which mainly includes preprocessing, clustering, and differential expression analysis.--summary-display-bin-size (Optional, default to 50) Set an appropriate bin size, from [20,50,100], to effectively display the analysis results within the summary tabs of each omics category, including statistical cards, the spatial expression heatmap, and saturation plots.--custom-bin-size (Optional, default to 20,50) A custom bin list (up to 2) to perform analysis, like --custom-bin-size=20,50. It is mainly used for secondary analysis and report presentation. Currently, bin20, 50, 100 are supported, which will be added to. --clean-reads-fastq(Optional, default to None) Whether to output the Clean Reads (before RNA alignment) in FASTQ format, which have undergone CID mapping, RNA filtering, and MID filtering.--unmapped-STAR-fastq(Optional, default to None) Whether to output unmapped reads in FASTQ format.--unmapped-fastq(Optional, default to None) Whether to output unmapped reads in FASTQ format (not including \"too many loci\" reads from STAR).--no-bam(Optional, default to None) Not to output the BAM file after reads annotation, for storage reduction.--create-gem(Optional, default to None) Whether to output feature expression matrices in GEM format, after finishing pipelines.--image (Optional, default to None) TIFF image for QC (quality control), combined with expression matrix for analysis. Please do not provide a relative file path for this parameter.Name rule for input TIFF :a. _.tifb. _.tiffc. _.TIFd. _.TIFF includes:a. ssDNAb. DAPIc. HE (referring to H&E)d. _IF, _IF, ...--image-tar (Optional, default to None) The compressed image .tar.gz file from StereoMap has been through prepositive QC (quality control).--output (Optional, default to None) Set a specific output directory for the run.--threads-num (Optional, default to 16) Allowed local cores to run the pipeline.--memory (Optional, default to detected) Allowed local memory to run the pipeline.--gpu-id (Optional, default to -1) Set GPU id, according to GPU resources in the computing environment. Default to -1, which means running the pipeline using the CPU. --no-initial-check(Optional, default to None) Skip the initial check before actually performing the analysis. Recommend not to switch on this parameter.--job-mode(Optional, default to local) The job scheduling and resource management system offers two available options, local (default) and sge. It also supports accepting a specified configuration file.-h, --help(Optional, default to None) Print help information. SAW makeRef 构建参考基因组的索引文件，支持 SAW count 分析，需输入 GTF/GFF 注释文件和 FASTA 基因组文件，可以加入 rRNA 信息的 FASTA 文件。 运行方式: saw makeRef [Parameters] --mode --fasta --gtf --genome saw makeRef -h | --help ParameterDescription--mode (Required, default to \"STAR\") Set the mode to build index files, used for the alignment. There are three modes, including STAR, Bowtie2 and Kraken2 for specific analysis scenarios.--fasta (Optional, default to None) Path to FASTA, to build index files. When it comes to multiple FASTAs, they will be integrated in order of input beforehand.--rRNA-fasta (Optional, default to None) Path to rRNA FASTA that will be added to --fasta file, with the elimination of redundant rRNA fragments.--gtf (Optional, default to None) Path to input GTF/GFF to build index files.--basename (Optional, default to \"host\") Basename for Bowtie2 index files when set mode=Bowtie2. If not specified, \"host\" will be used, which straightforwardly means removing host information in the next step.--database (Optional, default to None) Path to Kraken2 reference database. If the parameter works, output index files will be saved in the same directory level.--genome (Optional, default to detected) Path to the output reference genome with index information.--params-config (Optional, default to None) Support direct input of the original command lines of third-party bioinformatical alignment tools, in string format. More in the makeRef tutorial.--params-csv (Optional, default to detected) Path to CSV file, recording detailed parameters to build Bowtie2/Kraken2 index. It works when --mode is set to Bowtie2/Kraken2. More in the makeRef tutorial.--threads-num (Optional, default to 8) Set the number of threads to use.-h, --help(Optional, default to None) Print help information. SAW checkGTF 检查 GTF/GFF 注释文件是否为标准格式。此外，可以从 GTF/GFF 中提取特定的注释信息。 运行方式: saw checkGTF [Parameters] --input-gtf --attribute --output-gtf saw checkGTF -h | --help ParameterDescription--input-gtf (Required, default to None) Path to input GTF/GFF, for a necessary format check.--attribute (Optional, default to None) Extract specific annotation information from GTF/GFF. Input as .--output-gtf (Required, default to None) Path to output GTF/GFF after a necessary check, or additional filtration when performing --attribute.-h, --help(Optional, default to None) Print help information. SAW realign 接回 StereoMap 手动处理后生成的图像文件，重启分析流程。 运行方式: saw realign [Parameters] --id --sn --count-data --realigned-image-tar saw realign -h | --help ParameterDescription-id (Optional, default to None) A unique task id ([a-zA-Z0-9_-]+) which will be displayed as the output folder name and the title of HTML report. If the parameter is absent, --sn will play the same role.--description (Optional, default to None) Description for chip, or sample, or analysis run.--sn (Required, default to None) SN (serial number) of the Stereo-seq chip.--count-data (Required, default to None) Output folder of the corresponding SAW count result, which mainly contains the expression matrices and other related datasets.--realigned-image-tar (Required, default to None) Compressed image file from StereoMap, which has been manually processed, including stitching, tissue segmentation, cell segmentation, calibration and registration.--summary-display-bin-size (Optional, default to 50) Set an appropriate bin size, from [20,50,100], to effectively display the analysis results within the summary tabs of each omics category, including statistical cards, the spatial expression heatmap, and saturation plots.--custom-bin-size (Optional, default to 20,50) A custom bin list (up to 2) to perform analysis, like --custom-bin-size=20,50. It is mainly used for secondary analysis and report presentation. Currently, bin20, 50, 100 are supported, which will be added to. --lasso-geojson (Optional, default to None) Lasso GeoJSON from StereoMap is used for tissue segmentation when the analysis is without images. It is incompatible with --realigned-image-tar.--adjusted-distance (Optional, default to 10) Outspread distance based on the cellular contour of the cell segmentation image, in pixels. Default to 10. If --adjusted-distance=0, the pipeline will not expand the cell border.--extra-image-enhance (Optional, default to 0) Set additional passes of CLAHE-based image enhancement that are applied following the default image processing. The image enhanced by this parameter is utilized for cell segmentation.--no-matrix(Optional, default to None) Whether to output feature expression matrices.--no-report(Optional, default to None) Whether to output HTML report.--skip-cellbin(Optional, default to None) Whether to skip the processing of cellbin level, including image cell segmentation, cell border expansion, clustering based on cellbin expression matrices and so on. This switch is default to be off, to output cellbin analysis results.--skip-clustering(Optional, default to None) Whether to skip the second analysis based on spatial expression matrices, which mainly includes preprocessing, clustering, and differential expression analysis.--create-gem(Optional, default to None) Whether to output feature expression matrices in GEM format, after finishing pipelines.--output (Optional, default to None) Set a specific output directory for the run.--threads-num (Optional, default to 8) Set the number of threads to use.--gpu-id (Optional, default to -1) Set GPU id, according to GPU resources in the computing environment. Default to -1, which means running the pipeline using the CPU. --no-initial-check(Optional, default to None) Skip the initial check before actually performing the analysis. Recommend not to switch on this parameter.--job-mode(Optional, default to local) The job scheduling and resource management system offers two available options, local (default) and sge. It also supports accepting a specified configuration file.-h, --help(Optional, default to None) Print help information. SAW reanalyze 进行数据再分析，包含聚类分析、矩阵套索和差异表达分析等。 运行方式: saw reanalyze [Parameters] --gef --bin-size --marker --output saw reanalyze -h | --help cluster ParameterDescription--gef (Optional, default to None) Input bin GEF file for analysis.--cellbin-gef (Optional, default to None) Input cellbin GEF file for analysis.--bin-size (Optional, default to 200) Bin size for analysis.--Leiden-resolution (Optional, default to 1.0) The resolution parameter controls the coarseness of the clustering when performing Leiden. Higher values lead to more clusters.--marker(Optional, default to None) Whether to perform differential expression analysis.--output (Optional, default to None) Path to the output folder, to save analysis results.--threads-num (Optional, default to 8) Set the number of threads to use. lasso ParameterDescription--gef (Optional, default to None) Input bin GEF file for analysis.--cellbin-gef (Optional, default to None) Input cellbin GEF file for analysis.--bin-size (Optional, default to 200) Bin size for analysis.--lasso-geojson (Optional, default to None) GeoJSON from StereoMap to lasso sub expression matrices of targeted regions.--output (Optional, default to None) Path to the output folder, to save analysis results. diffExp ParameterDescription--count-data (Optional, default to None) Output folder of the corresponding SAW count result, which mainly contains the expression matrices and other related datasets.--diffexp-geojson (Optional, default to None) GeoJSON from StereoMap to analyze differential expression.--output (Optional, default to None) Path to the output folder, to save analysis results. coExp ParameterDescription--gef (Optional, default to None) Expression data in GEF format is used for gene coexpress analysis.--bin-size (Optional, default to None) Set a appropriate bin size to start gene coexpress analysis, when the input matrix is a tissue GEF. If analyze with a cellbin GEF, skip the setting of the parameter.--cellbin-gef (Optional, default to None) Expression data in cellbin GEF format is used for gene coexpress analysis.--top-gene (Required, default to 5000) Top number of highly variable genes, to detect spatial gene patterns.--output (Required, default to None) Path to the output folder, to save analysis results. multiomics ParameterDescription--gef (Optional, default to None) Input protein and gene bin GEF files for analysis, separated by comma.--cellbin-gef (Optional, default to None) Input protein and gene cellbin GEF files for analysis, separated by comma. --bin-size (Optional, default to 200) Bin size for analysis.Recommended to use 20 and 50.--protein-panel (Optional, default to None) Path to a ProteinPanel.list. Not compatible with --ref-libraries.--ref-libraries (Optional, default to None) Path to a ref_libraries.csv which declares protein panel. Not compatible with--protein-panel.--output (Optional, default to None) Path to the output folder, to save analysis results.--gpu-id (Optional, default to -1) Set GPU id, according to GPU resources in the computing environment. Default to -1, which means running the pipeline using the CPU.--threads-num (Optional, default to 8) Set the number of threads to use. midFilter ParameterDescription--gef (Required, default to None) Input bin GEF file for analysis.--mid-json (Required, default to None) JSON from StereoMap to manually filter spatial expression matrixces by MID range.--output (Optional, default to None) Path to the output folder, to save analysis results. removeBackground ParameterDescription--gef (Required, default to None) Input bin protein GEF file for analysis--bin-size (Required, default to None) Bin size for analysis. Recommended to use 20 and 50.--protein-panel (Optional, default to None) Path to a ProteinPanel.list. Not compatible with --ref-libraries.--ref-libraries (Optional, default to None) Path to a ref_libraries.csv which declares protein panel. Not compatible with--protein-panel.--output (Optional, default to None) Path to the output folder, to save analysis results. SAW convert 实现数据格式转换，分析流程下设置子模块用于实现特定的转换需求。 运行方式: saw convert gef2gem [Parameters] --gef --bin-size --marker --gem saw convert -h | --help ParameterDescription--threads-num (Optional, default to 8) Set the number of threads to use.-h, --help(Optional, default to None) Print help information. Matrix related gef2gem ParameterDescription--gef (Required, default to None) Path to input bin GEF file.--bin-size (Optional, default to 1) Bin size used during conversion.--cellbin-gef (Optional, default to None) Path to input cellbin GEF file.--gem (Optional, default to None) Path to output GEM file.--cellbin-gem (Optional, default to None) Path to output cellbin GEM file. gem2gef ParameterDescription--gem (Optional, default to None) Path to input GEM file.--gef (Optional, default to None) Path to output bin GEF file.--cellbin-gem (Optional, default to None) Path to input cellbin GEM file.--cellbin-gef (Optional, default to None) Path to output cellbin GEF file. bin2cell ParameterDescription--gef (Required, default to None) Path to input bin GEF file.--image (Required, default to None) Path to the image of cell segmentation.--cellbin-gem (Required, default to None) Path to output cellbin GEM file.--cellbin-gef (Optional, default to None) Path to output cellbin GEF file. bin2tissue ParameterDescription--gef (Required, default to None) A bin GEF file to extract specific feature expression matrix under the detected tissue region.--image (Optional, default to None) Path to the image of tissue segmentation.--output (Required, default to None) Path to output folder, to save analysis results. gef2h5ad ParameterDescription--gef (Optional, default to None) Path to input bin GEF file.--bin-size (Optional, default to 20) Bin size used during conversion.--cellbin-gef (Optional, default to None) Path to input cellbin GEF file.--h5ad (Required, default to None) Path to output AnnData H5AD file. gem2h5ad ParameterDescription--gem (Optional, default to None) Path to input GEM file.--bin-size (Optional, default to 20) Bin size used during conversion.--cellbin-gem (Optional, default to None) Path to input cellbin GEM file.--h5ad (Required, default to None) Path to output AnnData H5AD file. gef2rds ParameterDescription--gef (Optional, default to None) Path to input bin GEF file.--bin-size (Optional, default to 20) Bin size used during conversion.--cellbin-gef (Optional, default to None) Path to input cellbin GEF file.--rds (Required, default to None) Path to output RDS file. gem2rds ParameterDescription--gem (Optional, default to None) Path to input GEM file.--bin-size (Optional, default to 20) Bin size used during conversion.--cellbin-gem (Optional, default to None) Path to input cellbin GEM file.--rds (Required, default to None) Path to output RDS file. h5ad2rds ParameterDescription--h5ad (Required, default to None) Path to input AnnData H5AD file.--rds (Required, default to None) Path to output RDS file. gef2img ParameterDescription--gef (Required, default to None) Path to input bin GEF.--bin-size (Required, default to 1) Bin size used to plot expression heatmap.--image (Required, default to None) Path to output heatmap image. visualization ParameterDescription--gef (Required, default to None) Path to input raw bin GEF file.--bin-size (Required, default to 1,5,10,20,50,100,150,200) Bin sizes used during conversion.--visualization-gef (Required, default to None) Path to output visualization GEF file. Image related tar2img ParameterDescription--image-tar (Required, default to None) Path to input image compressed tar file.--image (Required, default to None) Path to output folder of images. img2rpi ParameterDescription--image (Required, default to None) Path to images, please note that the order of input images, corresponding to --layers names.--layers (Required, default to None) Layer names, recorded in the output RPI file, should correspond to images individually. Layer names can be set arbitrarily, but follow the format of /, like DAPI/TissueMask.--rpi (Required, default to None) Path to output RPI file. merge ParameterDescription--image (Required, default to None) Path to input images (up to 3), to be merged into one image, in the color order of R-G-B.--merged-image (Required, default to None) Path to output multichannel image. overlay ParameterDescription--image (Required, default to None) Path to image, used to be the base one.--template (Required, default to None) Point information of matrix template.--overlaid-image (Required, default to None) Path to output overlaid image, with the cover of a template. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/pipelines/count/":{"url":"analysis/pipelines/count/","title":"count","keywords":"","body":"countStereo-seq T FFV1.3 & V1.2Stereo-seq N FFPEV1.1 & V1.0Stereo-CITE T FFV1.1 & V1.0count SAW count 是SAW软件的核心分析流程，可以兼容大多数 Stereo-seq FF, Stereo-seq FFPE 和Stereo-CITE FF 数据。输入数据包括芯片mask文件、测序FASTQ、参考基因组和显微镜拍照图像。流程输出Stereo-seq 芯片的空间表达矩阵和分析结果。 根据时空试剂盒产品线的不同，运行分析所需的参数设置也有所区别。在开始分析任务之前，需要注意产品试剂盒的版本信息，选择一个合适的。 Stereo-seq T FF *T 代表 Chip T 芯片 V1.3 & V1.2 Count for Stereo-seq T FF Spatial Gene Expression Stereo-seq N FFPE *N 代表 Chip N 芯片 V1.1 & V1.0 Count for Stereo-seq N FFPE V1.0 Spatial Gene Expression Stereo-CITE T FF *T 代表 Chip T 芯片 V1.1 & V1.0 Count for Stereo-CITE T FF Spatial Gene and Protein Expression © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/pipelines/count/stereo-seq-t-ff.html":{"url":"analysis/pipelines/count/stereo-seq-t-ff.html","title":"Stereo-seq T FF","keywords":"","body":"Stereo-seq T FF时空试剂盒信息输入文件运行 SAW count标准分析流程图像手动处理输出结果Stereo-seq T FF 时空试剂盒信息 SAW支持分析FF (fresh frozen) 样本的时空芯片测试数据，工作流程如下图所示： --kit-version 是开启分析前需要确认的重要信息，可参考 STOmics 的 Stereo-seq 转录组试剂套装使用说明书。 Stereo-seq SolutionStereo-seq Kit--kit-version--sequencing-typeStereo-seq Transcriptomics SolutionV1.2.1\"Stereo-seq T FF V1.2\"\"PE100_50+100\"Stereo-seq Transcriptomics mIF SolutionV1.2\"Stereo-seq T FF V1.2\"\"PE100_50+100\"Stereo-seq Transcriptomics H&E SolutionV1.2.1\"Stereo-seq T FF V1.2\"\"PE100_50+100\"Stereo-seq Transcriptomics Mini Chip SolutionV1.2\"Stereo-seq T FF V1.2\"\"PE100_50+100\"Stereo-seq Large Chip DesignsV1.0\"Stereo-seq T FF V1.2\"\"PE100_50+100\"Stereo-seq Transcriptomics SolutionV1.3\"Stereo-seq T FF V1.3\"\"PE75_50+100\"Stereo-seq Transcriptomics mIF SolutionV1.3\"Stereo-seq T FF V1.3\"\"PE75_50+100\"Stereo-seq Transcriptomics H&E SolutionV1.3\"Stereo-seq T FF V1.3\"\"PE75_50+100\"Stereo-seq Transcriptomics Mini Chip SolutionV1.3\"Stereo-seq T FF V1.3\"\"PE75_50+100\"Stereo-seq Large Chip DesignsV1.3\"Stereo-seq T FF V1.3\"\"PE75_50+100\" *T 代表 Chip T 芯片 根据上面的关系对应表，确认运行 SAW count 分析所需的 --kit-version 参数信息。 输入文件 SAW count 分析流程需要输入以下文件： Stereo-seq Chip T 芯片 mask 文件 (--mask) 时空测序 FASTQ 数据 (--fastqs) --sequencing-type参数信息与 FASTQ 测序数据相关，例：“PE100_50+100”，表示试剂盒采用 100 bp 双端测序方案，read 1 测序读长为 50 bp ，read 2 测序读长为 100 bp。相关信息也可以从试剂套装使用说明书中获取。 显微镜图像支持TIFF或 StereoMap QC模块输出的图像.tar.gz文件 --image参数支持直接输入显微镜拼接大图TIFF --image-tar参数支持输入 StereoMap QC模块输出的图像.tar.gz文件 Reference 包含物种的参考基因组 (FASTA) 和注释文件 (GTF/GFF) (--reference) 参考基因组的索引文件需要预先构建，可使用 SAW makeRef 分析流程会自动对注释文件的格式进行检查，也可以单独调用 SAW checkGTF 进行格式检查 运行 SAW count 根据 SAW 参数命令说明，或直接在命令行中输入 saw count --help，获取可用参数信息。在运行分析流程之前，确认已从 STOmics Cloud 平台下载芯片 mask 文件。 输入数据准备完毕后，根据图像 QC 结果选择合适的操作路径。 标准分析流程 使用 Stereo-seq FF 样本的测序数据进行基因比对和注释，输出空间特征表达矩阵，基于显微镜拍照图像，标准流程调用自动配准、组织分割、细胞分割和细胞修正算法对图像进行处理，结合表达矩阵数据和图像结果进行分析，使用下面的代码命令行开启SAW count分析： 如果是QC失败的图像数据，SAW count将不会在标准分析过程中调用图像算法，仅基于表达矩阵数据进行组织区域的识别。 cd /saw/runs saw count \\ --id= \\ --sn= \\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq T FF V1.3\" \\ --sequencing-type=\"PE75_50+100\" \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/path/to/fastq/folders \\ --reference=/path/to/reference/folder \\ --image-tar=/path/to/image/tar 详细教程请参考 Stereo-seq FF 分析 部分。 图像手动处理 运行一次SAW count 标准分析流程后，可以从结果文件中获取 visualism.tar.gz 文件，下载至本地解压后，可在 StereoMap 中进行可视化查看和手动图像操作。经过一系列手动处理后，新生成的图像 .tar.gz 被传回 SAW realign，重启分析流程。 QC失败的图像数据需要在 StereoMap 中手动进行矩阵和图像之间的配准操作，之后SAW realign重启分析流程，可以基于手动配准后的结果调用图像相关的算法进行分析处理，在此过程中手动处理的其他结果（手动处理得到的组织分割和细胞分割）不会被覆盖。 cd /saw/runs saw realign \\ --id= \\ --sn= \\ --count-data=/path/to/previous/SAW/count/task/folder \\ --realigned-image-tar=/path/to/realigned/image/tar 详细教程请参考 手动图像处理 部分。 输出结果 下面列出了SAW count 的输出文件目录结构和内容： Demo_Mouse_Brain ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz 进一步探究流程输出结果 ： 跳转至HTML报告解读； 熟悉 visualization.tar.gz 可视化文件； 了解输出结果中的各种文件类型。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/pipelines/count/stereo-seq-n-ffpe-v1.0.html":{"url":"analysis/pipelines/count/stereo-seq-n-ffpe-v1.0.html","title":"Stereo-seq N FFPE","keywords":"","body":"Stereo-seq N FFPE时空试剂盒信息输入文件运行 SAW count标准分析流程图像手动处理输出结果Stereo-seq N FFPE 时空试剂盒信息 SAW 支持分析 FFPE (formalin-fixed paraffin-embedded) 样本的时空芯片测试数据，工作流程如下图所示： --kit-version 是开启分析前需要确认的重要信息，可参考 STOmics 的 Stereo-seq 转录组试剂套装使用说明书。 Stereo-seq SolutionStereo-seq Kit--kit-version--sequencing-typeStereo-seq Transcriptomics FFPE SolutionV1.0\"Stereo-seq N FFPE V1.0\"\"PE75_25+59\"Stereo-seq Transcriptomics FFPE SolutionV1.0\"Stereo-seq N FFPE V1.0\"\"PE75_25+62\"Stereo-seq Transcriptomics FFPE SolutionV1.1\"Stereo-seq N FFPE V1.1\"\"PE75_50+100\" *N 代表 Chip N 芯片 根据上面的关系对应表，确认运行 SAW count 分析所需的 --kit-version 参数信息。 输入文件 SAW count分析流程需要输入如下文件： Stereo-seq Chip N 芯片的 mask 文件 (--mask) 时空测序 FASTQ 数据 (--fastqs) --sequencing-type参数信息与 FASTQ 测序数据相关，例：“PE75_25+59”，表示试剂盒采用 75 bp 双端测序方案，read 1 测序读长为 25 bp，read 2 测序读长为 59 bp。相关信息也可以从试剂套装使用说明书中获取。 显微镜图像支持TIFF或 StereoMap QC模块输出的图像.tar.gz文件 --image参数支持直接输入显微镜拼接大图TIFF --image-tar for brightfield or fluorescent image .tar.gz from StereoMap --image-tar参数支持输入StereoMap QC模块输出的图像.tar.gz文件 Reference 包含物种的参考基因组 (FASTA) 和注释文件 (GTF/GFF) (--reference) 参考基因组的索引文件需要预先构建，可使用 SAW makeRef 如果要开展微生物分析，需额外构建索引文件并且提前下载相关的微生物比对数据库 分析流程会自动对注释文件的格式进行检查，也可以单独调用 SAW checkGTF 进行格式检查 运行 SAW count 根据 SAW 参数命令说明，或直接在命令行中输入 saw count --help，获取可用参数信息。在运行分析流程之前，确认已从 STOmics Cloud 平台下载芯片 mask 文件。 输入数据准备完毕后，根据图像 QC 结果选择合适的操作路径。 标准分析流程 使用 Stereo-seq FFPE 样本的测序数据进行基因比对和注释，输出空间特征表达矩阵，基于显微镜拍照图像，标准流程调用自动配准、组织分割、细胞分割和细胞修正算法对图像进行处理，结合表达矩阵数据和图像结果进行分析，使用下面的代码命令行开启 SAW count 分析： 如果是QC失败的图像数据，SAW count将不会在标准分析过程中调用图像算法，仅基于表达矩阵数据进行组织区域的识别。 需要特别注意，FFPE 数据的 H&E 染色图像不会输出细胞分割结果。 cd /saw/runs saw count \\ --id= \\ --sn= \\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq N FFPE V1.0\" \\ --sequencing-type=\"PE75_25+59\" \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/path/to/fastq/folders \\ --reference=/path/to/reference/folder \\ --image-tar=/path/to/image/tar 详细教程请参考 Stereo-seq FF 分析 部分。 图像手动处理 运行一次SAW count 标准分析流程后，可以从结果文件中获取 visualism.tar.gz 文件，下载至本地解压后，可在 StereoMap 中进行可视化查看和手动图像操作。经过一系列手动处理后，新生成的图像 .tar.gz 被传回 SAW realign 重启分析流程。 QC失败的图像数据需要在 StereoMap 中手动进行矩阵和图像之间的配准操作，之后 SAW realign 重启分析流程，可以基于手动配准后的结果调用图像相关的算法进行分析处理，在此过程中手动处理的其他结果（手动处理得到的组织分割和细胞分割）不会被覆盖。 cd /saw/runs saw realign \\ --id= \\ --sn= \\ --count-data=/path/to/previous/SAW/count/task/folder \\ --realigned-image-tar=/path/to/realigned/image/tar 详细教程请参考 手动图像处理 部分。 输出结果 下面列出了SAW count 的输出文件目录结构和内容： Demo_Mouse_Brain ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz 进一步探究流程输出结果 ： 跳转至HTML报告解读； 熟悉 visualization.tar.gz 可视化文件； 了解输出结果中的各种文件类型。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/pipelines/count/stereo-cite-t-ff.html":{"url":"analysis/pipelines/count/stereo-cite-t-ff.html","title":"Stereo-CITE T FF","keywords":"","body":"Stereo-CITE T FF时空试剂盒信息输入文件运行 SAW count标准分析流程手动图像处理输出结果Stereo-CITE T FF 时空试剂盒信息 STOmics Stereo-CITE 蛋白转录组套件旨在同时检测同一组织切片上的全转录组和 100 多重蛋白。SAW 分析来自 Stereo-seq 芯片的新鲜冷冻 (FF) 样本的测序数据。工作流程图如下所示： --kit-version 是开启分析前需要确认的重要信息，可参考 STOmics 的 Stereo-CITE 蛋白转录组试剂套装使用说明书。 Stereo-seq SolutionStereo-CITE Kitlibraries--kit-version--sequencing-typeStereo-CITE Proteo-Transcriptomics SolutionV1.0pooling\"Stereo-CITE T FF V1.0\"\"PE100_50+100\"Stereo-CITE Proteo-Transcriptomics SolutionV1.0sequence Transcriptome and ADT libraries separately\"Stereo-CITE T FF V1.0\"\"PE100_50+100\",\"PE100_50+36\"Stereo-CITE Proteo-Transcriptomics SolutionV1.1pooling\"Stereo-CITE T FF V1.1\"\"PE75_50+100\"Stereo-CITE Proteo-Transcriptomics SolutionV1.1sequence Transcriptome and ADT libraries separately\"Stereo-CITE T FF V1.1\"\"PE75_50+100\", \"PE75_50+36\" *T 代表 Chip T 芯片 根据上面的关系对应表，确认运行 SAW count 分析所需的 --kit-version 参数信息。 输入文件 SAW count 分析流程需要输入以下文件： Stereo-seq Chip T 芯片 mask 文件 (--mask) 时空测序基因表达 FASTQ 数据 (--fastqs) 时空测序 ADT FASTQ 数据 (--adt-fastqs) --sequencing-type参数信息与 FASTQ 测序数据相关，例：“PE100_50+100”，表示试剂盒采用 100 bp 双端测序方案，read 1 测序读长为 50 bp ，read 2 测序读长为 100 bp。相关信息也可以从试剂套装使用说明书中获取。 显微镜图像支持TIFF或 StereoMap QC模块输出的图像.tar.gz文件 --image参数支持直接输入显微镜拼接大图TIFF --image-tar参数支持输入 StereoMap QC模块输出的图像.tar.gz文件 参考库 --ref-libraries ，CSV文件格式，其中包含： 蛋白列表，包括抗体信息，此文件可在蛋白列表找到 转录组reference目录， 包含物种的参考基因组 (FASTA) 和注释文件 (GTF/GFF) 参考基因组的索引文件需要预先构建，可使用 SAW makeRef 分析流程会自动对注释文件的格式进行检查，也可以单独调用 SAW checkGTF 进行格式检查 运行 SAW count 根据 SAW 参数命令说明，或直接在命令行中输入 saw count --help，获取可用参数信息。在运行分析流程之前，确认已从 STOmics Cloud 平台下载芯片 mask 文件。 输入数据准备完毕后，根据图像 QC 结果选择合适的操作路径。 标准分析流程 使用 Stereo-CITE FF 样本的测序数据进行比对和注释，输出空间特征表达矩阵，基于显微镜拍照图像，标准流程调用自动配准、组织分割、细胞分割和细胞修正算法对图像进行处理，结合表达矩阵数据和图像结果进行分析，使用下面的代码命令行开启SAW count分析： 如果是QC失败的图像数据，SAW count将不会在标准分析过程中调用图像算法，仅基于表达矩阵数据进行组织区域的识别。 cd /saw/runs saw count \\ --id= \\ --sn= \\ --omics=transcriptomics,proteomics \\ --kit-version=\"Stereo-CITE T FF V1.0\" \\ --sequencing-type=\"PE100_50+100\" \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/saw/datasets/STOmics-RNA-fastqs \\ --adt-fastqs=/saw/datasets/STOmics-ADT-fastqs \\ --ref-libraries=/saw/datasets/reference/ref_libraries.csv \\ --image-tar=/path/to/image/tar 详细教程请参考 Stereo-CITE FF 分析 部分。 手动图像处理 运行一次SAW count 标准分析流程后，可以从结果文件中获取 visualization.tar.gz 文件，下载至本地解压后，可在 StereoMap 中进行可视化查看和手动图像操作。经过一系列手动处理后，新生成的图像 .tar.gz 被传回 SAW realign，重启分析流程。 QC失败的图像数据需要在 StereoMap 中手动进行矩阵和图像之间的配准操作，之后SAW realign重启分析流程，可以基于手动配准后的结果调用图像相关的算法进行分析处理，在此过程中手动处理的其他结果（手动处理得到的组织分割和细胞分割）不会被覆盖。 cd /saw/runs saw realign \\ --id= \\ --sn= \\ --count-data=/path/to/previous/SAW/count/task/folder \\ --realigned-image-tar=/path/to/realigned/image/tar 详细教程请参考 手动图像处理 部分。 输出结果 下面列出了SAW count 的输出文件目录结构和内容： Demo_Mouse_Thymus ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz 进一步探究流程输出结果 ： 跳转至HTML报告解读； 熟悉 visualization.tar.gz 可视化文件； 了解输出结果中的各种文件类型。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/":{"url":"analysis/outputs/","title":"输出结果","keywords":"","body":"输出结果SAW count 输出结果SAW realign 输出结果输出结果 SAW count 输出结果 SAW count 是处理 FASTQ 测序数据的 的核心分析流程，通常会包含显微镜图像。如果你不熟悉 SAW 分析流程的输出结果，以下内容将带你了解一些基本知识。 如果找到SAW分析的输出目录？ SAW count 分析任务通常在工作目录下执行，在该目录下，将找到一个名为 --id 或 --sn（当--id参数没有启用时）的文件夹。 输出结果下面的文件夹都是什么？ 输出目录下的文件夹主要包含三部分： /outs - 主要的分析输出结果，按照数据类型进行分类整理； /pipeline-logs - 分析流程的日志文件和相关配置文件； /STEREO_ANALYSIS_WORKFLOW_PROCESSING - 中间环节、临时文件，统计信息文件和单程序模块的日志文件。 主要的分析输出结果中都包含什么文件？ SAW count 分析任务运行结束后，输出的结果文件依据其数据类型被分类。主要输出文件保存在 /outs文件夹下，方便分析人员更快速找到目标文件。 Main output files 什么是 HTML 报告？ HTML 报告汇总展示了分析过程中的统计信息，以及分析结果，以呈现 SAW count 任务运行的总体情况，更多解读请参见HTML报告详情页。 什么是可视化 visualization.tar.gz 文件？ 可视化图像压缩包文件集成了 StereoMap 中结果展示所需的数据文件，其中主要包括空间表达矩阵、下游分析文件和图像相关文件。下面为一个简单的示例： visualization ├── C04042E3.adjusted.cellbin.gef ├── C04042E3.bin20_1.0.h5ad ├── C04042E3.bin50_1.0.h5ad ├── C04042E3.cellbin_1.0.adjusted.h5ad ├── C04042E3.rpi ├── C04042E3_SC_20240930_141410_4.1.0.tar.gz ├── C04042E3.stereo ├── C04042E3.tissue.gef └── HE_matrix_template.txt SAW realign 输出结果 与 SAW count 的输出结果相比有何不同？ SAW realign 使用 --count-data 参数来获取reads比对、注释和空间表达矩阵相关的信息。经过手动处理的图像 .tar.gz 文件可以输出调整后的图像数据，协助分析流程生成组织和细胞维度的表达矩阵，具体结果取决于图像 .tar.gz 文件中所记录的手动处理信息。 能否通过SAW realign 分析流程输出 HTML 报告？ 当然！ 你可以通过输入手动处理后的图像.tar.gz文件，运行SAW realign重启分析流程。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/count-outputs.html":{"url":"analysis/outputs/count-outputs.html","title":"count 输出结果","keywords":"","body":"count 输出结果目录概览空间基因表达相关空间蛋白表达相关 图像HTML报告和可视化visualization.tar.gz.stereocount 输出结果 目录概览 SAW count 分析任务通常在工作目录下开启，在该目录下，将找到一个名为 --id 或 --sn（当--id参数没有启用时）的文件夹。输出结果依据数据类型被分类，主要文件被保存在 /outs下。 分析流程输出的具体文件取决于： SAW软件的版本 分析流程的选择，SAW count 或 SAW realign 是否加入显微镜图像进行分析 特定的分析参数设置 ... 空间基因表达相关 完成 Stereo-seq T FF ，Stereo-seq N FFPE 和 Stereo-CITE T FF 组织样本的SAW count分析任务后，可以在 outs/ 目录下找到以下文件： Directory/File NameDescriptionbam/Files in BAM format.annotated_bam/BAM file after alignment and annotation..*.bamIndexed BAM file containing position-sorted reads mapped to CIDs, aligned to the genome, and annotated with GTF/GFF..*.bam.csiIndex for .*.bam. feature_expression/Feature expression matrices in HDF5 format at different dimensions..raw.gefFeature expression matrix includes the whole information over a complete chip region. It only has bin1 expression counts. .tissue.gefFeature expression matrix under the tissue coverage region. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..cellbin.gefCellbin feature expression matrix records the information of cells individually, including the centroid coordinate, boundary coordinates, expression of genes, and cell area..adjusted.cellbin.gefCellbin expression matrix with cell border expanding, based on __mask_edm_dis_.tif..merge.barcodeReadsCount.txtA mapped CID list file with read counts for each CID, including three columns (x, y, count)._raw_barcode_gene_exp.txtAn annotated list file with the information of coordinate, gene, MID, read counts, which is prepared to be a sampling file that performs sequence saturation.analysis/Secondary analysis files..bin20_1.0.h5ad & .bin50_1.0.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, based on .tissue.gef. This output H5AD is named in the format of ._.h5ad. In the file name, stands for the Stereo-seq chip serial number, for bin size, and for the resolution of Leiden clustering..bin20_1.0.marker_features.csv & .bin50_1.0.marker_features.csv Format-integrated differential expression analysis results, using .tissue.gef of bin20 and bin50..cellbin_1.0.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .cellbin.gef..cellbin_1.0.marker_features.csvFormat-integrated differential expression analysis results, using .cellbin.gef..cellbin_1.0.adjusted.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .adjusted.cellbin.gef..cellbin_1.0.adjusted.marker_features.csvFormat-integrated differential expression analysis results, using .adjusted.cellbin.gef. 空间蛋白表达相关 完成 Stereo-CITE T FF 组织样本的SAW count分析任务后，可以在 outs/ 目录下找到以下文件： Directory/File NameDescriptionfeature_expression/Feature expression matrices in HDF5 format at different dimensions..protein.raw.gefFeature expression matrix includes the whole information over a complete chip region. It only has bin1 expression counts. .protein.tissue.gefFeature expression matrix under the tissue coverage region. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..protein.cellbin.gefCellbin feature expression matrix records the information of cells individually, including the centroid coordinate, boundary coordinates, expression of genes, and cell area..protein.adjusted.cellbin.gefCellbin expression matrix with cell border expanding, based on __mask_edm_dis_.tif..protein.tissue.rmbg.gem.gzFeature expression matrix from automatic protein background removal. It shows bin1 expression counts. _cid_pid_mid_reads.tsvA list file with coordinate, PID, MID, and read counts, which is prepared to be a sampling file that performs sequence saturation for all proteins. _valid_cid_reads.tsvA mapped CID list file from all ADT FASTQs, with read counts for each CID, including three columns (x, y, count).analysis/Secondary analysis files..protein.bin20_0.1.h5ad & .protein.bin50_0.1.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, based on .protein.tissue.gef. This output H5AD is named in the format of ._.h5ad. In the file name, stands for the Stereo-seq chip serial number, for bin size, and for the resolution of Leiden clustering..protein.cellbin_0.1.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .protein.cellbin.gef..protein.cellbin_0.1.adjusted.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .protein.adjusted.cellbin.gef. 图像 Directory/File NameDescriptionimage/Images are generated from automatic or manual workflows.__regist.tifThe panoramic image after the registration with .raw.gef matrix.__tissue_cut.tifThe tissue segmentation image, based on the aligned panoramic image.__mask.tifThe cell segmentation image, based on the aligned panoramic image.__mask_edm_dis_.tifThe adjusted image, based on the cell segmentation image HTML报告和可视化 Directory/File NameDescription.report.htmlAnalysis summary report of metrics and plots in HTML format.visualization.tar.gzStereoMap visualization file to presentation and manual processing..stereoA manifest file in JSON format includes experiment and pipeline information, basic analysis statistics, and references to image and spatial matrix files in the SAW output visualization file folder. visualization.tar.gz 可视化压缩文件内集成了 StereoMap 展示所需的文件，一个解压后的示例文件如下： visualization ├── C04042E3.adjusted.cellbin.gef ├── C04042E3.bin20_1.0.h5ad ├── C04042E3.bin20_1.0.marker_features.csv ├── C04042E3.bin50_1.0.h5ad ├── C04042E3.bin50_1.0.marker_features.csv ├── C04042E3.cellbin_1.0.adjusted.h5ad ├── C04042E3.cellbin_1.0.adjusted.marker_features.csv ├── C04042E3.rpi ├── C04042E3_SC_20240930_141410_4.1.0.tar.gz ├── C04042E3.stereo ├── C04042E3.tissue.gef └── HE_matrix_template.txt 来自 Stereo-CITE 分析的输出可视化压缩文件，解压后的示例： visualization ├── A02677B5.adjusted.cellbin.gef ├── A02677B5.bin20_1.0.h5ad ├── A02677B5.bin20_1.0.marker_features.csv ├── A02677B5.bin50_1.0.h5ad ├── A02677B5.bin50_1.0.marker_features.csv ├── A02677B5.cellbin_1.0.adjusted.h5ad ├── A02677B5.cellbin_1.0.adjusted.marker_features.csv ├── A02677B5.protein.adjusted.cellbin.gef ├── A02677B5.protein.bin20_0.1.h5ad ├── A02677B5.protein.bin50_0.1.h5ad ├── A02677B5.protein.cellbin_0.1.adjusted.h5ad ├── A02677B5.protein.tissue.gef ├── A02677B5.rpi ├── A02677B5_SC_20240930_094017_4.1.0.tar.gz ├── A02677B5.stereo ├── A02677B5.tissue.gef └── DAPI_matrix_template.txt .stereo .stereo 是一个JSON格式的统领文件，里面记录了： SAW分析流程的基本信息 组织样本的相关信息 基本分析统计结果 StereoMap所需的图像相关和矩阵相关的文件信息 *文件详细介绍在 “输出结果” 下的各部分说明中可以找到 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/realign-outputs.html":{"url":"analysis/outputs/realign-outputs.html","title":"realign 输出结果","keywords":"","body":"realign 输出结果目录概览空间基因表达相关空间蛋白表达相关图像HTML报告和可视化visualization.tar.gz.stereorealign 输出结果 目录概览 SAW realign 分析任务通常在工作目录下开启，在该目录下，将找到一个名为 --id 或 --sn（当--id参数没有启用时）的文件夹。输出结果依据数据类型被分类，主要文件被保存在 /outs下。 分析流程输出的具体文件取决于： SAW软件的版本 分析流程的选择，SAW count 或 SAW realign 是否加入显微镜图像进行分析 特定的分析参数设置 ... 表达矩阵相关的数据和结果来自于上一次 SAW count 的输出，通过--count-data参数传递信息。 空间基因表达相关 完成 Stereo-seq T FF 和 Stereo-seq N FFPE 组织样本的 SAW realign 分析任务后，可以在 outs/ 目录下找到以下文件： Directory/File NameDescriptionbam/Files in BAM format.annotated_bam/BAM file after alignment and annotation..*.bamIndexed BAM file containing position-sorted reads mapped to CIDs, aligned to the genome, and annotated with GTF/GFF..*.bam.csiIndex for .*.bam. feature_expression/Feature expression matrices in HDF5 format at different dimensions..raw.gefFeature expression matrix includes the whole information over a complete chip region. It only has bin1 expression counts. .tissue.gefFeature expression matrix under the tissue coverage region. It is also a visualization GEF which includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..cellbin.gefCellbin feature expression matrix records the information of cells individually, including the centroid coordinate, boundary coordinates, expression of genes, and cell area..adjusted.cellbin.gefCellbin expression matrix with cell border expanding, based on __mask_edm_dis_.tif..merge.barcodeReadsCount.txtA mapped CID list file with read counts for each CID, including three columns (x, y, count)._raw_barcode_gene_exp.txtAn annotated list file with the information of coordinate, gene, MID, read counts, which is prepared to be a sampling file that performs sequence saturation.analysis/Secondary analysis files..bin20_1.0.h5ad & .bin50_1.0.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, based on .tissue.gef. This output H5AD is named in the format of ._.h5ad. In the file name, stands for the Stereo-seq chip serial number, for bin size, and for the resolution of Leiden clustering..bin20_1.0.marker_features.csv & .bin50_1.0.marker_features.csvFormat-integrated differential expression analysis results, using .tissue.gef of bin20 and bin50..cellbin_1.0.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .cellbin.gef..cellbin_1.0.marker_features.csvFormat-integrated differential expression analysis results, using .cellbin.gef..cellbin_1.0.adjusted.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .adjusted.cellbin.gef..cellbin_1.0.adjusted.marker_features.csvFormat-integrated differential expression analysis results, using .adjusted.cellbin.gef. 空间蛋白表达相关 Directory/File NameDescriptionfeature_expression/Feature expression matrices in HDF5 format at different dimensions..protein.raw.gefFeature expression matrix includes the whole information over a complete chip region. It only has bin1 expression counts. .protein.tissue.gefFeature expression matrix under the tissue coverage region. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..protein.cellbin.gefCellbin feature expression matrix records the information of cells individually, including the centroid coordinate, boundary coordinates, expression of genes, and cell area..protein.adjusted.cellbin.gefCellbin expression matrix with cell border expanding, based on __mask_edm_dis_.tif..protein.tissue.rmbg.gem.gzFeature expression matrix from automatic protein background removal. It shows bin1 expression counts. SN>_cid_pid_mid_reads.tsvA list file with coordinate, PID, MID, and read counts, which is prepared to be a sampling file that performs sequence saturation for all proteins. _valid_cid_reads.tsvA mapped CID list file from all ADT FASTQs, with read counts for each CID, including three columns (x, y, count).analysis/Secondary analysis files..protein.bin20_0.1.h5ad & .protein.bin50_0.1.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, based on .protein.tissue.gef. This output H5AD is named in the format of .protein._.h5ad. In the file name, stands for the Stereo-seq chip serial number, for bin size, and for the resolution of Leiden clustering..protein.cellbin_0.1.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .protein.cellbin.gef..protein.cellbin_0.1.adjusted.h5adAn AnnData H5AD records preprocessing, filtering, normalization, dimensionality reduction, clustering and differential expression analysis, using .protein.adjusted.cellbin.gef. 图像 Directory/File NameDescriptionimage/Images are generated from automatic or manual workflows.__regist.tifThe panoramic image after the registration with .raw.gef matrix.__tissue_cut.tifThe tissue segmentation image, based on the aligned panoramic image.__mask.tifThe cell segmentation image, based on the aligned panoramic image.__mask_edm_dis_.tifThe adjusted image, based on the cell segmentation image HTML报告和可视化 Directory/File NameDescription.report.htmlAnalysis summary report of metrics and plots in HTML format.visualization.tar.gzStereoMap visualization file to presentation and manual processing..stereoA manifest file in JSON format includes experiment and pipeline information, basic analysis statistics, and references to image and spatial matrix files in the SAW output visualization file folder. visualization.tar.gz 可视化压缩文件内集成了 StereoMap 展示所需的文件，一个解压后的示例文件如下： visualization ├── C04042E3.adjusted.cellbin.gef ├── C04042E3.bin20_1.0.h5ad ├── C04042E3.bin20_1.0.marker_features.csv ├── C04042E3.bin50_1.0.h5ad ├── C04042E3.bin50_1.0.marker_features.csv ├── C04042E3.cellbin_1.0.adjusted.h5ad ├── C04042E3.cellbin_1.0.adjusted.marker_features.csv ├── C04042E3.rpi ├── C04042E3_SC_20240930_141410_4.1.0.tar.gz ├── C04042E3.stereo ├── C04042E3.tissue.gef └── HE_matrix_template.txt 来自 Stereo-CITE 分析的输出可视化压缩文件，解压后的示例： visualization ├── A02677B5.adjusted.cellbin.gef ├── A02677B5.bin20_1.0.h5ad ├── A02677B5.bin20_1.0.marker_features.csv ├── A02677B5.bin50_1.0.h5ad ├── A02677B5.bin50_1.0.marker_features.csv ├── A02677B5.cellbin_1.0.adjusted.h5ad ├── A02677B5.cellbin_1.0.adjusted.marker_features.csv ├── A02677B5.protein.adjusted.cellbin.gef ├── A02677B5.protein.bin20_0.1.h5ad ├── A02677B5.protein.bin50_0.1.h5ad ├── A02677B5.protein.cellbin_0.1.adjusted.h5ad ├── A02677B5.protein.tissue.gef ├── A02677B5.rpi ├── A02677B5_SC_20240930_094017_4.1.0.tar.gz ├── A02677B5.stereo ├── A02677B5.tissue.gef └── DAPI_matrix_template.txt .stereo .stereo 是一个JSON格式的统领文件，里面记录了： SAW分析流程的基本信息 组织样本的相关信息 基本分析统计结果 StereoMap所需的图像相关和矩阵相关的文件信息 *文件详细介绍在 “输出结果” 下的各部分说明中可以找到 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/html-report.html":{"url":"analysis/outputs/html-report.html","title":"HTML report","keywords":"","body":"HTML reportGene SummarySquare BinCell BinImageSummaryMicrobeSummaryProteinSummarySquare BinCell BinAlertsHTML report *The interpretation of the HTML report is only available in EN. SAW count and SAW realign pipelines will output an interactive report .report.html . The contents of the HTML report file will vary depending on the pipeline and parameters used but generally follow a similar format across runs. On this page, we partly demonstrate the reports of a mouse brain sample from Stereo-seq T FF V1.3, a mouse lung tissue sample from Stereo-seq N FFPE V1.0, and a mouse spleen tissue sample from Stereo-CITE T FF V1.1. From SAW 8.2, the HTML report interface has undergone a significant UI upgrade, along with optimizations to the hierarchical structure and information layout. For the first time, results are presented from a multi-omics and multi-modal perspective, with primary navigation tabs such as Gene, Protein, Microbe, and Image to integrate and organize information effectively. Gene Summary Expression heatmap and four key metrics Display of microscope image The spatial gene expression distribution plot, containing all bins and bins under tissue, on the left, shows MID count at each bin50. Total Reads is the amount of total sequencing reads of input FASTQs. Mean MID per Bin50 and Mean Gene per Bin50 represent the mean MID and gene type counts at each bin50 under the detected tissue region. Total Genes is the number of gene types from all bins. Gene key metrics Details and sunburst plot of key metrics Gene key metrics of the data are listed: MetricDescriptionTotal Reads (Gene)Number of total transcriptome sequenced reads.Valid CID ReadsNumber of reads with CID (coordinate ID) sequences matched to the Stereo-seq chip.Invalid CID ReadsNumber of reads with CID (coordinate ID) sequences not matched to the Stereo-seq chip.Clean ReadsNumber of reads that have passed the filtering steps.Non-Relevant Short ReadsNumber of non-relevant short reads, i.e. the reads contain specific sequences of chip DNB, or have a length of less than 30bp after the removal of adapters and polyA tails.Discarded MID ReadsNumber of reads with invalid MID (Molecular ID), i.e. MID sequences contain Ns or more than 1 low quality base (Q-score Confidently Mapped ReadsNumber of reads mapped to a single region on the genome with high confidence, i.e. this item usually includes the reads uniquely mapped to the genome, as well as the best alignment among multi-mapped reads. It is affected by the setting of the --uniquely-mapped-only option.TranscriptomeNumber of reads that can be mapped to the transcripts of a single gene.Unique ReadsNumber of annotated reads with unique gene ID, CID (Coordinate ID), MID (Molecule ID), i.e. the reads are not PCR duplicatedSequencing SaturationNumber of annotated reads corrected by MAPQ with duplicated MIDs.Unannotated ReadsNumber of reads that cannot be mapped to the transcripts of any gene or only a single gene.Multi-Mapped ReadsNumber of reads that can be mapped to multiple positions on the genome with the same high confidence level, excluding the best matching ones. It is affected by the setting of the --uniquely-mapped-only option.Unmapped ReadsNumber of reads that cannot be mapped to the reference genome.rRNA ReadsNumber of reads mapped to specific rRNA regions, according to the input reference. Annotation Metrics of reads to be annotated by GTF/GFF files. MetricDescriptionExonicNumber of reads that can be confidently mapped to an exonic region and on the same strand of the gene.IntronicNumber of reads that can be confidently mapped to an intronic region and on the same strand of the gene.IntergenicNumber of reads mapped to an intergenic region and on the same strand of the genome.AntisenseNumber of reads mapped to the transcriptome but on the opposite strand of the annotated gene. Tissue region Metrics related to tissue coverage are listed: MetricDescriptionTissue AreaDetected tissue area in mm².MID Under TissueMID count under tissue. The detected tissue region depends on the automatic/manual tissue segmentation.Fraction MID in Spots Under TissueFraction of MID under tissue over total unique reads (Number of MID Under Tissue / Unique Reads). Sequencing saturation Sequencing saturation curves The saturation analysis in the HTML report can assess the overall quality of the sequencing data. In order to improve calculation efficiency, small samples are randomly selected from successfully annotated reads in the bin20 or bin50 dimension. Therefore, the results of multiple runs of the same data may vary slightly. The formulas may not be identical, but the general shape of the curve is consistent. Figure 1: As the number of random samples increases, the gene median in the bin20 dimension gradually increases. Figure 2: Curves fitted based on Unique Reads data from randomly sampled samples. Figure 3: Statistics of Unique Reads (reads with unique CID, geneName and MID) in the sampled samples, saturation value = 1-(Unique Reads)/(Total Annotated Reads), as the sampling volume increases, the fitting curve becomes near-flat, indicating that the data tends to be saturated. Whether to add additional tests depends on the overall project design and sample conditions. For example, it is recommended that additional tests be performed on precious samples. The threshold value of 0.8 in the report serves as a reminder for recommended guidance. The x-axis of the three graphs is the same, and the y-axis is divided into saturation value, gene median, and number of Unique Reads. Sample information This item displays the basic information of the input datasets. MetricDescriptionSample IDID for this HTML report.OrganismOrganism information of the sample.TissueTissue type of the sample.ReferenceReference used for reads alignment and annotation.Kit VersionVersion of the Stereo-seq product kit.Sequencing TypeSequencing type for the Stereo-seq product kit.Stereo-seq Chip SNThe serial number of the Stereo-seq chip.FASTQDetailed information of input FASTQ files. Square Bin This page contains statistics, plots, clustering, UMAP, and differential expression analysis results, at bin dimension. Results come from the analysis based on .tissue.gef file. This sub-page will display the analysis result of bin20 and bin50 by default, which depends on --custom-bin-size when you start SAW count/realign. Statistics Statistics of bins under tissue-coverage region The above table records the statistics for bin20, bin50, and bin100: ItemDescriptionBin SizeA unit bin, referred to as an expression spot, is used to aggregate DNBs (on the Stereo-seq chip) within a square region (i.e., bin20 = 20 x 20 DNBs).Mean Reads (per bin)Average number of sequenced reads within a binN (under detected tissue region).Median Reads (per bin)Median number of sequenced reads within a binN (under detected tissue region).Mean Gene Type (per bin)Average number of gene type within a binN (under detected tissue region).Median Gene Type (per bin)Median number of gene type within a binN (under detected tissue region).Mean MID (per bin)Average number of MID count within a binN (under detected tissue region).Median MID (per bin)Median number of MID count within a binN (under detected tissue region). Plots Distribution plots of MID and gene type Violin plots show the distribution of deduplicated MID count and gene types in each bin. Clustering & UMAP Leiden clustering and UMAP projection Clustering is performed based on SN.tissue.gef using the Leiden algorithm. UMAP projections are performed based on SN.tissue.gef and colored by automated clustering. The same color is assigned to spots that are within a shorter distance and with similar gene expression profiles. Note that this part will present the results of certain large-sized Stereo-seq chips through downsampling to reduce file size, minimize spot overlap, and ensure a smooth display, especially in cases where there are an excessive number of spots to visualize. We discovered that when the number of spots in the graph exceeds one million, it significantly impacts both the visual mapping quality and file reading performance. Consequently, we implemented downsampling. A smaller bin size requires a greater number of spots for effective mapping. For detailed information regarding the downsampling ratio and step size, please refer to the report module log. If you want to conduct in-depth data visualization and downstream analysis, StereoMap is a better choice. Differential expression analysis Marker feature table The goal of the differential expression analysis is to identify markers that are more highly expressed in a cluster than the rest of the sample. For each marker, a differential expression test was run between each cluster and the remaining sample. An estimate of the log2 ratio of expression in a cluster to that in other coordinates is Log2 fold-change (L2FC). A value of 1.0 denotes a 2-fold increase in expression within the relevant cluster. Based on a negative binomial test, the p-value indicates the expression difference's statistical significance. The Benjamini-Hochberg method has been used to correct the p-value for multiple testing. Additionally, the top N features by L2FC for each cluster were kept after features in this table were filtered by (Mean UMI counts > 1.0). Grayed-out features have an adjusted p-value >= 0.10 or an L2FC When the values of L2FC in the marker feature table are blank, \"infinity\" and \"-infinity\", the analysis results are normal. These conditions are well explained below. The calculation of L2FC is related to the expression number of cells of a certain gene in the case group and the control group. Since the calculation of L2FC uses the natural logarithm as the base, when the expression relationship has extremely high or low values, the three special values, none, \"inf\" and \"-inf\", will appear. The screenshot below uses inf and a constant to make a simple demonstration. An example in Notebook using Python The p-values should be increasing as the list descends (with a maximum of 1), infinitely close to 0. If you find that the p-value is 0 in the result table, it may be because the calculated differential expression feature is extremely significant, leading to an extremely small p-value. This can exceed the limit of the data type (usually float64, depending on the basic computing package), resulting in a situation that cannot be expressed in scientific notation. Cell Bin This page contains results of statistics, plots, clustering, UMAP, and differential expression analysis, at cellbin dimension. Cell border expanding is automatically performed during SAW count and SAW realign, which means the contents of \"Cell Bin\" tab are based on SN.adjusted.cellbin.gef. When it comes to --adjusted-distance=0 in SAW realign, all contents of this tab are based on SN.cellbin.gef. Statistics Detailed statistics of cellbin The above table records the statistics of cellbin: ItemDescriptionCell CountDetected cell numbers with MID count>=1.Mean Cell AreaMean cell area in μm², excluding cells with MID count=0.Median Cell AreaMedian cell area in μm², excluding cells with MID count=0.Mean Gene TypeMean gene type per cell, excluding cells with MID count=0.Median Gene TypeMedian gene type per cell, excluding cells with MID count=0.Mean MIDMean MID count per cell, excluding cells with MID count=0.Median MIDMedian MID count per cell, excluding cells with MID count=0. Plots Distribution plots of MID, gene type and cell area Violin plots show the distribution of deduplicated MID count, gene types and cell area in the cellbin. Clustering & UMAP Leiden clustering and UMAP projection Clustering is performed based on SN.adjusted.cellbin.gef or SN.cellbin.gef, using the Leiden algorithm. UMAP projections are performed based on SN.adjusted.cellbin.gef or SN.cellbin.gef, and colored by automated clustering. The same color is assigned to spots that are within a shorter distance and with similar gene expression profiles. Note that this part will present the results of certain large-sized Stereo-seq chips through downsampling to reduce file size, minimize spot overlap, and ensure a smooth display, especially in cases where there are an excessive number of spots to visualize. We discovered that when the number of spots in the graph exceeds one million, it significantly impacts both the visual mapping quality and file reading performance. Consequently, we implemented downsampling. A smaller bin size requires a greater number of spots for effective mapping. For detailed information regarding the downsampling ratio and step size, please refer to the report module log. If you want to conduct in-depth data visualization and downstream analysis, StereoMap is a better choice. Differential expression analysis Marker feature table The goal of the differential expression analysis is to identify markers that are more highly expressed in a cluster than the rest of the sample. For each marker, a differential expression test was run between each cluster and the remaining sample. An estimate of the log2 ratio of expression in a cluster to that in other coordinates is Log2 fold-change (L2FC). A value of 1.0 denotes a 2-fold increase in expression within the relevant cluster. Based on a negative binomial test, the p-value indicates the expression difference's statistical significance. The Benjamini-Hochberg method has been used to correct the p-value for multiple testing. Additionally, the top N features by L2FC for each cluster were kept after features in this table were filtered by (Mean UMI counts > 1.0). Grayed-out features have an adjusted p-value >= 0.10 or an L2FC Interpretation for exceptional cases related to differential expression analysis can be found under Square Bin part. Image Summary Image information Basic information about the microscopic staining image, usually involving microscope settings. QC MetricDescriptionImage QC versionVersion of Image QC module.QC PassWhether the image(s) has passed the quality check of Image QC module.Trackline ScoreA reference score for evaluating whether the detected tracklines can be utilized for image stitching and registration with the gene expression matrix. (Note that the score only evaluates whether the program has detected tracklines in the image. It does not infer the clarity of the lines or the images.) Registration MetricDescriptionScaleXThe horizontal scale factor (calculated by the image algorithms) between the microscope image and the trackline template.ScaleYThe vertical scale factor (calculated by the image algorithms) between the microscope image and the trackline template.RotationThe rotational transformation of N degress (calculated by the image algorithms) maps the microscope image onto the trackline template.FlipIndicate whether the image has been flipped horizontally.Image X OffsetOffset between microscope image and gene expression matrix in horizontal direction.Image Y OffsetOffset between microscope image and gene expression matrix in vertical direction.Counter Clockwise RotationThe angle of rotation in a counter clockwise direction.Manual ScaleXThe horizontal scale factor (modified by manual processing) between the microscope image and the trackline template.Manual ScaleYThe vertical scale factor (modified by manual processing) between the microscope image and the trackline template.The vertical scaling factor based on the raw image center (manual-registration)Manual RotationThe rotational transformation of N degress (modified by manual processing) maps the microscope image onto the feature expression matrix.Matrix X OffsetX-axis starting point of the feature expression matrix.Matrix Y OffsetY-axis starting point of the feature expression matrix.Matrix HeightHeight of the feature expression matrix.Matrix WidthWidth of the feature expression matrix. Tissue detection and alignment Observation of alignment between matrix and image These thumbnail images are the four corners of the detected tissue region.The thumbnail display of the registration details, allows you to observe whether the image has been properly aligned with the matrix. Inspect the crosslines derived from the matrix to verify if they correspond with the tracklines on the microscope image. Microbe Summary Here is an another FFPE tissue sample of mouse lung which is especially for microorganism analysis. Microorganism heatmap under tissue region and four key metrics Display of microscope image The distribution plot of microorganism spatial expression, on the left, shows MID count at bin50. Microbe key metrics Mapping results of Bowtie2 and Kraken2 MetricDescriptionUnmapped ReadsUnmapped Reads are generated from transcriptome alignment, as input data for the microorganism detection.Non-Host Source ReadsNumber of reads that cannot be aligned to the host genome. Denoising is conducted using Bowtie2.Host Source ReadsNumber of reads that can be aligned to the host genome during the denoising.Non-Host Source Reads (Under Tissue)Number of reads that cannot be aligned to the host genome and located in the region of tissue detection. Denoising is conducted using Bowtie2.Unclassified ReadsNumber of unclassified reads, based on the input taxonomy database.Microbe MIDsNumber of MIDs assigned to bacteria, fungi or viruses.Microbe DuplicationNumber of the reads assigned to bacteria, fungi or viruses that have been corrected due to duplicated MID.OthersNumber of reads mapped to other microbes, excluding bacteria, fungi and viruses, or host-suspicious ones. Top 10 Phyla Microbes proportion at phylum level The main proportion of microbes at the phylum level. *the same for other classifications Protein Summary Expression heatmap and four key metrics Display of microscope image The spatial protein expression distribution plot, containing all bins and bins under tissue, on the left, shows MID count at each bin200. Total Reads is the total sequencing reads of input sequencing ADT FASTQs. Valid CID reads represents the number of reads with CIDs matching the mask file, with MIDs passing QC. Valid PID reads represents the number of reads that are mapped to the PID sequence in the protein panel. Unique PID reads represents the total number of unique protein reads (PID reads whose MIDs are different). Protein key metrics Details and sunburst plot of key metric Key metrics of the data are listed: MetricsDescriptionTotal Reads (Protein)Number of total proteome sequenced reads.Valid CID ReadsNumber of reads with CID (coordinate ID) seuqences that can be matched to the Stereo-seq chip.Invalid CID ReadsNumber of reads with CID (coordinate ID) seuqences that cannot be matched to the Stereo-seq chip.Valid PID ReadsNumber of reads that can be mapped to the PID (protein ID) sequences, based on the input PID list.Invalid PID ReadsNumber of reads that cannot be mapped to the PID (protein ID) sequences, based on the input PID list.Unique PID ReadsNumber of protein reads mapped to the PID (protein ID) list after PCR deduplication, with unique PID, CID (coordinate ID) and MID (Molecule ID).Sequencing SaturationNumber of protein reads with PCR duplication. Sequencing saturation Sequencing saturation curves The saturation analysis in the HTML report can assess the overall quality of the sequencing data. In order to improve calculation efficiency, small samples are randomly selected from successfully annotated reads in the bin20 or bin50 dimension. Therefore, the results of multiple runs of the same data may vary slightly. The formulas may not be identical, but the general shape of the curve is consistent. Figure 1: Curves fitted based on Unique Reads data from randomly sampled samples. Figure 2: Statistics of Unique Reads (reads with unique CID, PID and MID) in the sampled samples, saturation value = 1-(Unique Reads)/(Valid PID Reads), as the sampling volume increases, the fitting curve becomes near-flat, indicating that the data tends to be saturated. Whether to add additional tests depends on the overall project design and sample conditions. For example, it is recommended that additional tests be performed on precious samples. The threshold value of 0.8 in the report serves as a reminder for recommended guidance. Protein correlations Spearman correlation (in bin50) between raw antibody counts under tissue, except isotype. Antibodies are clustered based on the Spearman correlation coefficient. Correlation plot within protein-protein Gene : protein correlations Spearman correlation (in bin50) between raw gene counts and raw antibody counts under tissue, where the antibody has at least one marker gene in the protein panel. Correlation plot within gene-protein Histogram of protein counts Distribution of spot numbers vs log-scaled MID count (in bin50). Histogram plot between spot numbers and log-scaled MID count Sample information This item displays the basic information of the input datasets. MetricDescriptionSample IDID for this HTML report.OrganismOrganism information of the sample.TissueTissue type of the sample.ReferenceReference used for reads alignment and annotation.Kit VersionVersion of the Stereo-seq product kit.Sequencing TypeSequencing type for the Stereo-seq product kit.Stereo-seq Chip SNThe serial number of the Stereo-seq chip.FASTQDetailed information of input FASTQ files. Square Bin This page contains results of statistics, plots, clustering, UMAP, and differential expression analysis, at bin dimension. Results come from the analysis based on .protein.tissue.gef file. This sub-page will display the analysis result of bin20 and bin50 by default, which depends on --custom-bin-size when you start SAW count/realign. Statistics Statistics of bins under tissue-coverage region ItemDescriptionBin SizeA unit bin, referred to as an expression spot, is used to aggregate DNBs (on the Stereo-seq chip) within a square region (i.e., bin20 = 20 x 20 DNBs).Mean Reads (per bin)Average number of sequencing reads within a binN (under detected tissue region).Median Reads (per bin)Median number of sequencing reads within a binN (under detected tissue region).Mean MID (per bin)Average number of MID count within a binN (under detected tissue region).Median MID (per bin)Median number of MID count within a binN (under detected tissue region). Plots Distribution plots of MID Violin plots show the distribution of deduplicated MID count in each bin size. Clustering & UMAP Leiden clustering and UMAP projection Clustering is performed based on SN.protein.tissue.gef using the Leiden algorithm. UMAP projections are performed based on SN.protein.tissue.gef and colored by automated clustering. The same color is assigned to spots that are within a shorter distance and with similar gene expression profiles. Cell Bin This page contains results of statistics, plots, clustering, UMAP, and differential expression analysis, at cellbin dimension. Cell border expanding is automatically performed during SAW count and SAW realign, which means the contents of \"Cell Bin\" tab are based on SN.protein.adjusted.cellbin.gef. When it comes to --adjusted-distance=0 in SAW realign, all contents of this tab are based on SN.protein.cellbin.gef. Statistics Detailed statistics of cellbin The above table records the statistics of cellbin: ItemDescriptionCell CountDetected cell numbers with MID count>=1.Mean Cell AreaMean cell area in μm², excluding cells with MID count=0.Median Cell AreaMedian cell area in μm², excluding cells with MID count=0.Mean MIDMean MID count per cell, excluding cells with MID count=0.Median MIDMedian MID count per cell, excluding cells with MID count=0. Plots Distribution plots of MID and cell area Violin plots show the distribution of deduplicated MID count and cell area in the cellbin. Clustering & UMAP Leiden clustering and UMAP projection Clustering is performed based on SN.protein.adjusted.cellbin.gef or SN.protein.cellbin.gef, using the Leiden algorithm. UMAP projections are performed based on SN.protein.adjusted.cellbin.gef or SN.protein.cellbin.gef, and colored by automated clustering. The same color is assigned to spots that are within a shorter distance and with similar gene expression profiles. Alerts Thresholds are set for several important statistical indicators. If the analysis results are abnormal, an alert message will be displayed at the top of the HTML report. Here is an abnormal example of data just for display. Alert information Alert information © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/bam.html":{"url":"analysis/outputs/bam.html","title":"BAM","keywords":"","body":"BAM标签信息转录比对统计信息注释统计信息蛋白比对统计信息BAM BAM文件为二进制格式，用于保存序列的比对和基因注释信息。SAW count 在BAM文件的可选字段中添加自定义标签，用于记录read的坐标、CID、MID信息，注释信息通过标签字段添加在BAM中。 标签信息 BAM 可选字段中添加的自定义标签信息： TagDescriptionCx:ix coordinate of the Coordiante ID.Cy:iy coordinate of the Coordiante ID.UR:ZThe hexadecimal representation of uncorrected binary-encoded MID.XF:iMapping region on the reference genome. Valid value: 0=EXONIC, 1=INTRONIC, 2=INTERGENIC, 3=rRNA, 4=ANTISENSE.GI:ZAnnotated gene ID.GE:ZAnnotated gene name.GS:Z‘+’ or ‘-’, indicating forward/reverse strand respectively.UB:ZThe hexadecimal representation of count corrected binary-encoded MID. 原始比对输出的BAM示例： E100026571L1C009R00301275185 16 1 3000095 255 26M121066N74M * 0 0 GGCTTTTTTTTTTTTTTTTTTTTTTTTTTTCTAAATATTGGGTTTTATTAGCACCATGATAACTGTATATTAATTTGCACTGACTGTCATAACAAAATAC G+:GFFGGFGFFGFFGFGGFFGFFFFFCFGFCFGGGFGGFGFFFFGGFGGFGFFFGGFFGFFFGFGFGFFGFFGFGFFFFGFFFFFFFFGGFFGGFFGEF NH:i:1 HI:i:1 AS:i:88 nM:i:0 Cx:i:4826 Cy:i:11598 UR:Z:6FA29 基因注释后的BAM示例： E100026571L1C002R00703943265 1040 1 3082766 255 11M132671N89M * 0 0 CTGCTGCAGCTTTTTTTTCTTTGAGATTTATTTTTATGCTATGTGTATGGGTATTTTGCCTGCATATATGTCTATGCACCATGTGTGTGCAGTGCTTGAG FFFFFECGFDCFGDGDFEE@EEGIBFGGCGFFGACGFCGFFDGDGFFFFFFEGCDFCGFFGG@FFF=EFFDGGGGGFDGFFFGGGFGFFGGGFFGGGDFG NH:i:1 HI:i:1 AS:i:88 nM:i:0 Cx:i:7767 Cy:i:18052 UR:Z:7AE49 XF:i:0 GI:Z:ENSMUSG00000051951 GE:Z:Xkr4 GS:Z:- UB:Z:79E49 转录比对统计信息 测序 FASTQ 经过 read 比对之后，该环节的统计文件、详细信息被保存在 /STEREO_ANALYSIS_WORKFLOW/ALIGNMENT/.CIDMap.stat目录下。 MetricDescriptionNumber of CID in chip maskNumber of CIDs in the chip mask fileNumber of unique CID in FASTQNumber of unique CIDs in FASTQsNumber of total readsNumber of total reads in FASTQsQ10 in CID %Ratio of Q10 CID basesQ20 in CID %Ratio of Q20 CID basesQ30 in CID %Ratio of Q30 CID basesNumber of mapped CIDNumber of reads mapped to CID% of mapped CIDRatio of reads mapped to CIDNumber of exactly mapped CIDNumber of reads exactly mapped to CID% of exactly mapped CIDRatio of reads exactly mapped to CIDNumber of CID with mismatchNumber of reads mapped to CID with mismatch% of CID with mismatchRatio of reads mapped to CID with mismatchQ10 in RNA %Ratio of Q10 RNA basesQ20 in RNA %Ratio of Q20 RNA basesQ30 in RNA %Ratio of Q30 RNA basesNumber of reads with polyANumber of reads with polyA sequence% of reads with polyARatio of reads with polyA sequenceNumber of short reads (trim polyA)Number ot short reads after trimming polyA sequence% of short reads (trim polyA)Ration ot short reads after trimming polyA sequenceNumber of reads with adapterNumber of reads with adapter sequence% of reads with adapterRation of reads with adapter sequenceNumber of short reads (trim adapter)Number of short reads after trimming adapter sequence% of short reads (trim adapter)Ratio of short reads after trimming adapter sequenceNumber of reads filtered with DNBNumber of reads with DNB sequence% of reads filtered with DNBRatio of reads with DNB sequenceQ10 in clean RNA %Ratio of Q10 RNA bases after filteringQ20 in clean RNA %Ratio of Q20 RNA bases after filteringQ30 in clean RNA %Ratio of Q30 RNA bases after filteringQ10 in MID %Ratio of Q10 MID basesQ20 in MID %Ratio of Q20 MID basesQ30 in MID %Ratio of Q30 MID basesNumber of low quality MIDNumber of MID with low quality bases% of low quality MIDRatio of MID with low quality basesNumber of MID with NNumber of MID with N base% of MID with NRatio of MID with N baseNumber of MID in specific sequenceNumber of MID mapped to specific sequences% of MID with specific sequenceRatio of MID mapped to specific sequencesQ10 in clean MID %Ratio of Q10 MID bases after filteringQ20 in clean MID %Ratio of Q20 MID bases after filteringQ30 in clean MID %Ratio of Q30 MID bases after filteringNumber of exactly mapped MIDNumber of reads exactly mapped to MID% of exactly mapped MIDRatio of reads exactly mapped to MIDNumber of inexactly mapped MIDNumber of reads inexactly mapped to MID% of inexactly mapped MIDRatio of reads inexactly mapped to MID 注释统计信息 read 经过基因注释之后，该环节的统计文件、详细信息被保存在 /STEREO_ANALYSIS_WORKFLOW/ANNOTATION/*.bam.summary.stat目录下。 MetricDescriptionNumber of input reads for annotationNumber for total reads aligned to genomeNumber of reads to be annotatedNumber of reads that will be annotated with GTF/GFF annotation database% of reads to be annotated% of reads that will be annotated with GTF/GFF annotation databaseNumber of uniquely mapped reads to be annotatedNumber of reads to be annotated which are uniquely mapped to genome% of uniquely mapped reads to be annotatedRatio of reads to be annotated which are uniquely mapped to genomeNumber of multi-mapped reads to be annotatedNumber of reads to be annotated which are multi-mapped to genome% of multi-mapped reads to be annotatedRatio of reads to be annotated which are multi-mapped to genomeNumber of multi-mapped readsNumber of reads multi-mapped to genomeNumber of reads mapped to transcriptomeNumber of reads mapped to transcriptome, including exon and intron regions.% of reads mapped to transcriptome% of reads mapped to transcriptome, including exonic and intronic regions.Number of unique captures (on CID, gene and MID)Number of unique captures for reads, based on CID, gene and MID information% of unique captures (on CID, gene and MID)% of unique captures for reads, based on CID, gene and MID informationNumber of duplicated readsNumber of duplicated captures for reads, based on CID, gene and MID information% of duplicated reads% of duplicated captures for reads, based on CID, gene and MID informationNumber of reads to be annotatedNumber of reads that will be annotated with GTF/GFF annotation databaseNumber of reads mapped to exonic regionsNumber of reads mapped to exonic regions% of reads mapped to exonic regions% of reads mapped to exonic regionsNumber of reads mapped to intronic regionsNumber of reads mapped to intronic regions% of reads mapped to intronic regions% of reads mapped to intronic regionsNumber of reads mapped to intergenic regionsNumber of reads mapped to intergenic regions% of reads mapped to intergenic regions% of reads mapped to intergenic regionsNumber of reads mapped antisense to geneNumber of reads mapped antisense to gene% of reads mapped antisense to gene% of reads mapped antisense to geneNumber of reads mapped to rRNANumder of reads mapped to rRNA regionsNumber of rRNA reads in uniquely mappedNumder of uniquely mapped reads mapped to rRNA regions% of rRNA reads in uniquely mapped% of uniquely mapped reads mapped to rRNA regionsNumber of rRNA reads in multi-mappedNumder of multi-mapped reads mapped to rRNA regions% of rRNA reads in multi-mapped reads% of multi-mapped reads mapped to rRNA regions 蛋白比对统计信息 ADT FASTQ 的蛋白read比对后 ，统计信息位于/STEREO_ANALYSIS_WORKFLOW/ALIGNMENT/_map.stat 中。 MetricDescriptionNumber of CID in chip maskNumber of CIDs in the chip mask file.Number of unique CID in FASTQNumber of unique CIDs in FASTQs.Number of total readsNumber of total reads in FASTQs.Q10 in CID %Ratio of Q10 CID bases.Q20 in CID %Ratio of Q20 CID bases.Q30 in CID %Ratio of Q30 CID bases.Number of mapped CIDNumber of reads mapped to CID.% of mapped CIDRatio of reads mapped to CID.Number of exactly mapped CIDNumber of reads exactly mapped to CID.% of exactly mapped CIDRatio of reads exactly mapped to CID.Number of CID with mismatchNumber of reads mapped to CID with mismatch.% of CID with mismatchRatio of reads mapped to CID with mismatch.Number of CID with NNumber of CID with N base.% of CID with NRatio of CID with N base.Q10 in MID %Ratio of Q10 MID bases.Q20 in MID %Ratio of Q20 MID bases.Q30 in MID %Ratio of Q30 MID bases.Number of discarded MIDNumber of discarded MID.% of discarded MIDRatio of discarded MID.Number of MID with NNumber of MID with N base.% of MID with NRatio of MID with N base.Number of low quality MIDNumber of MID with low quality bases.% of low quality MIDRatio of MID with low quality bases.Q10 in PID %Ratio of Q10 PID bases.Q20 in PID %Ratio of Q20 PID bases.Q30 in PID %Ratio of Q30 PID bases.Number of mapped PIDNumber of reads mapped to PID.% of mapped PIDRatio of reads mapped to PID.Number of exactly mapped PIDNumber of reads exactly mapped to PID.% of exactly mapped PIDRatio of reads exactly mapped to PID.Number of PID with mismatchNumber of reads mapped to PID with mismatch.% of PID with mismatchRatio of reads mapped to PID with mismatch.Number of uniquely mapped PIDNumber of reads mapped to PID uniquely.% of uniquely mapped PIDRatio of reads mapped to PID uniquely.Duplication rate %Duplication rate of the reads mapped to PID. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/matrices.html":{"url":"analysis/outputs/matrices.html","title":"Matrices","keywords":"","body":"MatricesGene Expression File (GEF)Gene Expression Matrix (GEM)文件类型转录组相关组织区域信息微生物相关微生物分类信息蛋白组相关组织区域信息Matrices Gene Expression File (GEF) 基因表达文件 (GEF) 是一种数据管理和存储格式，旨在支持多维数据集和高计算效率。Stereo-seq 分析工作流程生成 bin GEF 和 cellbin GEF 文件。Bin GEF 文件格式是一种分层结构的数据模型，以各种 bin 大小存储一个或多个组合的基因表达矩阵。Cellbin GEF 文件格式存储每个细胞内的表达信息。每个 GEF 容器组织一个空间基因表达矩阵集合。它包括两个主要数据对象：Group 和 Dataset。数据集是数据元素的多维数组。Group 对象类似于以层次结构组织数据集和其他组的文件系统目录。 Gene Expression Matrix (GEM) 基因表达矩阵 (GEM) 存储基因空间表达数据。SAW 在分析流程中生成多个基因表达矩阵文件，基本格式需要六列，标题行显示列名。六列分别是基因 ID、基因名称、x 坐标、y 坐标、MID 计数和 exon 计数，如果是 cellbin 数据，那么会有第七列记录细胞 ID。最大面积外接矩形区域的表达矩阵标题在列行前有多个以“#”开头的注释行，标题字段名称和字段类型在表中描述。 文件类型 SAW 分析流程输出的表达矩阵文件主要包括两种类型，bin GEF 和 cellbin GEF。可以通过文件后缀名来快速识别： File extensionDescription.gefThe feature expression matrix file in HDF5 format for visualization. It contains the MID count for each gene of each spot. A spot is a binning unit that has a fixed-sized square shape in which the expression value in this square is accumulated. By default, a visualization .gef includes spot sizes of bin 1, 5, 10, 20, 50, 100, 150, 200..cellbin.gefThe cellbin feature expression matrix file in HDF5 format. It contains the spatial location and area of each cell, the MID count for each gene of each cell, and the cluster the cell belongs to. In .cellbin.gef, the cell is the smallest data unit.Only available when the cell segmentation was done based on an microscopy image. 转录组相关 SAW count 和 SAW realign 输出的表达矩阵文件通常为： FileDescription.raw.gefFeature expression matrix includes the whole information over a complete chip region. It only has bin1 expression counts. .gefFeature expression matrix. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..tissue.gefFeature expression matrix under the tissue coverage region. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..cellbin.gefCellbin feature expression matrix records the information of cells individually, including the centroid coordinate, boundary coordinates, expression of genes, and cell area..adjusted.cellbin.gefCellbin expression matrix with cell border expanding, based on __mask_edm_dis_.tif. 组织区域信息 .tissue.gef 组织区域下GEF表达矩阵的生成通常要依赖.raw.gef原始表达矩阵和一张组织分割mask图。 tissuecut.stat统计文件文件位于 /STEREO_ANALYSIS_WORKFLOW_PROCESSING/EXPRESSION_MATRIX 下，记录了组织区域下的特征统计信息： Metric Description Tissue area in square nanometers The physical tissue area of the sample slice, in square nanometers. Contour area in pixel The area of the tissue region on the tissue segmentation image, in pixels. Number of DNB under tissue The number of detected DNBs with RNA capture under the tissue region. % of DNB under tissue The proportion of detected DNBs with RNA capture under the tissue region relative to the total counts across the entire chip. Total gene type under tissue The total number of annotated gene types under the tissue region. MID count under tissue MID counts under the tissue region. % of MID under tissue The proportion of MID counts under the tissue region relative to the total counts across the entire chip. Number of reads under tissue The number of sequencing reads under the tissue region. % of reads under tissue The proportion of sequencing reads under the tissue region relative to the total counts across the entire chip. Mean reads per spot (binN) Mean reads of each binN spot under the tissue region. Median reads per spot (binN) Median reads of each binN spot under the tissue region. Mean gene type per spot (binN) Mean gene type of each binN spot under the tissue region. Median gene type per spot (binN) Median gene type of each binN spot under the tissue region. Mean MID per spot (binN) Mean MID count of each binN spot under the tissue region. Median MID per spot (binN) Median MID count of each binN spot under the tissue region. 微生物相关 基于 Stereo-seq N FFPE 组织样本进行分析，在运行 SAW count 分析任务时，设置--microorganism-detect 参数，输出的微生物相关的表达矩阵文件就被保存在 /outs/feature_expression/microorganism 目录下，具体内容如下： FileDescription.microorganism.raw.gefFeature expression matrix of microorganisms includes the whole information over a complete chip region. It only has bin1 expression counts. .microorganism.gefFeature expression matrix of microorganisms. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..host_microorganism.raw.gefFeature expression matrix of microorganisms and the host includes the whole information over a complete chip region. It only has bin1 expression counts. .host_microorganism.gefFeature expression matrix of microorganisms and the host. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..microorganism..gemFeature expression matrix of a specific classification of microbes. Classifications of microorganisms include phylum, class, order, family, genus, and species. 微生物分类信息 Kraken2 对微生物数据进行分类后，/STEREO_ANALYSIS_WORKFLOW/MICROOGANISM/ANALYSIS目录下会出现两个文件，分别是seq_complete_info.txt和seq_complete_info_dedup.txt。这两个文件的区别在于，后者针对微生物比对进行了去重处理。每行代表一条read的比对结果记录，主要包括read ID、空间坐标、MID计数、分类学ID、学名、详细生物分类和read计数。 $ head ./STEREO_ANALYSIS_WORKFLOW_PROCESSING/MICROORGANISM/ANALYSIS/seq_complete_info.txt seq x y umi taxid Scientific_Name kindom phylum class order family genus species count V350264949L2C001R01701342667 11662 10937 ABB 77643 Mycobacterium_tuberculosis_complex k__Bacteria p__Actinobacteria c__Actinomycetia o__Corynebacteriales f__Mycobacteriaceae g__Mycobacterium 1 V350264949L2C001R01701347399 2742 13877 2B7 1783272 Terrabacteria_group k__Bacteria 1 V350264949L2C001R01900083155 18561 10644 C9E 5338 Agaricales k__Fungi p__Basidiomycota c__Agaricomycetes o__Agaricales 1 V350264949L2C001R01900086639 3861 14913 810 1760 Actinomycetia k__Bacteria p__Actinobacteria c__Actinomycetia 1 V350264949L2C001R01800770541 4264 17661 C20 1783272 Terrabacteria_group k__Bacteria 1 V350264949L2C001R01900181247 4396 16735 6EC 1762 Mycobacteriaceae k__Bacteria p__Actinobacteria c__Actinomycetia o__Corynebacteriales f__Mycobacteriaceae 1 V350264949L2C001R01900245227 18830 15878 D88 2 Bacteria k__Bacteria 1 V350264949L2C001R01900248762 18671 15840 77E 2 Bacteria k__Bacteria 1 V350264949L2C001R01900262154 15242 9034 4D0 1224 Proteobacteria k__Bacteria p__Proteobacteria 1 蛋白组相关 如使用 SAW count 和 SAW realign 对 Stereo-CITE T FF 组织样本分析 ，其空间蛋白表达矩阵将保存在 /outs/feature_expression 中。 具体内容如下： FileDescription.protein.raw.gefFeature expression matrix includes the whole information over a complete chip region. It only has bin1 expression counts. .protein.gefFeature expression matrix. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..protein.tissue.gefFeature expression matrix under the tissue coverage region. It is also a visualization GEF that includes expression counts for bin1, 5, 10, 20, 50, 100, 150, 200..protein.cellbin.gefCellbin feature expression matrix records the information of cells individually, including the centroid coordinate, boundary coordinates, expression of genes, and cell area..protein.adjusted.cellbin.gefCellbin expression matrix with cell border expanding, based on __mask_edm_dis_.tif..protein.tissue.rmbg.gem.gzFeature expression matrix from automatic protein background removal. It shows bin1 expression counts. 组织区域信息 .protein.tissue.gef 组织区域下的蛋白GEF表达矩阵的生成通常要依赖 .protein.raw.gef 原始蛋白表达矩阵和一张组织分割mask图。 protein.tissuecut.stat 统计文件文件位于 /STEREO_ANALYSIS_WORKFLOW_PROCESSING/EXPRESSION_MATRIX，记录了组织区域下的特征统计信息： Metric Description Tissue area in square nanometers The physical tissue area of the sample slice, in square nanometers. Contour area in pixel The area of the tissue region on the tissue segmentation image, in pixels. Number of DNB under tissue The number of detected DNBs with ADT capture under the tissue region. % of DNB under tissue The proportion of detected DNBs with ADT capture under the tissue region relative to the total counts across the entire chip. Total protein type under tissue The total number of annotated protein types under the tissue region. MID count under tissue MID counts under the tissue region. % of MID under tissue The proportion of MID counts under the tissue region relative to the total counts across the entire chip. Number of reads under tissue The number of sequencing reads under the tissue region. % of reads under tissue The proportion of sequencing reads under the tissue region relative to the total counts across the entire chip. Mean reads per spot (binN) Mean reads of each binN spot under the tissue region. Median reads per spot (binN) Median reads of each binN spot under the tissue region. Mean protein type per spot (binN) Mean protein type of each binN spot under the tissue region. Median protein type per spot (binN) Median protein type of each binN spot under the tissue region. Mean MID per spot (binN) Mean MID count of each binN spot under the tissue region. Median MID per spot (binN) Median MID count of each binN spot under the tissue region. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/images.html":{"url":"analysis/outputs/images.html","title":"Images","keywords":"","body":"Images自动图像算法处理无图流程Images 自动图像算法处理 如果在启动 SAW count 或 SAW realign 分析时加入了图像数据，图像相关的结果文件将被保存在/outs/image 目录下，具体内容取决于图像 QC 结果和手动处理信息。 FileDiscription*_regist.tifThe panoramic image, having been registered with the raw expression matrix, is from staining layers in TIFF format.*_tissue_cut.tifTissue segmentation result of the registered panoramic image.*_mask.tifCell segmentation result of the registered panoramic image.*_mask_edm_dis_10.tifThe result of the cell border expanding is based on the cell segmentation image. *_mask.tif. dis_10 represents the expansion of 10 pixels. 对于每个图像文件类型，这里以一个小鼠全脑样本为例进行展示： Registered panoramic image Tissue segementation in purple Cell segmentation Adjusted cell segmentation 无图流程 如果在启动 SAW count 或 SAW realign 分析时没有加入图像数据，或者图像 QC 结果为失败，分析流程会基于表达矩阵进行组织分割。 FileDiscriptionbin1_img_tissue_cut.tifTissue segmentation result of the expression data. 这里以一个小鼠小肠样片为例进行展示： Heatmaop of expression matrix Tissue segementation based on expression data © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"analysis/outputs/analysis.html":{"url":"analysis/outputs/analysis.html","title":"Analysis","keywords":"","body":"Analysis聚类分析查看数据集差异表达分析 多组学联合分析-聚类Analysis 聚类分析 SAW count, realign 和 reanalyze 分析流程以 AnnData H5AD 格式输出空间聚类结果，其中了数据记录预处理、降维、聚类和差异表达分析的信息结果。 H5AD 中的聚类结果和 UMAP 降维信息可以在 StereoMap 中实现可视化。 这里详细展开了一个H5AD文件中的记录信息： $ h5dump -n /outs/analysis/.bin200_1.0.h5ad ## you can also check .cellbin_1.0.h5ad HDF5 \"/outs/analysis/.bin200_1.0.h5ad\" { FILE_CONTENTS { group / dataset /X group /layers group /obs dataset /obs/_index group /obs/leiden dataset /obs/leiden/categories dataset /obs/leiden/codes dataset /obs/n_genes_by_counts group /obs/orig.ident dataset /obs/orig.ident/categories dataset /obs/orig.ident/codes dataset /obs/pct_counts_mt dataset /obs/total_counts dataset /obs/x dataset /obs/y group /obsm dataset /obsm/X_pca dataset /obsm/X_umap dataset /obsm/spatial group /obsp group /obsp/connectivities dataset /obsp/connectivities/data dataset /obsp/connectivities/indices dataset /obsp/connectivities/indptr group /obsp/distances dataset /obsp/distances/data dataset /obsp/distances/indices dataset /obsp/distances/indptr group /raw group /raw/X dataset /raw/X/data dataset /raw/X/indices dataset /raw/X/indptr group /raw/var dataset /raw/var/_index dataset /raw/var/mean_umi dataset /raw/var/n_cells dataset /raw/var/n_counts group /raw/var/real_gene_name dataset /raw/var/real_gene_name/categories dataset /raw/var/real_gene_name/codes group /raw/varm group /uns dataset /uns/bin_size dataset /uns/bin_type group /uns/gene_exp_leiden dataset /uns/gene_exp_leiden/1 ... dataset /uns/gene_exp_leiden/_index group /uns/hvg dataset /uns/hvg/method group /uns/hvg/params dataset /uns/hvg/source dataset /uns/leiden_resolution group /uns/neighbors dataset /uns/neighbors/connectivities_key dataset /uns/neighbors/distance_key group /uns/rank_genes_groups dataset /uns/rank_genes_groups/logfoldchanges group /uns/rank_genes_groups/mean_count dataset /uns/rank_genes_groups/mean_count/1 ... dataset /uns/rank_genes_groups/mean_count/_index dataset /uns/rank_genes_groups/names group /uns/rank_genes_groups/params dataset /uns/rank_genes_groups/params/corr_method dataset /uns/rank_genes_groups/params/groupby dataset /uns/rank_genes_groups/params/method dataset /uns/rank_genes_groups/params/reference dataset /uns/rank_genes_groups/params/use_raw group /uns/rank_genes_groups/pts dataset /uns/rank_genes_groups/pts/1 ... dataset /uns/rank_genes_groups/pts/_index group /uns/rank_genes_groups/pts_rest dataset /uns/rank_genes_groups/pts_rest/1 ... dataset /uns/rank_genes_groups/pts_rest/_index dataset /uns/rank_genes_groups/pvals dataset /uns/rank_genes_groups/pvals_adj dataset /uns/rank_genes_groups/scores dataset /uns/resolution group /uns/sn dataset /uns/sn/_index dataset /uns/sn/batch dataset /uns/sn/sn group /var dataset /var/_index dataset /var/dispersions dataset /var/dispersions_norm dataset /var/highly_variable dataset /var/mean_umi dataset /var/means dataset /var/n_cells dataset /var/n_counts group /var/real_gene_name dataset /var/real_gene_name/categories dataset /var/real_gene_name/codes group /varm group /varp } } 查看数据集 可以在 Python 的 Jupyter Notebook工具页面中检查数据信息，通常使用 AnnData 包检查存储在 H5AD 文件中的元数据集。 import anndata as ad adata = ad.read_h5ad('./C4144D5.h5ad') 当你输入变量 adata 时，将返回 adata 数据对象内包含内容的简要说明。 # adata AnnData object with n_obs × n_vars = 439383 × 29759 obs: 'total_counts', 'n_genes_by_counts', 'pct_counts_mt', 'leiden', 'orig.ident', 'x', 'y' var: 'real_gene_name', 'n_cells', 'n_counts', 'mean_umi', 'means', 'dispersions', 'dispersions_norm', 'highly_variable' uns: 'bin_size', 'bin_type', 'gene_exp_leiden', 'hvg', 'leiden_resolution', 'neighbors', 'omics', 'pca_variance_ratio', 'rank_genes_groups', 'resolution', 'sn' obsm: 'X_pca', 'X_umap', 'spatial' obsp: 'connectivities', 'distances' obs：观测元数据（细胞级注释）。一个存储细胞相关信息的表（DataFrame），例如 total_counts（即 MID）、n_genes_by_counts（即基因类型）、Leiden 聚类标签和空间坐标信息等； var：变量元数据（基因级注释）。一个存储基因相关信息的表（DataFrame），例如基因名称、基因是否为高变基因以及基因的生物学功能等； adata.X 是一个经过预处理和标准化的特征表达矩阵，通常表示为稀疏矩阵。 输入 adata.obs 来观察细胞元数据： # adata.obs total_counts n_genes_by_counts pct_counts_mt leiden orig.ident x y 5583457496640 5 5 0.0 16 sample 1300 11840 5583457496660 24 19 0.0 16 sample 1300 11860 5583457496680 35 24 0.0 16 sample 1300 11880 5583457496700 26 20 0.0 16 sample 1300 11900 5583457496720 20 13 0.0 16 sample 1300 11920 ... ... ... ... ... ... ... ... 84782654432300 5 4 0.0 16 sample 19740 9260 84782654432320 73 36 0.0 2 sample 19740 9280 84782654432340 66 33 0.0 2 sample 19740 9300 84782654432360 73 39 0.0 2 sample 19740 9320 84782654432380 18 9 0.0 16 sample 19740 9340 Leiden 算法得到的聚类分群结果位于 adata.obs['leiden']。 输入 adata.var 来观察基因元数据： # adata.var real_gene_name n_cells n_counts mean_umi means dispersions dispersions_norm highly_variable ENSMUSG00000000001 Gnai3 3641 4927 1.353200 0.218442 3.864523 0.787665 True ENSMUSG00000000003 Pbsn 84 99 1.178571 0.004794 3.560551 -0.295258 False ENSMUSG00000000028 Cdc45 279 335 1.200717 0.016009 3.475172 -0.599423 False ENSMUSG00000000031 H19 11 13 1.181818 0.000698 3.654413 0.039135 False ENSMUSG00000000037 Scml2 890 1142 1.283146 0.053320 3.649287 0.020871 False ... ... ... ... ... ... ... ... ... ENSMUSG00000116984 CT030713.2 339 418 1.233038 0.020487 3.625916 -0.062388 False ENSMUSG00000116987 AC150035.3 212 268 1.264151 0.013059 3.599458 -0.156647 False ENSMUSG00000116988 AC164314.2 479 630 1.315240 0.029183 3.738448 0.338513 False ENSMUSG00000116989 AC131339.4 67 77 1.149254 0.003788 3.486996 -0.557302 False ENSMUSG00000116993 AC135964.2 210 276 1.314286 0.012649 3.561962 -0.290230 False 此外，还可以检查降维分析的结果： # adata.obsm['X_pca'] array([[ -6.2587485 , 4.520802 , -9.568217 , ..., -1.9764128 , 1.8916789 , -1.5253358 ], [ -8.745589 , -0.8465148 , -5.714299 , ..., -0.06065813, 0.4646256 , -1.4891121 ], [ -9.6469 , -0.99549234, -3.3434439 , ..., -1.5173951 , 0.70049083, -0.56164753], ..., [-10.14395 , -1.4017884 , -2.0154784 , ..., -1.759757 , 0.12367768, -0.3570788 ], [ -9.854649 , -0.06418456, -1.2702237 , ..., 0.20150849, -0.12149827, -0.20047918], [-11.477859 , -0.91366583, -3.719183 , ..., -1.4211301 , 0.35585332, -0.44572574]], dtype=float32) # adata.obsm['X_umap'] array([[-1.4992443, 1.803457 ], [ 1.5087016, -0.8629851], [ 2.234619 , -1.2892196], ..., [ 3.3134413, -1.8212844], [ 3.317021 , -1.615297 ], [ 1.4269315, -1.217469 ]], dtype=float32) 差异表达分析 SAW count, realign 和 reanalyze 会以 CSV 格式输出差异表达分析结果。 差异表达分析的 CSV 结果文件有两种，分别为 find_marker_genes.csv 和 _marker_features.csv。 find_marker_genes.csv 是差异表达分析的原始输出结果 _marker_features.csv 中的数据信息经过整理，格式经过调整，更加简洁明了。 对于每个类群的特征信息，主要计算以下指标： 平均 MID Count 表达占比的Log2变化值 校正后的 p-value （当前簇中特征表达相对于其他簇的置信度） 基因在类群内的表达占比 （Cluster 1 % of expressed = 1 表示该特征在类群中的所所有细胞或bin中均有表达） Feature ID,Feature Name,Cluster 1 Mean MID Count,Cluster 1 Log2 fold change,Cluster 1 Adjusted p-value,Cluster 1 % of expressed, ... ,Cluster 20 Mean MID Count,Cluster 20 Log2 fold change,Cluster 20 Adjusted p-value,Cluster 20 % of expressed ENSMUSG00000016559,H3f3b,67.1754386,42.00155933,1.76E-41,1, ... ,0.076923077,-63.19518177,0,0.076923077 _marker_features.csv 中记录的差异表达分析结果可在 StereoMap 中查看，或直接使用 Excel 打开。 多组学联合分析-聚类 如果您对 Stereo-CITE T FF 样本执行 SAW reanalyze，其联合分析多组学聚类结果将保存在 H5MU 中。 以下是 H5MU 中记录的信息的示例： $ h5dump -n /outs/analysis/.bin20.h5mu HDF5 \"/outs/analysis/.bin20.h5mu\" { FILE_CONTENTS { group / group /mod group /mod/multiomics dataset /mod/multiomics/X group /mod/multiomics/layers dataset /mod/multiomics/layers/denoised_rna group /mod/multiomics/obs dataset /mod/multiomics/obs/_index group /mod/multiomics/obs/leiden dataset /mod/multiomics/obs/leiden/categories dataset /mod/multiomics/obs/leiden/codes dataset /mod/multiomics/obs/n_genes_by_counts group /mod/multiomics/obs/orig.ident dataset /mod/multiomics/obs/orig.ident/categories dataset /mod/multiomics/obs/orig.ident/codes dataset /mod/multiomics/obs/pct_counts_mt dataset /mod/multiomics/obs/total_counts dataset /mod/multiomics/obs/x dataset /mod/multiomics/obs/y group /mod/multiomics/obsm dataset /mod/multiomics/obsm/X_totalVI dataset /mod/multiomics/obsm/X_umap dataset /mod/multiomics/obsm/spatial group /mod/multiomics/obsp group /mod/multiomics/obsp/connectivities dataset /mod/multiomics/obsp/connectivities/data dataset /mod/multiomics/obsp/connectivities/indices dataset /mod/multiomics/obsp/connectivities/indptr group /mod/multiomics/obsp/distances dataset /mod/multiomics/obsp/distances/data dataset /mod/multiomics/obsp/distances/indices dataset /mod/multiomics/obsp/distances/indptr group /mod/multiomics/raw group /mod/multiomics/raw/X dataset /mod/multiomics/raw/X/data dataset /mod/multiomics/raw/X/indices dataset /mod/multiomics/raw/X/indptr group /mod/multiomics/raw/var dataset /mod/multiomics/raw/var/_index dataset /mod/multiomics/raw/var/mean_umi dataset /mod/multiomics/raw/var/n_cells dataset /mod/multiomics/raw/var/n_counts group /mod/multiomics/raw/var/real_gene_name dataset /mod/multiomics/raw/var/real_gene_name/categories dataset /mod/multiomics/raw/var/real_gene_name/codes group /mod/multiomics/raw/varm group /mod/multiomics/uns dataset /mod/multiomics/uns/bin_size dataset /mod/multiomics/uns/bin_type group /mod/multiomics/uns/gene_exp_leiden dataset /mod/multiomics/uns/gene_exp_leiden/1 ... dataset /mod/multiomics/uns/gene_exp_leiden/9 dataset /mod/multiomics/uns/gene_exp_leiden/_index group /mod/multiomics/uns/hvg dataset /mod/multiomics/uns/hvg/method group /mod/multiomics/uns/hvg/params dataset /mod/multiomics/uns/hvg/source dataset /mod/multiomics/uns/leiden_resolution group /mod/multiomics/uns/neighbors dataset /mod/multiomics/uns/neighbors/connectivities_key dataset /mod/multiomics/uns/neighbors/distance_key dataset /mod/multiomics/uns/omics dataset /mod/multiomics/uns/resolution group /mod/multiomics/uns/sn dataset /mod/multiomics/uns/sn/_index dataset /mod/multiomics/uns/sn/batch dataset /mod/multiomics/uns/sn/sn group /mod/multiomics/var dataset /mod/multiomics/var/_index dataset /mod/multiomics/var/highly_variable dataset /mod/multiomics/var/highly_variable_nbatches dataset /mod/multiomics/var/highly_variable_rank dataset /mod/multiomics/var/mean_umi dataset /mod/multiomics/var/means dataset /mod/multiomics/var/n_cells dataset /mod/multiomics/var/n_counts group /mod/multiomics/var/real_gene_name dataset /mod/multiomics/var/real_gene_name/categories dataset /mod/multiomics/var/real_gene_name/codes dataset /mod/multiomics/var/variances dataset /mod/multiomics/var/variances_norm group /mod/multiomics/varm group /mod/multiomics/varp group /mod/protein ... group /mod/rna ... group /obs dataset /obs/_index dataset /obs/_scvi_batch dataset /obs/_scvi_labels dataset /obs/_scvi_raw_norm_scaling group /obsm dataset /obsm/multiomics dataset /obsm/protein dataset /obsm/rna group /obsmap dataset /obsmap/multiomics dataset /obsmap/protein dataset /obsmap/rna group /obsp group /uns dataset /uns/_scvi_manager_uuid dataset /uns/_scvi_uuid group /var dataset /var/_index dataset /var/mean_umi dataset /var/n_cells dataset /var/n_counts group /var/real_gene_name dataset /var/real_gene_name/categories dataset /var/real_gene_name/codes group /varm dataset /varm/multiomics dataset /varm/protein dataset /varm/rna group /varmap dataset /varmap/multiomics dataset /varmap/protein dataset /varmap/rna group /varp } } © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/":{"url":"shi-yong-jiao-cheng/","title":"使用教程","keywords":"","body":"使用教程使用教程 根据你的分析场景和需求选择合适的软件使用教程。 设置 SAW下载和安装 SAW 软件Stereo-seq FF 数据分析学习如何使用 FF (fresh fozen) 样本数据开展 SAW 分析Stereo-seq FFPE 数据分析学习如何使用 FFPE (formalin-fixed paraffin-embedded) 样本数据开展 SAW 分析Stereo-CITE FF 数据分析学习如何使用 Stereo-CITE FF (fresh fozen) 样本数据开展 SAW 分析手动图像处理学习如何使用 StereoMap 输出的手动处理图像重启分析数据再分析对你的结果开启更个性化的分析数据格式转换帮助你的结果用另一种形式展示 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/bi-dui-wen-jian/":{"url":"shi-yong-jiao-cheng/bi-dui-wen-jian/","title":"比对文件准备","keywords":"","body":"比对文件SAW makeRef SAW checkGTF 比对文件 对于参考基因组和注释文件，SAW 软件提供了两个辅助分析流程，SAW makeRef 和 SAW checkGTF， 在运行 SAW count 分析任务之前，需要预先构建一个或多个参考基因组的索引文件。 SAW makeRef 用于构建SAW count需要参考基因组索引文件的辅助分析流程。 SAW makeRef 支持三种常用生信分析软件的索引构建，使用 --mode 参数来指定运行的模式。 SAW checkGTF SAW count 的分析任务只能接受标准格式的注释文件，所以在 SAW count 进行 reads 注释之前会自动校验文件。除了之外，还能够通过它实现特定注释信息内容的提取。 SAW 允许接入的注释文件的文件后缀名包括：gtf/gtf.gz、gff/gff.gz、gff3/gff3.gz 。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/bi-dui-wen-jian/gou-jian-suo-yin-wen-jian.html":{"url":"shi-yong-jiao-cheng/bi-dui-wen-jian/gou-jian-suo-yin-wen-jian.html","title":"构建索引文件","keywords":"","body":"构建索引文件SAW makeRef 转录组比对 STAR 索引文件 添加 rRNA 信息 特殊参数设置快速使用微生物比对 Bowtie2 索引文件 Kraken2 索引文件 Reference libraries 构建索引文件 SAW makeRef 用于构建SAW count需要参考基因组索引文件的辅助分析流程。 SAW makeRef 支持三种常用生信分析软件的索引构建，使用 --mode 参数来指定运行的模式。 STOmics 研发中心已预先构建了可直接使用的参考基因组索引文件，可直接从从下载中心获取。 转录组比对 STAR 索引文件 需要注释文件 （GTF/GFF） 和参考基因组 （FASTA） 来构建索引文件，用于测序 reads 的比对和注释。STOmics 研究团队和英特尔的开发团队一起重建了索引文件的结构，加快索引的读取、搜索的速度，进而提高比对的效率。 构建转录组索引文件用于STAR比对： cd /saw/datasets/reference saw makeRef \\ --mode=STAR \\ --fasta=/path/to/FASTA \\ --gtf=/path/to/GTF/or/GFF \\ --genome=./transcriptome 运行命令行后，程序会自动生成 SAW 分析所需的目录结构，在 --genome 目录下生成索引文件和其他相关文件，包括: ./transcriptome/fasta- 所有输入 FASTA 文件 ./transcriptome/genes - 注释文件 ./transcriptome/STAR 由 STOmics Tech 优化算法后的 STAR 索引文件 SAW 8.2 开始，使用 makeRef 构建 STAR 索引时，将自动执行 checkGTF 检查操作，确保 ./transcriptome/genes 下的输出 GTF/GFF 已进行格式检查，能够符合 SAW count 分析流程中的 read 注释要求。如果输入的 GTF/GFF 文件存在内容或格式的问题，请根据 checkGTF 输出的检查日志进行修改处理。 /saw/datasets/reference/transcriptome ├── fasta │ └── genome.fa ├── genes │ ├── checkGTF_YYYYMMDD_HHMMSS.log │ └── genes.gtf └── STAR ├── chrLength.txt ├── chrNameLength.txt ├── chrName.txt ├── chrStart.txt ├── exonGeTrInfo.tab ├── exonInfo.tab ├── FMindex ├── geneInfo.tab ├── Genome ├── genomeParameters.txt ├── SA ├── SAindex ├── SAindexAux ├── sjdbInfo.txt ├── sjdbList.fromGTF.out.tab ├── sjdbList.out.tab └── transcriptInfo.tab STOmics 开发团队在 makeRef 模块增加了独有的功能参数，使得 SAW makeRef 的功能性和易用性更强大。 --fasta ：接受一个或多个 FASTA 基因组文件并合并所有输入文件； --rRNA-fasta ：接受 rRNA 信息并将其添加到 --fasta 的基础基因组中。 --gtf ：接受 GTF/GFF 注释文件并调用 checkGTF 模块检查文件格式。 --genome ：是构建 SAW 兼容参考文件夹所必需的。请为该参数指定一个不存在的文件夹名称。 需要注意，以上四个参数只能以 SAW makeRef 的模块参数形式输入，而不能通过 --params-config 输入。 添加 rRNA 信息 如果计划在 SAW 分析中去除 rRNA 片段，使用 --rRNA-FASTA 参数来指定 rRNA 信息，将添加其到参考基因组 --fasta 中。 信息处理的关键步骤： Step 1：鉴于传至 --rRNA-FASTA 参数的 rRNA 信息具有片段短且重复度高的特点，流程首先会对其进行去冗余； Step 2：将 rRNA 信息添加到 --fasta 文件中，会在染色体信息列上增加“_rRNA”后缀，例如：“1_rRNA”，以区分 rRNA 区域和基本的参考基因组； Step 3：基于添加了去重 rRNA 信息的参考基因组，构建索引文件。 cd /saw/datasets/reference saw makeRef \\ --mode=STAR \\ --fasta=/path/to/FASTA \\ --gtf=/path/to/GTF/or/GFF \\ --rRNA-fasta=/path/to/rRNA/FASTA \\ --genome=./transcriptome_with_rRNA 输出结果和目录结构不变： /saw/datasets/reference/transcriptome_with_rRNA ├── fasta │ └── genome.fa ├── genes │ ├── checkGTF_YYYYMMDD_HHMMSS.log │ └── genes.gtf └── STAR ├── chrLength.txt ├── chrNameLength.txt ├── chrName.txt ├── chrStart.txt ├── exonGeTrInfo.tab ├── exonInfo.tab ├── FMindex ├── geneInfo.tab ├── Genome ├── genomeParameters.txt ├── SA ├── SAindex ├── SAindexAux ├── sjdbInfo.txt ├── sjdbList.fromGTF.out.tab ├── sjdbList.out.tab └── transcriptInfo.tab 特殊参数设置 在处理特定的基因组数据集时，例如：异常大的基因组，默认参数设置可能会导致索引构建失败。或者，在处理小的基因组片段或较长的内含子区域时，makeRef 的默认设置不足以满足进一步的分析需求。 --params-config 参数支持调用和调整更细致的STAR参数，只需将 STAR 中的原始参数以纯字符串形式输入 当基因组包含过多的染色体或 scaffolds时（例如：超过 5,000 个），在构建参考基因组时，计算内存可能会不足。为了减少 RAM 消耗，可以参考如下计算公式进行设置：\\ --genomeChrBinNbits= min(18,log2[max(GenomeLength/number of references, ReadLength)])。假设参考基因组 A 的大小为 14 GB，包含 90,000 个染色体或 scaffolds，则根据上述公式计算 --genomeChrBinNbits 的值，得到参数建议值为17。 如果想了解更多关于索引构建的参数使用细节，以及特殊基因组的索引构建的参数设置，请参考STAR用户手册 saw/datasets/reference saw makeRef \\ --mode=STAR \\ --fasta=/path/to/FASTA \\ --gtf=/path/to/GTF/or/GFF \\ --genome=./transcriptome \\ --params-config='--genomeChrBinNbints=17 --runThreadN=24' 快速使用 SAW count 分析对所使用的索引文件目录结构有要求，请按如下方式设置 --reference参数： saw count \\ ... --reference=/saw/datasets/reference/transcriptome or saw count \\ ... --reference=/saw/datasets/reference/transcriptome_with_rRNA 微生物比对 SAW count 支持对 Stereo-seq FFPE 的组织样本开展微生物分析，如果你的样本适用微生物比对分析，请在运行 SAW count 时同时设置 --microorganism-detect 和 --ref-libraries 在启动分析之前，应分别构建所需的索引文件，STAR 用于宿主的转录组比对，Bowtie2 用于去除宿主的基因组， Kraken2 用于微生物的探索和分类。 Bowtie2 索引文件 在 SAW count 分析流程中，在进行微生物比对分析前，需要使用 Bowtie2 工具从 unmapped reads 中去除宿主的基因组信息。 #Scenario 1 cd /saw/datasets/reference saw makeRef \\ --mode=Bowtie2 \\ --fasta=/path/to/host/FASTA1,/path/to/host/FASTA2,... \\ --basename=mouse_genome_rRNA \\ --genome=./Bowtie2 运行命令行后，输出目录包含这些文件： /saw/dataset/reference/Bowtie2 ├── mouse_genome_rRNA.fa #Host FASTA ├── mouse_genome_rRNA.1.bt2 ##Bowtie2 index files, suffixed with .bt2 ├── mouse_genome_rRNA.2.bt2 ├── mouse_genome_rRNA.3.bt2 ├── mouse_genome_rRNA.4.bt2 ├── mouse_genome_rRNA.rev.1.bt2 └── mouse_genome_rRNA.rev.2.bt2 SAW makeRef 提供了 bowtie2-build 构建索引时用到的基础、必要参数，用于 SAW count 的微生物分析。 有三种方法可以实现 Bowtie2 工具的全部功能： 使用原始 Bowtie2 软件； 使用 --params-config 直接传入原始 Bowtie2的复杂参数，将原始参数以纯字符串形式输入即可。 使用--params-csv 参数，调用 Bowtie2 工具的原始参数命令。 # Senario 2 cd /saw/datasets/reference saw makeRef \\ --mode=Bowtie2 \\ --params-csv=/path/to/parameter/setting/Bowtie2_build.csv --params-csv 中的参数设置内容： Parameter,Value ,/path/to/host/FASTA1,/path/to/host/FASTA2,... , Kraken2 索引文件 Kraken2 是专为基因组的生物分类比对而设计开发的生信工具，在 SAW count 微生物比对分析中，可以快速准确地识别环境样本或复杂微生物群落中存在的微生物，你可以从 Kraken2 数据库网站 下载所需数据库。 #Scenario 1 cd /saw/datasets/reference ##Step 1 (optional) if needed,add FASTAs needed for a customed database saw makeRef \\ --mode=Kraken2 \\ --fasta=/path/to/host/FASTA1,/path/to/host/FASTA2,... \\ --database=/path/to/Kraken2/database ##Step 2 build saw makeRef \\ --mode=Kraken2 \\ --database=/path/to/Kraken2/database 构建 Kraken2 索引文件时，无需指定--genome参数，直接基于 database 数据进行构建。 在构建客制化 database 的 Step 2 之前，需要在 database 目录下构建 ./taxonomy/，具体文件可以从 NCBI/Taxonomy 获取。 运行命令行后，输出目录包含以下文件： /saw/datasets/reference/Kraken2_db1 ├── hash.k2d ##Contains the minimizer to taxon mappings ├── opts.k2d ##Contains information about the options used to build the database ├── taxo.k2d ##Contains taxonomy information used to build the database ├── inspect.txt ├── seqid2taxid.map ├── database100mers.kmer_distrib ├── database150mers.kmer_distrib ├── database200mers.kmer_distrib ├── database250mers.kmer_distrib ├── database300mers.kmer_distrib ├── database50mers.kmer_distrib └── database75mers.kmer_distrib SAW makeRef 提构建索引时用到的基础、必要参数，用于 SAW count 的微生物分析。 有两种方法可实现 Kraken2 的全部功能。 使用原始 Kraken2 。 使用 --params-config 直接传入原始 Kraken2 的复杂参数，将原始参数以纯字符串形式输入即可。 使用--params-csv 参数，调用 Kraken2 工具的原始参数命令。 #Scenario 2 cd /saw/datasets/reference saw makeRef \\ --mode=Kraken2 \\ --params-csv=/path/to/parameter/setting/Kraken2_build.csv --params-csv 中的参数设置内容： Parameter,Value --add-to-library,/path/to/fasta --db,/path/to/db Reference libraries 在为 STAR、Bowtie2 和 Kraken2 构建索引文件后，需要构建一个 --ref-libraries 参数所需的配置 CSV，将微生物比对分析需要用到的数据文件进行整合。 Reference,Type /saw/datasets/reference/transcriptome,STAR /saw/datasets/reference/Bowtie2,Bowtie2 /saw/datasets/reference/Kraken2_db1,Kraken2 --ref-libraries 与 --reference两个参数不可同时使用！ © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/bi-dui-wen-jian/rrna-xin-xi-huo-qu.html":{"url":"shi-yong-jiao-cheng/bi-dui-wen-jian/rrna-xin-xi-huo-qu.html","title":"rRNA信息获取","keywords":"","body":"rRNA信息获取rRNA (ribosomal RNA)什么是 rRNA?出现于RNA测序中从RNAcentral获取信息搜索rRNA信息包含rRNA信息的预构建索引Remove rRNA添加rRNA信息至基因组运行count分析rRNA信息获取 rRNA (ribosomal RNA) 什么是 rRNA? rRNA (ribosomal RNA) 是核糖体的主要成分，而核糖体是负责细胞蛋白质合成的分子机器。rRNA与mRNA和tRNA相互作用，催化肽键形成，在翻译过程中起着至关重要的作用。rRNA可根据功能和位置分为以下几种类型： 5S rRNA: 存在于核糖体大亚基中，主要参与维持核糖体结构； 16S rRNA (原核生物) / 18S rRNA (真核生物): 存在于核糖体小亚基中，负责mRNA识别和翻译起始； 23S rRNA (原核生物) / 28S rRNA (真核生物): 存在于核糖体大亚基中，参与肽键形成和翻译延伸； 5.8S rRNA (真核生物): 存在于核糖体大亚基中，与 28S 和 5S rRNA 一起维持核糖体功能。 出现于RNA测序中 RNA测序（RNA-seq）实验中，rRNA的出现有以下主要原因： rRNA丰度高：rRNA占细胞总RNA的80%-90%，是含量最丰富的RNA类型。 实验步骤中的非特异性捕获：在RNA提取和文库制备过程中，rRNA可能被非特异性捕获并被纳入测序文库。 未去除或未完全去除rRNA：不使用特定的rRNA去除试剂盒，或者即使使用了此类试剂盒，仍可能残留少量rRNA。 rRNA是细胞中最丰富的RNA类型，在RNA-seq实验中不可避免地存在。因此，其序列在测序数据中占据了相当大的比例。在这些实验中使用rRNA去除试剂盒去除rRNA可以降低测序深度要求，从而降低成本。rRNA序列不包含靶基因表达的信息，可能会干扰靶基因表达的定量和差异表达分析。为了提高测序数据的有效利用率，以及数据分析的准确性，可以选择在实验环节和计算处理步骤中去除rRNA。 从RNAcentral获取信息 RNAcentral 由欧洲生物信息学研究所 (EBI) 开发的综合性非编码 RNA (ncRNA) 数据库。它整合了来自多个专业数据库（例如 Ensembl、GENCODE、miRBase、Rfam）的 ncRNA 数据，为 ncRNA 研究提供统一的参考平台。 搜索rRNA信息 The following three search methods are provided on the homepage： \"Text search\" searches the RNA sequences based on the provided keywords. \"Sequence search\" aligns the input unknown fragments with databases to retrieve specific RNA information. \"Genome browser\" provides a genome browser, where analysts can select a species, specify a chromosome location, and view the distribution of genes and sequences within a target interval. 主页提供以下三种检索方式： \"Text search\" 根据提供的关键词检索RNA序列； \"Sequence search\" 将输入的未知片段与数据库比对，以检索特定的RNA信息； \"Genome browser\" 提供了一个基因组浏览器，分析人员可以选择物种，指定染色体位置，并查看目标区间内基因和序列的分布情况。 建议使用 \"Text search\" 来搜索 rRNA 信息。如果已知目标 rRNA 的名称、物种、组织类型、序列长度、RNA 类型（例如 5S、18S 等）或其他文本信息，请在搜索窗口中输入这些信息。总之，根据分析需求选择合适的限定词。\\ 例如：搜索人类的 18S rRNA 时，将显示多条 rRNA 记录。每条搜索记录下方都会显示 RNA 来源的数据库。请下载 FASTA 文件格式的所需 rRNA 信息。 Search in RNAcentral 下载得到的 rRNA FASTA 文件压缩为 *.fasta.gz。请务必先使用 gunzip 解压文件。 包含rRNA信息的预构建索引 为方便使用，STOmics 研发团队已整理了人类（Homo sapiens）和小鼠（Mus musculus）的通用 rRNA 信息，可直接从数据集下载包含 rRNA 信息的 STAR 索引文件和 Bowtie2 索引文件。 Index file Description File information ​reference-data-mouse-rRNA.tar.gz​ Mouse reference with rRNA information for STAR alignment, including genome file, annotation file and index files. File size: 28.03GB md5sum: 6fa47b14dc26321d1cab691baee4fb2f ​reference-data-human-rRNA.tar.gz​ Human reference with rRNA information for STAR alignment, including genome file, annotation file and index files. File size: 31.47GB md5sum: a86ceda324fa300d18f48b77502e5274 ##with wget #mouse wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse-rRNA.tar.gz #human wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human-rRNA.tar.gz ##with curl #mouse curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-mouse-rRNA.tar.gz #human curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Transcriptome/reference-data-human-rRNA.tar.gz Remove rRNA 如果计划在 SAW 分析过程中去除 rRNA 片段，请确保以下设置： 已将特定的 rRNA 信息添加到转录组参考； 使用 --rRNA-remove 参数启动 SAW count 分析。 添加rRNA信息至基因组 如果计划在 SAW 分析中去除 rRNA 片段，使用 --rRNA-FASTA 参数来指定 rRNA 信息，将添加其到参考基因组 --fasta 中。 信息处理的关键步骤： Step 1：鉴于传至 --rRNA-FASTA 参数的 rRNA 信息具有片段短且重复度高的特点，流程首先会对其进行去冗余； Step 2：将 rRNA 信息添加到 --fasta 文件中，会在染色体信息列上增加“_rRNA”后缀，例如：“1_rRNA”，以区分 rRNA 区域和基本的参考基因组； Step 3：基于添加了去重 rRNA 信息的参考基因组，构建索引文件。 cd /saw/datasets/reference saw makeRef \\ --mode=STAR \\ --fasta=/path/to/FASTA \\ --rRNA-fasta=/path/to/rRNA/FASTA \\ --gtf=/path/to/GTF/or/GFF \\ --genome=./transcriptome_with_rRNA 运行count分析 以一个FFPE样本的分析作为示例： cd /saw/runs saw count \\ --id=rRNA_removal \\ --sn= \\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq N FFPE V1.1\" \\ --sequencing-type=\"PE75_25+62\" \\ --chip-mask=/path/to/chip/mask \\ --fastqs=/path/to/fastq/folders \\ --image-tar=/path/to/image/tar \\ --reference=/path/to/reference/transcriptome_with_rRNA \\ --rRNA-remove © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/bi-dui-wen-jian/jian-cha-zhu-shi-wen-jian.html":{"url":"shi-yong-jiao-cheng/bi-dui-wen-jian/jian-cha-zhu-shi-wen-jian.html","title":"检查注释文件","keywords":"","body":"检查注释文件SAW checkGTF 检查注释文件 SAW checkGTF SAW count 的分析任务只接受标准格式的注释文件，所以在 SAW count 进行 reads 注释之前会自动校验文件的内容和格式。除了之外，还能够通过它实现特定注释信息内容的提取。 SAW 允许接入的注释文件的文件后缀名包括：gtf/gtf.gz、gff/gff.gz、gff3/gff3.gz 。 如果注释文件存在以下内容和格式问题（常见的错误），SAW checkGTF 将进行简单更正和问题提醒，以确保文件能够被正常使用。 IssueSolutionIn the seventh column indicating the sense and antisense strands, \"-\" and \"_\" symbols are mistakenly mixed.Check each row of the annotation file and correct the error symbol \"_\" to \"-\".A gene block lacks gene ID. Discard the entire gene information and issue a warning.A gene row is missing but the transcript row has information.Discard the entire gene information and issue a warning.A gene block lacks gene name. Use gene ID to fill in the missing one.A gene row exists but partial information of child rows is missing.Child rows can inherit information from their gene rows.A transcript ID is missing.Fill it with its parent gene ID suffixed with a sequential number (e.g., XXX.1).A row contains multiple attributes with the same name.Only save the last of the duplicated entries, for subsequent annotation. *请注意，该程序默认假定输入注释文件已正确排序，并以基因块格式识别基因注释信息。 运行命令进行注释文件的格式检查： saw checkGTF \\ --input-gtf=/path/to/input/GTF/or/GFF \\ --output-gtf=/path/to/output/GTF/or/GFF 假若不设置 --output-gtf 参数，程序将不会输出修正后的结果文件，请注意检查日志信息。 如果想要提取特定的注释信息，例如： gene_biotype:protein_coding 或 gene_biotype:lincRNA，可以这样运行程序： saw checkGTF \\ --input-gtf=/path/to/input/GTF/or/GFF \\ --attribute=key1:value1,key2:value2,... \\ --output-gtf=/path/to/output/GTF/or/GFF 如果 --attribute 启用，SAW checkGTF 将提取特定的注释信息，但不进行文件格式的检查。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/bi-dui-wen-jian/she-zhi-dan-bai-panel.html":{"url":"shi-yong-jiao-cheng/bi-dui-wen-jian/she-zhi-dan-bai-panel.html","title":"设置蛋白Panel","keywords":"","body":"设置蛋白Panel蛋白列表设置蛋白Panel 蛋白列表 根据生物体选择一个合适的蛋白列表，这个文件是 PID 比对需要的。 SpeciesProtein panelMD5Cocktail informationmouseProteinPanel_128_mouse_V2.list8745033762db89d5a4096232e54e6521TotalSeq-A™ Mouse Universal Cocktail, V1.0 (Cat. No. 199901)humanProteinPanel_163_human_V2.list64a20baa464ba38aa1f7f93286b18bedTotalSeq-A™ Human Universal Cocktail, V1.0 (Cat. No. 399907) *查询 Cocktail了解更多细节。 ##with wget #mouse wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_128_mouse_V2.list #human wget -c https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_163_human_V2.list ##with curl #mouse curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_128_mouse_V2.list #human curl -C - -O https://demo.stomicsdb.tech/STOmics_Reference_Released/Protein_Panel/ProteinPanel_163_human_V2.list 列表指定了时空蛋白转录组Stereo-CITE 实验中使用的抗体。每列由 Tab 分隔，且定义如下： Column name Decription PIDIndex Required. Protein index. Only accepts integer numbers and ensures each is unique. PIDSequence Required. Protein reference sequence in 15bp. PIDName Required. Only accepts letters [a-zA-Z], digits [0-9], and 4 symbols [\"(\", \")\", \"-\", \"_\"]. GeneName Required. Coding gene(s) of the corresponding protein. Multiple coding genes are separated by \"/\". If you don't know, please fill in None. GeneID Required. Coding gene(s) Ensembl ID. Multiple IDs are separated by \"/\". If you don't know, please fill in None. Reference libraries 用于构建 --ref-libraries 的 CSV文件，整合蛋白列表和转录组 STAR 参考索引。 Reference,Type /saw/datasets/reference/transcriptome,STAR /saw/datasets/reference/ProteinPanel.list,ProteinMap --ref-libraries 在SAW count Stereo-CITE 分析中为必要输入。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/":{"url":"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/","title":"运行核心分析流程","keywords":"","body":"运行核心分析流程运行核心分析流程 Stereo-seq FF 分析 Stereo-seq FFPE 分析 Stereo-CITE FF 分析 学习如何使用 FF (fresh fozen) 样本数据开展 SAW 分析 学习如何使用 FFPE (formlin-fixed paraffin-embedded) 样本数据开展 SAW 分析 学习如何使用蛋白组转录组 Stereo-CITE FF (fresh frozen) 样本数据开展SAW分析 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/stereo-seq-ff.html":{"url":"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/stereo-seq-ff.html","title":"Stereo-seq FF 分析","keywords":"","body":"Stereo-seq FF 分析基本要求SAW count 流程概述Demo 数据参数命令运行 SAW count探索输出目录Stereo-seq FF 分析 本教程将指导你如何使用 SAW count 进行任务分析，演示数据来自 Stereo-seq 芯片捕获的 FF (新鲜冷冻) 小鼠脑组织样本。 基本要求 为顺利运行 SAW count流程，需要先确认： 熟悉 Linux 系统； 熟悉运行命令行工具； 确保计算系统满足最低配置要求。 在运行分析流程之前，确保计算环境中有存储空间充足，以及运行账号有足够的权限等级。 SAW count 流程概述 使用 SAW count 分析 FF 组织样本的 Stereo-seq 测序数据。 启动分析任务前，通常需要准备好以下文件： 芯片 mask 文件（记录 Stereo-seq 芯片的 CID 信息） FASTQ 测序数据（Stereo-seq 测序下机数据） reference 文件（参考基因组的索引文件，根据物种进行选择） 一张或多张显微镜图像（TIFF 或来自 StereoMap 的图像 .tar.gz） 来自 StereoMap 的压缩图像.tar.gz 文件 ，保存了原始的显微镜图像和 图像 QC 信息。 输出结果主要包括： 比对和注释后的 BAM 文件； 处理后的图像文件； 不同维度的基因表达矩阵； 聚类​​和差异表达分析结果； 可视化文件 visualization.tar.gz ， 用于 StereoMap。 Demo 数据 本教程页面使用了 Stereo-seq Chip T 捕获的小鼠脑组织样本。 C04042E3 数据基本信息如下： 芯片尺寸：1cm * 1cm (S1) Bin1： 500 nm * 500 nm 10μm 厚度的组织切片 Motic 显微镜拍摄得到的 H&E 染色图像 在数据集页面下载芯片 mask 文件、测序 FASTQ 数据、TIFF 图像或图像 tar.gz 文件，以及 reference 文件。为了更好地归纳和整理数据，建议为不同类型的文件创建对应的文件夹。 $ cd /saw # Create sub-folders of different datasets $ mkdir -p datasets/fastqs datasets/mask datasets/image datasets/reference 参数命令 在工作目录下，运行设置 SAW count 参数命令： saw count \\ --id= \\ --sn= \\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq T FF V1.3\" \\ --sequencing-type=\"PE75_50+100\" \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/path/to/fastq/folders \\ --reference=/saw/datasets/reference \\ --image-tar=/path/to/image/tar 命令行中参数的简要说明： ParameterDescription--id(Optional, default to None) A unique task id ([a-zA-Z0-9_-]+) which will be displayed as the output folder name and the title of HTML report. If the parameter is absent, --sn will play the same role.--description (Optional, default to None) Description for chip, or sample, or analysis run.--sn (Required, default to None) SN (serial number) of the Stereo-seq chip.--omics (Required, default to \"transcriptomics\") Omics information. When it comes to multi-omics analysis, please provide a list of omics, like \"transcriptomics,proteomics\" for Stereo-CITE analysis.--kit-version (Required, default to None) The version of the product kit. More in count pipeline introduction.--sequencing-type (Required, default to None) Sequencing type of FASTQs which is recorded in the sequencing report.--chip-mask (Required, default to None) Stereo-seq chip mask file.--organism (Optional, default to None) Organism type of sample, usually referring to species.--tissue (Optional, default to None) Physiological tissue of sample.--reference (Optional, default to None) Path to the reference folder, containing SAW-compatible index files and GTF/GFF, built by SAW makeRef.--fastqs (Required, default to None) Path(s) to folder(s), containing all needed FASTQs. If FASTQs are stored in multiple directories, use it as: --fastqs=/path/to/directory1,/path/to/directory2,.... Notice that all FASTQ files under these directories will be loaded for analysis.--image (Optional, default to None) TIFF image for QC (quality control), combined with expression matrix for analysis.Name rule for input TIFF :a. _.tifb. _.tiffc. _.TIFd. _.TIFF includes:a. ssDNAb. DAPIc. HE (referring to H&E)d. _IF, _IF, ...--image-tar (Optional, default to None) The compressed image .tar.gz file from StereoMap has been through prepositive QC (quality control). 运行 SAW count 在工作目录下，运行设置 SAW count 分析任务： cd /saw/runs saw count \\ --id=Demo_Mouse_Brain \\ --sn=C04042E3 \\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq T FF V1.3\" \\ --sequencing-type=\"PE75_50+100\" \\ --chip-mask=/saw/datasets/mask/C04042E3.barcodeToPos.h5 \\ --organism=mouse \\ --tissue=brain \\ --fastqs=/saw/datasets/fastqs \\ --reference=/saw/datasets/reference \\ --image-tar=/saw/datasets/image/C04042E3_SC_20240930_201353_4.1.0.tar.gz 如果您输入图像为 TIFF 格式，文件名的前缀应为： _.tif 免疫荧光染色 (IF) 图像应为： __IF.tif 例如： C04144D5_ssDNA.tif SS200000135TL_D1_DAPI.tif C02533C1_HE.tif (HE 指 H&E 染色) SS200000059_NC_DAPI.tif、SS200000059_NC_TESK2_IF.tif、SS200000059_NC_APAK3_IF.tif，…… 探索输出目录 分析任务运行结束后，在工作目录下会生成一个名为 Demo_Mouse_Brain 的输出文件夹，它的命名取决于 --id 参数，当--id参数没有启用时取决于 --sn 参数的信息。 SAW count 分析任务通常在工作目录下开启，在该目录下，将找到一个名为 --id 或 --sn（当--id参数没有启用时）的文件夹。输出结果依据数据类型被分类，主要文件被保存在 /outs下。 下面列出了 SAW count 的输出文件目录结构和内容： Demo_Mouse_Brain ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz 进一步探究流程输出结果 ： 跳转至HTML报告解读； 熟悉 visualization.tar.gz 可视化文件； 了解输出结果中的各种文件类型。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/stereo-seq-ffpe.html":{"url":"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/stereo-seq-ffpe.html","title":"Stereo-seq FFPE 分析","keywords":"","body":"Stereo-seq FFPE 分析基本要求SAW count 流程概述Demo 数据参数命令运行 SAW count探索输出目录Stereo-seq FFPE 分析 本教程将指导你如何使用 SAW count 进行任务分析，演示数据来自 Stereo-seq 芯片捕获的 FFPE （福尔马林固定，石蜡包埋）小鼠全脑组织样本。 基本要求 为顺利运行 SAW count流程，需要先确认： 熟悉 Linux 系统； 熟悉运行命令行工具； 确保计算系统满足最低配置要求。 在运行分析流程之前，确保计算环境中有存储空间充足，以及运行账号有足够的权限等级。 SAW count 流程概述 使用 SAW count 分析 FFPE 组织样本的 Stereo-seq 测序数据。 启动分析任务前，通常需要准备好以下文件： 芯片 mask 文件（记录 Stereo-seq 芯片的 CID 信息） FASTQ 测序数据（Stereo-seq 测序下机数据） reference 文件（参考基因组的索引文件，根据物种进行选择） 一张或多张显微镜图像（TIFF 或来自 StereoMap 的图像 .tar.gz） 来自 StereoMap 的压缩图像.tar.gz 文件 ，保存了原始的显微镜图像和 图像 QC 信息。 输出结果主要包括： 比对和注释后的 BAM 文件； 处理后的图像文件； 不同维度的基因表达矩阵； 聚类​​和差异表达分析结果； 可视化文件 visualization.tar.gz ， 用于 StereoMap。 Demo 数据 本教程页面使用了 Stereo-seq Chip N 捕获的小鼠肾脏组织样本。 C04144D5 数据基本信息如下： 芯片尺寸：1cm * 1cm (S1) Bin1： 500 nm * 500 nm 5μm 厚度的组织切片 Motic 显微镜拍摄得到的 ssDNA 染色图像 在数据集页面下载芯片 mask 文件、测序 FASTQ 数据、TIFF 图像或图像 tar.gz 文件，以及 reference 文件。为了更好地归纳和整理数据，建议为不同类型的文件创建对应的文件夹。 $ cd /saw # Create sub-folders of different datasets $ mkdir -p datasets/fastqs datasets/mask datasets/image datasets/reference 参数命令 在工作目录下，运行设置 SAW count 参数命令： saw count \\ --id= \\ --sn= \\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq N FFPE V1.0\" \\ --sequencing-type=\"PE75_25+59\" \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/path/to/fastq/folders \\ --reference=/saw/datasets/reference \\ --image-tar=/path/to/image/tar \\ --rRNA-remove 对于 FFPE 样本，SAW count 支持进行微生物比对分析，需要设置 --microorganism-detect 和 --ref-libraries 参数。 --ref-libraries 配置CSV 文件整合了STAR、Bowtie2 和 Kraken2 的索引文件信息。有关构建 reference 的详细内容请参阅 SAW makeRef 教程。 --ref-libraries 与 --reference 两个参数不兼容。 你需要评估你的组织样本是否适合进行微生物比对分析，这可能与前序步骤中的生化实验部分有关。 命令行中参数的简要说明： ParameterDescription--id(Optional, default to None) A unique task id ([a-zA-Z0-9_-]+) which will be displayed as the output folder name and the title of HTML report. If the parameter is absent, --sn will play the same role.--description (Optional, default to None) Description for chip, or sample, or analysis run.--sn (Required, default to None) SN (serial number) of the Stereo-seq chip.--omics (Required, default to \"transcriptomics\") Omics information. When it comes to multi-omics analysis, please provide a list of omics, like \"transcriptomics,proteomics\" for Stereo-CITE analysis.--kit-version (Required, default to None) The version of the product kit. More in count pipeline introduction.--sequencing-type (Required, default to None) Sequencing type of FASTQs which is recorded in the sequencing report.--chip-mask (Required, default to None) Stereo-seq chip mask file, recording the spatial location information and the corresponding CID for each spot.--organism (Optional, default to None) Organism type of sample, usually referring to species.--tissue (Optional, default to None) Physiological tissue of sample.--reference (Optional, default to None) Path to the reference folder, containing SAW-compatible index files and GTF/GFF, built by SAW makeRef.--ref-libraries (Optional, default to None) Path to a ref_libraries.csv which declares reference indexes, built by SAW makeRef. Not compatible with --reference.--fastqs (Required, default to None) Path(s) to folder(s), containing all needed FASTQs. If FASTQs are stored in multiple directories, use it as: --fastqs=/path/to/directory1,/path/to/directory2,.... Notice that all FASTQ files under these directories will be loaded for analysis.--image (Optional, default to None) TIFF image for QC (quality control), combined with expression matrix for analysis.Name rule for input TIFF :a. _.tifb. _.tiffc. _.TIFd. _.TIFF includes:a. ssDNAb. DAPIc. HE (referring to H&E)d. _IF, _IF, ...--image-tar (Optional, default to None) The compressed image .tar.gz file from StereoMap has been through prepositive QC (quality control).--microorganism-detect(Optional, default to None) Whether to perform analysis related to microorganisms. Notice that the detection only works for FFPE assay currently. 运行 SAW count 在工作目录下，运行设置 SAW count 分析任务： cd /saw/runs saw count \\ --id=Demo_Mouse_Brain \\ --sn=C04144D5 \\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq N FFPE V1.0\" \\ --sequencing-type=\"PE75_25+59\" \\ --chip-mask=/saw/datasets/chip_mask/C04144D5.barcodeToPos.h5 \\ --organism=mouse \\ --tissue=brain \\ --fastqs=/saw/datasets/fastqs \\ --reference=/saw/datasets/reference/mouse_transcriptome \\ --image-tar=/saw/datasets/image/C04144D5_SC_20240620_153.tar.gz \\ --rRNA-remove 如果您输入图像为 TIFF 格式，文件名的前缀应为： _.tif 例如： C04144D5_ssDNA.tif SS200000135TL_D1_DAPI.tif C02533C1_HE.tif （HE 指 H&E 染色） 探索输出目录 分析任务运行结束后，在工作目录下会生成一个名为 Demo_Mouse_Brain 的输出文件夹，它的命名取决于 --id 参数，当--id参数没有启用时取决于 --sn 参数的信息。 SAW count 分析任务通常在工作目录下开启，在该目录下，将找到一个名为 --id 或 --sn（当--id参数没有启用时）的文件夹。输出结果依据数据类型被分类，主要文件被保存在 /outs下。 下面列出了 SAW count 的输出文件目录结构和内容： Demo_Mouse_Brain ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz 进一步探究流程输出结果 ： 跳转至HTML报告解读； 熟悉 visualization.tar.gz 可视化文件； 了解输出结果中的各种文件类型。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/stereocite-ff-fen-xi.html":{"url":"shi-yong-jiao-cheng/yun-xing-he-xin-fen-xi-liu-cheng/stereocite-ff-fen-xi.html","title":"Stereo-CITE FF 分析","keywords":"","body":"Stereo-CITE FF 分析基本要求SAW count 流程概述 Demo 数据 参数命令 运行 SAW count探索输出目录Stereo-CITE FF 分析 本教程将指导你如何使用 SAW count 进行任务分析，演示数据来自时空蛋白组转录组 Stereo-CITE 解决方案 Stereo-seq 芯片捕获的 FF (新鲜冷冻) 小鼠脾脏样本。 基本要求 为顺利运行 SAW count流程，需要先确认： 熟悉 Linux 系统； 熟悉运行命令行工具； 确保计算系统满足最低配置要求。 在运行分析流程之前，确保计算环境中有存储空间充足，以及运行账号有足够的权限等级。 SAW count 流程概述 使用 SAW count 分析 FF 组织样本的 Stereo-seq 测序数据。 启动分析任务前，通常需要准备好以下文件： 芯片 mask 文件（记录 Stereo-seq 芯片的 CID 信息） 基因表达和ADT (Antibody derived tag) FASTQ 测序数据（Stereo-seq 测序下机数据） 参考库（根据物种进行选择），包括蛋白列表和转录组参考。 一张或多张显微镜图像（TIFF 或来自 StereoMap 的图像 .tar.gz） 来自 StereoMap 的压缩图像.tar.gz 文件 ，保存了原始的显微镜图像和 图像 QC 信息。 输出结果主要包括： 比对和注释后的 BAM 文件； 处理后的图像文件； 不同维度的基因和蛋白表达矩阵； 转录组聚类​​和差异表达分析结果； 蛋白组聚类结果 可视化文件 visualization.tar.gz ， 用于 StereoMap。 Demo 数据 本教程页面使用了 Stereo-seq Chip T 捕获的小鼠脾脏组织样本。 C04776D6数据基本信息如下： 芯片尺寸：1cm * 1cm (S1) Bin1： 500 nm * 500 nm 10μm 厚度的组织切片 Motic 显微镜拍摄得到的 DAPI 染色图像 在数据集页面下载芯片 mask 文件、测序 FASTQ 数据、TIFF 图像或图像 tar.gz 文件，转录组 reference 文件和蛋白列表。为了更好地归纳和整理数据，建议为不同类型的文件创建对应的文件夹。 $ cd /saw # Create sub-folders of different datasets $ mkdir -p datasets/STOmics-RNA-fastqs datasets/STOmics-ADT-fastqs datasets/mask datasets/image datasets/reference 参数命令 转录+蛋白分析流程时请用使用 --ref-libraries 参数，先构建参考库 ref_libraries.csv 文件，再提交分析任务。 在工作目录下，运行设置 SAW count 参数命令： saw count \\ --id= \\ --sn= \\ --omics=transcriptomics,proteomics \\ --kit-version=\"Stereo-CITE T FF V1.1\" \\ --sequencing-type=\"PE75_50+100\" \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/saw/datasets/STOmics-RNA-fastqs \\ --adt-fastqs=/saw/datasets/STOmics-ADT-fastqs \\ --ref-libraries=/saw/datasets/reference/ref_libraries.csv \\ --image-tar=/path/to/image/tar 命令行中参数的简要说明： ParameterDescription--id(Optional, default to None) A unique task id ([a-zA-Z0-9_-]+) which will be displayed as the output folder name and the title of HTML report. If the parameter is absent, --sn will play the same role.--description (Optional, default to None) Description for chip, or sample, or analysis run.--sn (Required, default to None) SN (serial number) of the Stereo-seq chip.--omics (Required, default to \"transcriptomics\") Omics information. When it comes to multi-omics analysis, please provide a list of omics, like \"transcriptomics,proteomics\" for Stereo-CITE analysis.--kit-version (Required, default to None) The version of the product kit. More in count pipeline introduction.--sequencing-type (Required, default to None) Sequencing type of FASTQs which is recorded in the sequencing report.--chip-mask (Required, default to None) Stereo-seq chip mask file, recording the spatial location information and the corresponding CID for each spot.--organism (Optional, default to None) Organism type of sample, usually referring to species.--tissue (Optional, default to None) Physiological tissue of sample.--ref-libraries (Optional, default to None) Path to a ref_libraries.csv which declares the Transcriptome reference index built by SAW makeRef --mode=STAR , and the protein panel. Not compatible with --reference.--fastqs (Required, default to None) Path(s) to folder(s), containing all needed gene expression FASTQs. If FASTQs are stored in multiple directories, use it as: --fastqs=/path/to/directory1,/path/to/directory2,.... Notice that all FASTQ files under these directories will be loaded for analysis.--adt-fastqs (Optional, default to None) Path(s) to folder(s), containing all needed ADT FASTQs. If FASTQs are stored in multiple directories, use it as: --adt-fastqs=/path/to/directory1,/path/to/directory2,.... Notice that all FASTQ files under these directories will be loaded for analysis.--image (Optional, default to None) TIFF image for QC (quality control), combined with expression matrix for analysis.Name rule for input TIFF :a. _.tifb. _.tiffc. _.TIFd. _.TIFF includes:a. ssDNAb. DAPIc. HE (referring to H&E)d. _IF, _IF, ...--image-tar (Optional, default to None) The compressed image .tar.gz file from StereoMap has been through prepositive QC (quality control). 运行 SAW count 在工作目录下，运行设置 SAW count 分析任务： cd /saw/runs saw count \\ --id=Demo_Mouse_Spleen \\ --sn=C04776D6 \\ --omics=transcriptomics,proteomics \\ --kit-version=\"Stereo-CITE T FF V1.1\" \\ --sequencing-type=\"PE75_50+100\" \\ --chip-mask=/saw/datasets/mask/C04776D6.barcodeToPos.h5 \\ --organism=mouse \\ --tissue= \\ --fastqs=/saw/datasets/STOmics-RNA-fastqs \\ --adt-fastqs=/saw/datasets/STOmics-ADT-fastqs \\ --ref-libraries=/saw/datasets/reference/ref_libraries.csv \\ --image-tar=/saw/datasets/image/C04776D6_SC_20250306_110538_4.1.1.tar.gz 本教程样本的 ref_libraries.csv 内容如下 Reference,Type /saw/datasets/reference/reference-data-mouse_SAW_v8,STAR /saw/datasets/reference/ProteinPanel_128_mouse_V2.list,ProteinMap 如果您输入图像为 TIFF 格式，文件名的前缀应为： _.tif 例如： C04144D5_ssDNA.tif SS200000135TL_D1_DAPI.tif 探索输出目录 分析任务运行结束后，在工作目录下会生成一个名为 Demo_Mouse_Thymus 的输出文件夹，它的命名取决于 --id 参数，当--id参数没有启用时取决于 --sn 参数的信息。 SAW count 分析任务通常在工作目录下开启，在该目录下，将找到一个名为 --id 或 --sn（当--id参数没有启用时）的文件夹。输出结果依据数据类型被分类，主要文件被保存在 /outs下。 下面列出了 SAW count 的输出文件目录结构和内容： Demo_Mouse_Thymus ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz 进一步探究流程输出结果 ： 跳转至HTML报告解读； 熟悉 visualization.tar.gz 文件； 了解输出结果中的各种文件类型 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/shou-dong-tu-xiang-chu-li.html":{"url":"shi-yong-jiao-cheng/shou-dong-tu-xiang-chu-li.html","title":"手动图像处理","keywords":"","body":"手动图像处理为什么要进行手动处理？SAW realign 概览第一次运行 SAW count 手动处理配准组织分割细胞分割回到 SAW realign使用 QC 成功的图像使用 QC 失败的图像无图场景SAW realign 输出结果手动图像处理 为什么要进行手动处理？ 在某些情况下，SAW count 的输出结果不够完美，分析人员可能希望手动调整图像（需要结合表达矩阵），或使用第三方工具的算法处理结果，来得到令人满意的分析结果。 当数据的图像 QC 结果为不成功时，分析人员必须手动完成显微镜图像与空间特征表达矩阵之间的配准。 通常来说，细致的手动调整会让分析流程生成更准确的表达矩阵数据，用于下游生信分析。 SAW realign 概览 FF 和 FFPE 组织样本经手动处理过后都可以使用 SAW realign 重启分析， 在启动分析任务前，通常需要准备好以下文件： 相关联的 SAW count 的输出目录； 来自 StereoMap 的经过手动调整的图像.tar.gz 文件（包含手动处理信息） 来自 StereoMap 的重新对齐的压缩图像.tar.gz文件，保存了原始显微镜图像、图像 QC 信息和手动处理的信息记录。 Interaction between SAW and StereoMap 输出结果主要包括： 由关联 SAW count 分析而来的表达矩阵相关数据； 处理后的图像文件； 不同维度的基因表达矩阵； 聚类​​和差异表达分析结果； 可视化文件 visualization.tar.gz ， 用于 StereoMap。 ParameterDescription-id (Optional, default to None) A unique task id ([a-zA-Z0-9_-]+) which will be displayed as the output folder name and the title of HTML report. If the parameter is absent, --sn will play the same role.--description (Optional, default to None) Description for chip, or sample, or analysis run.--sn (Required, default to None) SN (serial number) of the Stereo-seq chip.--count-data (Required, default to None) Output folder of the corresponding SAW count result, which mainly contains the expression matrices and other related datasets.--realigned-image-tar (Required, default to None) Compressed image file from StereoMap, which has been manually processed, including stitching, tissue segmentation, cell segmentation, calibration and registration.--lasso-geojson (Optional, default to None) Lasso GeoJSON from StereoMap is used for tissue segmentation when the analysis is without images. It is incompatible with --realigned-image-tar.--skip-cellbin(Optional, default to None) Whether to skip the processing of cellbin level, including image cell segmentation, cell border expansion, clustering based on cellbin expression matrices and so on. This switch is default to be off, to output cellbin analysis results.--adjusted-distance (Optional, default to 10) Outspread distance based on the cellular contour of the cell segmentation image, in pixels. Default to 10. If --adjusted-distance=0, the pipeline will not expand the cell border. 当你没有提供显微镜图像数据用于分析时， StereoMap 输出的 lasso GeoJSON 可用作于进行再一次的组织分割，以提取新的 .tissue.gef 矩阵。 --lasso-geojson与 --realigned-image-tar 不兼容。 第一次运行 SAW count SAW count 的输入数据大致可分为三类： 图像 QC 结果为成功 包括在 StereoMap 图像处理步骤2中完成了打点配准 图像 QC 结果为失败 没有显微镜图像 以上三种情况，运行 SAW count 后，输出目录中都会包含下列文件： Demo_Data ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz visualization.tar.gz不仅用于可视化展示，还可在 StereoMap 中进行图像手动调整，调整结果将记录在压缩图像 .tar.gz 文件中。 对于 QC 失败图像或无图像的分析任务，组织分割是基于表达矩阵数据进行的，因此这两种情况下的任务不会调用标准分析流程中的自动图像算法。 手动处理 StereoMap 中可以实现手动调整，包括图像-矩阵配准、手动组织分割和手动细胞分割，所有这些操作都可以 StereoMap 的Image Processing模块完成，实时看到修改修过，所见即所得。 配准 形态学配准 图像形态学配准需要同时使用表达矩阵和显微镜图像，根据组织形态，分析人员可以将两个图像层靠拢对齐，直到配准效果达到分析人员的要求，配准操作对于后续步骤非常重要。 A matrix heatmap and an H&E-stained image for registration 打点配准 打点配准操作只需要一张显微镜图像。StereoMap 会根据你给出的芯片左下角第一个特征点，以及预定义规则的芯片 mask 信息，自动计算影像图与矩阵配准参数。需要注意的是： 图像 QC 结果为成功，因为要确保 track 线是可见的。 有预定义规则的 Stereo-seq 芯片: Stereo-seq N FFPE V1.0, Stereo-seq T FF V1.3, or Stereo-CITE T V1.1 输入 .tar.gz 或 .stereo 文件中对应的 .tar.gz 是由 StereoMap >= 4.1 生成的 A base image and its feature points for registration 组织分割 组织分割是指通过识别样本的生物学组织形态来探测其组织区域，借助显微镜图像，分析人员可识别组织样本在 Stereo-seq 芯片上的相对位置。 Tissue segmentation on an H&E-stained image 细胞分割 细胞分割是指通过识别细胞的形态来探测单个细胞的区域，根据细轮廓信息，可以进行细胞维度的深入分析和研究。 组织分割和细胞分割是生物信息学分析中的关键步骤，适当的分割结果对后续表达矩阵数据的提取和下游分析具有重要影响。 回到 SAW realign 使用 QC 成功的图像 本教程的第三部分至关重要，因为上一次 SAW count 分析任务的输出结果将帮助 SAW realign 以完成剩余工作，直到生成 HTML 报告。 cd /saw/runs saw realign \\ --id=Adjusted_Demo_Mouse_Brain \\ --sn=SS200000135TL_D1 \\ --count-data=/path/to/previous/SAW/count/task/folder \\ --realigned-image-tar=/path/to/realigned/image/tar SAW realign 和 SAW count 一样，会根据细胞分割结果自动对细胞轮廓进行外扩，默认为 10 个像素，可以通过设置 --adjusted-distance 来调整，可根据不同的组织样本和细胞类型来调整细胞轮廓的校正程度。 DNB 是 Stereo-seq 芯片上的捕获单元。 DNB 对应配准后图像的正方形像素块的顶点，如果细胞轮廓的扩展距离为 X 像素，则其物理距离估算为 X * 500 nm。 假如对细胞分割结果（手动处理或第三方工具生成的结果）非常满意，可以设置 --adjusted-distance=0 来关闭细胞修正功能。 如果只想获得手动调整后的压缩图像 .tar.gz 文件中的图像数据或表达矩阵矩阵，可以调用 --no-matrix 或 --no-report 参数。 运行分析，如下所示： cd /saw/runs saw realign \\ --id=Demo_Mouse_Brain_Only_Images \\ --sn=SS200000135TL_D1 \\ --count-data=/path/to/previous/SAW/count/task/folder \\ --realigned-image-tar=/path/to/realigned/image/tar \\ --no-matrix 使用 QC 失败的图像 在重启分析之前，必须对图像 QC 失败的数据完成手动配准操作，需要结果显微镜图像与表达矩阵。 SAW 认为，经过手动配准操作（与表达矩阵）的 QC 失败的图像，可以通过调用流程中的自动图像算法进行分析。 cd /saw/runs saw realign \\ --id=Adjuated_Demo_Mouse_Brain \\ --sn=SS200000135TL_D1 \\ --count-data=/path/to/previous/SAW/count/task/folder \\ --realigned-image-tar=/path/to/realigned/image/tar 无图场景 来自 StereoMap 的lasso GeoJSON 文件可以用于 SAW realign 分析流程，重新分割组织区域。 需要确认你使用的lasso GeoJSON文件中仅有一个 label 区域结果，因为SAW realign每次运行仅接收一个组织再分割结果。 仅在无图片输入的场景下有效，--lasso-json 无法与图像相关参数一起使用。 运行分析，如下所示： cd /saw/runs saw realign \\ --id=Lasso_Demo_Mouse_Brain \\ --sn=SS200000135TL_D1 \\ --count-data=/path/to/previous/SAW/count/task/folder \\ --lasso-geojson=/path/to/lasso/GeoJSON SAW realign 输出结果 分析任务运行结束后，在工作目录下会生成一个名为 Adjusted_Demo_Mouse_Brain 的输出文件夹，它的命名取决于 --id 参数，当--id参数没有启用时取决于 --sn 参数的信息。 SAW count 分析任务通常在工作目录下开启，在该目录下，将找到一个名为 --id 或 --sn（当--id参数没有启用时）的文件夹。输出结果依据数据类型被分类，主要文件被保存在 /outs下。 下面列出了 SAW realign 的输出文件目录结构和内容： Adjusted_Demo_Mouse_Brain ├── pipeline-logs ├── STEREO_ANALYSIS_WORKFLOW_PROCESSING └── outs ├── analysis ├── bam ├── feature_expression ├── image ├── .report.html └── visualization.tar.gz 进一步探究流程输出结果 ： 跳转至HTML报告解读； 熟悉 visualization.tar.gz 可视化文件； 了解输出结果中的各种文件类型。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/secondary-analysis.html":{"url":"shi-yong-jiao-cheng/secondary-analysis.html","title":"数据再分析","keywords":"","body":"数据再分析 聚类分析矩阵套索差异表达分析空间基因共表达分析蛋白组&转录组联合分析基于自定义MID范围过滤矩阵自动去除蛋白背景信号数据再分析 本教程将将展示如何运行辅助分析流程 SAW reanalyze，进行 cluster 聚类分析 lasso 区域的表达矩阵提取 diffExp 差异表达分析 coExp 空间基因共表达分析 multiomics 蛋白组&转录组联合分析 midFilter 基于自定义MID范围过滤矩阵 removeBackground 自动去除蛋白背景信号 聚类分析 在生信下游分析中，聚类是一种关键且基本的算法处理，可将具有相似特征的空间表达点归为同组，该过程有助于揭示表达数据中的底层结构和模式。 在进行分析前，需要根据数据的物种和组织类型来选择合适的 bin size 例如，哺乳动物细胞的直径约为 10 µm，DNB 的物理间距为 500 nm，因此 bin20 会是一个合适的选择。 Different bin levels on the expression matrix 调用 Leiden 算法 进行聚类时，--Leiden-resolution 参数的默认值为 1.0，它可以调控 Leiden 聚类时的分群颗粒度，值越大，分群簇越多。并且，可以开启 --marker 参数，基于 Leiden 算法的分群结果进行差异表达分析。 如果使用 bin GEF 进行聚类，运行命令如下： saw reanalyze cluster \\ --gef=/path/to/input/GEF \\ --bin-size=20 \\ --Leiden-resolution=1.0 \\ --marker \\ --output=/path/to/output/clustering 基于 bin GEF 的聚类输出如下： clustering ├── .bin20_1.0.h5ad ##._.h5ad, containing analysis results ├── find_marker_genes.csv ##original output CSV └── bin20_marker_features.csv ##formatted CSV for visualization in StereoMap 在运行分析时开启 --marker ，将获得与差异表达分析相关的结果，即 find_marker_genes.csv 和 _marker_features.csv。 find_marker_genes.csv 是原始差异分析结果文件。 _marker_features.csv 是一个经过格式调整CSV，记录了每个类群的平均 MID count、L2FC、校正后的 p-value 和基因在类群内的表达占比等。 如果使用 cellbin GEF 进行聚类，运行命令如下： saw reanalyze cluster \\ --cellbin-gef=/path/to/input/cellbin/GEF \\ --Leiden-resolution=1.0 \\ --marker \\ --output=/path/to/output/clustering 基于 cellbin GEF 的聚类输出如下： clustering ├── .cellbin.gef ##a copy of input cellbin GEF but with new clustering information ├── .cellbin_1.0.h5ad ##.cellbin_.h5ad, containing analysis results ├── find_marker_genes.csv ##original output CSV └── cellbin_marker_features.csv ##formatted CSV for visualization in StereoMap 矩阵套索 StereoMap 中的交互式工具可以 lasso （手动圈选）感兴趣区域，它需要 SAW reanalyze 分析流程来协助将 lasso GeoJSON 中区域信息转化为特征表达矩阵。 Lasso in StereoMap 如果使用 bin GEF 进行 lasso，运行分析如下： saw reanalyze lasso \\ --gef=/path/to/input/GEF \\ --lasso-geojson=/path/to/lasso/GeoJSON \\ --bin-size=1,20,50 \\ --output=/path/to/output/lasso --bin-size 参数可以接收一个列表，以便一次生成多个 bin size 的表达矩阵文件。 基于 bin GEF 的 lasso 输出如下： lasso ├── │ ├── SN..label.gef ##lasso GEF of bin1 │ └── segmentation │ ├── SN.lasso...gem.gz ##GEM of lasso area of different bin sizes │ ... │ ├── SN.lasso...gem.gz │ └── SN.lasso..mask.tif ##mask image of lasso area └── ├── ... └── ... 如果使用 cellbin GEF 进行 lasso，运行分析如下： saw reanalyze lasso \\ --cellbin-gef=/path/to/input/cellbin/GEF \\ --lasso-geojson=/path/to/lasso/GeoJSON \\ --output=/path/to/output/lasso 基于 cellbin GEF 的 lasso 输出如下： lasso ├── │ ├── SN..label.cellbin.gef ##cellbin GEF of lasso area │ └── SN.lasso.cellbin..mask.tiff ##cell segmentation of lasso area └── └── ... 差异表达分析 SAW reanalyze 可以使用来自 StereoMap 的 diffexp GeoJSON 文件，基于聚类类群选择和套索区域进行差异表达分析。 选定的聚类类群和套索区域被记录在 diffexp GeoJSON 文件中。 运行分析如下： saw reanalyze diffExp \\ --count-data=/path/to/previous/SAW/count/result/folder/id \\ --diffexp-geojson=/path/to/StereoMap/diffexp/GeoJSON \\ --output=/path/to/output/differential_expression --count-data 是相关联的SAW count 分析任务的输出目录，SAW reanalyze 将自动搜索差异表达分析所需的数据文件。相关信息记录在 *.diffexp.geojson 中。 差异表达分析输出如下： differential_expression ├── ._1.0.h5ad ##H5ad containing analysis results ├── find_marker_genes.csv ##original output CSV └── _marker_features.csv ##formatted CSV for visualization in StereoMap 或： differential_expression ├── .cellbin_1.0.h5ad ##H5ad for cellbin containing analysis results ├── find_marker_genes.csv ##original output CSV └── cellbin_marker_features.csv ##formatted CSV for visualization in StereoMap 空间基因共表达分析 空间基因共表达分析（Spatial gene co-expression analysis）是一种通过整合基因表达数据和空间位置信息来构建基因间关联网络的计算方法。该方法旨在阐明基因间的相互作用模式，识别高度共变的基因集，并揭示基因功能和核心调控基因。 运行共表达分析： saw reanalyze coExp \\ --gef=/path/to/input/bin/GEF \\ --bin-size=20 \\ --top-gene=5000 \\ --output=./gene_co-expression 基于 bin GEF 的空间基因共表达输出如下： spatial_gene_co-expression ├── ..coexp.h5ad ##h5ad containing analysis results └── ..coexp.csv ##analysis output CSV 当检查输出分析 CSV 文件时，有四列描述[基因-基因]共表达相关的信息：基因 ID、基因名称和每个基因的 Moran 指数等级。 $ head C04496D6_tissue_bin20/C04496D6.bin20.coexp.csv module,geneid,real_gene_name,highly_variable_rank Module0,ENSMUSG00000002107,Celf2,17.0 Module0,ENSMUSG00000028399,Ptprd,20.0 Module0,ENSMUSG00000063142,Kcnma1,27.0 Module0,ENSMUSG00000028519,Dab1,31.0 Module0,ENSMUSG00000054728,Phactr1,35.0 Module0,ENSMUSG00000059003,Grin2a,38.0 Module0,ENSMUSG00000049336,Tenm2,45.0 Module0,ENSMUSG00000020704,Asic2,48.0 Module0,ENSMUSG00000028033,Kcnq5,54.0 对于 SAW 中的空间基因共表达分析，建议将 bin size 设置为 20 或 50，或使用 cellbin。避免 bin size 设置过大，或是使用空间特征表达不明显（过低）的矩阵，其矩阵中可能无法检测到共表达基因，从而导致 CSV 文件中缺少缺少相关结果列。\\ 目前，空间基因共表达分析主要适配空间转录组数据的分析。 基于cellbin GEF进行共表达分析： saw reanalyze coExp \\ --cellbin-gef=/path/to/input/cellbin/GEF \\ --top-gene=5000 \\ --output=./gene_co-expression 基于 cellbin GEF 的空间基因共表达输出如下： spatial_gene_co-expression ├── .cellbin.coexp.h5ad ##h5ad containing analysis results └── .cellbin.coexp.csv ##analysis output CSV 蛋白组&转录组联合分析 SAW multiomics 可以整合RNA和蛋白质数据，并通过 TotalVI 变分推断计算潜在空间。对潜在空间进行聚类分析，并进行 one-vs-all 差异表达分析，以找到标记基因和蛋白质。 您可以使用基因和蛋白 bin GEF进行联合分析，运行分析如下： saw reanalyze multiomics \\ --gef=/path/to/input/gene/GEF,/path/to/input/protein/GEF \\ --protein-panel=/path/to/ProteinPanel.list \\ --bin-size=50 \\ --output=/path/to/output/joint_analysis 或使用基因和蛋白 cellbin GEF进行联合分析： saw reanalyze multiomics \\ --cellbin-gef=/path/to/input/gene/cellbin/GEF,/path/to/input/protein/cellbin/GEF \\ --protein-panel=/path/to/ProteinPanel.list \\ --output=/path/to/output/joint_analysis 请确保找到样本在 SAW count 使用过的蛋白列表。您也可以使用 --ref-libraries 代替 --protein-panel 。 联合分析输出如下： joint_analysis ├── ..differential_expression.csv ##original outoput CSV containing differential expression results └── ..h5mu ##mutimodal data containing clustering results 或: joint_analysis ├── .cellbin.differential_expression.csv ##original outoput CSV containing differential expression results └── .cellbin.h5mu ##mutimodal data containing clustering results 基于自定义MID范围过滤矩阵 StereoMap 中的交互式工具可以手动设置 feature 的 MID 范围。 saw reanalyze midFilter \\ --gef=/path/to/input/GEF \\ --mid-json=/path/to/FilterMID.json \\ --output=/path/to/output/mid_filtering 输出如下： mid_filtering └── .filter.gef ##common GEF filtered by MID range 或： mid_filtering └── .protein.filter.gef ##protein GEF filtered by MID range 自动去除蛋白背景信号 一种自动去除非特异性结合蛋白信号的方法。算法细节请查阅 Proteome background removal 。 saw reanalyze removeBackground \\ --gef=/path/to/output/input/protein/GEF \\ --bin-size=50 \\ --protein-panel=/path/to/ProteinPanel.list \\ --output=/path/to/output/removeBackground 请确保找到样本在 SAW count 使用过的蛋白列表。您也可以使用 --ref-libraries 代替 --protein-panel 。 基于蛋白 bin GEF 的输出如下： removeBackground └── A03684D4.protein.tissue.rmbg.gem.gz ##protein expression matrix after backgrou © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"shi-yong-jiao-cheng/shu-ju-ge-shi-zhuan-huan.html":{"url":"shi-yong-jiao-cheng/shu-ju-ge-shi-zhuan-huan.html","title":"数据格式转换","keywords":"","body":"数据格式转换表达矩阵相关gef2gemgem2gefbin2tissuebin2cellvisualizationgef2h5adgem2h5adgef2rdsgem2rdsh5ad2rdsgef2img图像相关tar2imgimg2rpimergeoverlay数据格式转换 本教程将展示如何使用辅助分析流程 SAW convert 来实现基础的文件格式转换。为了让这工具更加简易好用，SAW convert 下设置了子模块用于具体执行转换任务，子模块通常被命名为\"A2B\"，表示从A格式转换到B格式的过程。 为使此流程更加直观易用，在功能描述和命令行使用方式介绍后，给出了基于真实演示数据集的示例。请勿局限于示例中使用的文件及其文件名，因为它们仅供参考。 表达矩阵相关 gef2gem 转换 bin GEF 到 GEM。 GEM（Gene Expression Matrix）中记录的特征表达矩阵仅包含有一种 bin size，因此，在进行转换时需要设置明确的 --bin-size 参数。 saw convert gef2gem \\ --gef=/path/to/input/GEF \\ --bin-size=1 \\ --gem=/path/to/output/GEM ##example test saw convert gef2gem \\ --gef=./C04144D5.tissue.gef \\ --bin-size=20 \\ --gem=./C04144D5.bin20.tissue.gem 转换 cellbin GEF 到 cellbin GEM。 特别注意，在转换 cellbin GEF 为 cellbin GEM 的过程中，需要用到每个 DNB 点上的表达信息（即bin1），所以需要加入 bin GEF 文件。 由于 cellbin GEF 的格式受限，转换过程中矩阵可能会丢失少量表达信息。如果想要生成 cellbin GEM，建议使用优化后的 bin2cell 。 saw convert gef2gem \\ --cellbin-gef=/path/to/input/cellbin/GEF \\ --gef=/path/to/input/bin/GEF \\ --cellbin-gem=/path/to/output/cellbin/GEM gem2gef 转换 bin GEM 到 bin GEF。 如果输入GEM 是bin1 维度的表达矩阵，则输出的GEF（基因表达文件）将是一个支持可视化的 GEF，其中包括 bin1、5、10、20、50、100、150、200 的表达矩阵信息。 如果输入 GEM 不是 bin1 维度的表达矩阵，输出的 GEF 将只包含特定 bin size 的表达矩阵信息。 saw convert gem2gef \\ --gem=/path/to/input/GEM \\ --gef=/path/to/output/GEF ##example test saw convert gem2gef \\ --gem=./C04144D5.tissue.gem \\ --gef=./C04144D5.tissue.gef 转换 cellbin GEM 到 cellbin GEF。 saw convert gem2gef \\ --cellbin-gem=/path/to/input/cellbin/GEM \\ --cellbin-gef=/path/to/output/cellbin/GEF ##example test saw convert gem2gef \\ --gem=./C04144D5.adjusted.cellbin.gem \\ --gef=./C04144D5.adjusted.cellbin.gef bin2tissue 从原始 bin GEF 中提取组织区域下的表达数据。 组织分割mask图对于定义样本的组织轮廓边界至关重要，从而生成组织维度上生成的表达矩阵。 saw convert bin2tissue \\ --gef=/path/to/input/GEF \\ --image=/path/to/cell/segmentation/image \\ --output=/path/to/output/directory ##example test saw convert bin2tissue \\ --gef=./C04144D5.raw.gef \\ --image=./C04144D5_ssDNA_tissue_cut.tif \\ --output=./tissue_area_result 如果实验过程中没有拍摄显微镜图像，该模块可以直接基于空间转录组表达矩进行组织分割，提取对应组织区域下的表达信息。 saw convert bin2tissue \\ --gef=/path/to/input/GEF \\ --output=/path/to/output/directory ##example test saw convert bin2tissue \\ --gef=./C04144D5.tissue.gef \\ --output=./tissue_area_result 结果目录下会有组织分割图 bin1_img_tissue_cut.tif 和组织区域下的表达矩阵 .tissue.gef。 bin2cell 转换 bin GEF 到 cellbin GEF。 细胞分割图记录了单个细胞的轮廓信息，可以用于提取细胞维度的表达矩阵文件。 saw convert bin2cell \\ --gef=/path/to/input/GEF \\ --image=/path/to/cell/segmentation/image \\ --cellbin-gef=/path/to/output/cellbin/GEF ##example test saw convert bin2cell \\ --gef=./C04144D5.tissue.gef \\ --image=./C04144D5_ssDNA_mask.tif \\ ## or C04144D5_ssDNA_mask_edm_dis_10.tif --cellbin-gef=./C04144D5.cellbin.gef ## or C04144D5.adjusted.cellbin.gef SAW 8.2 开始，bin2cell 提供了一种改进的方法，可以从raw bin GEF 直接生成 cellbin GEM，如果需要使用cellbin GEM开展下游分析，建议使用此模块的方法。 saw convert bin2cell \\ --gef=/path/to/input/bin/GEF \\ ## if concerned about tissue area, use .tissue.gef --image=/path/to/input/cell/segmentation/TIFF \\ --cellbin-gef=/path/to/output/cellbin/GEF \\ --cellbin-gem=/path/to/output/cellbin/GEM ##example test saw convert bin2cell \\ --gef=./C04144D5.tissue.gef \\ --image=./C04144D5_ssDNA_mask.tif \\ ## or C04144D5_ssDNA_mask_edm_dis_10.tif --cellbin-gef=./C04144D5.cellbin.gef \\ ## or C04144D5.adjusted.cellbin.gef --cellbin-gem=./C04144D5.cellbin.gem ## or C04144D5.adjusted.cellbin.ge visualization 转换原始 GEF 为 支持可视化的 GEF。 原始 GEF（Gene Expression File）仅在 bin1 维度上储存基因表达信息，是为了防止输出文件过大。然而，要在 StereoMap 中进行可视化，需要包含不同 bin size 的表矩阵信息，通常使用的 bin size 列表 [1, 5, 10, 20, 50, 100, 150, 200]。 saw convert visualization \\ --gef=/path/to/input/GEF \\ --bin-size=1,5,10,20,50,100,150,200 \\ --visualization-gef=/path/to/output/visualization/GEF ##example test saw convert visualization \\ --gef=./C04144D5.raw.gef \\ --bin-size=1,5,10,20,50,100,150,200 \\ --visualization-gef=./C04144D5.gef gef2h5ad 转换 bin GEF 到 AnnData H5AD。 AnnData H5AD 是被广泛引用于下游分析的数据格式。AnnData包版本 >= 0.8.0。 saw convert gef2h5ad \\ --gef=/path/to/input/GEF \\ --bin-size=20 \\ --h5ad=/path/to/output/h5ad ##example test saw convert gef2h5ad \\ --gef=./C04144D5.tissue.gef \\ --bin-size=20 \\ --h5ad=./C04144D5.bin20.h5ad 转换 cellbin GEF 到 AnnData H5AD。 saw convert gef2h5ad \\ --cellbin-gef=/path/to/input/cellbin/GEF \\ --h5ad=/path/to/output/h5ad ##example test saw convert gef2h5ad \\ --cellbin-gef=./C04144D5.cellbin.gef \\ --h5ad=./C04144D5.cellbin.h5ad gem2h5ad 转换 bin GEM 到 AnnData H5AD。 saw convert gem2h5ad \\ --gem=/path/to/input/GEM \\ --bin-size=20 \\ --h5ad=/path/to/output/h5ad ##example test saw convert gem2h5ad \\ --gem=./C04144D5.tissue.gem \\ --bin-size=20 \\ --h5ad=./C04144D5.bin20.h5ad 转换 cellbin GEM 到 AnnData h5ad。 saw convert gem2h5ad \\ --cellbin-gem=/path/to/input/cellbin/GEM \\ --h5ad=/path/to/output/h5ad ##example test saw convert gem2h5ad \\ --cellbin-gem=./C04144D5.cellbin.gem \\ --h5ad=./C04144D5.cellbin.h5ad gef2rds 转化 bin GEF 为 RDS 格式文件。 RDS 文件格式是一种序列化数据结构，用于保存和加载 R 中的 Seurat 数据对象。 saw convert gef2rds \\ --gef=/path/to/input/bin/GEF \\ --bin-size=20 \\ --rds=/path/to/output/seurat/rds ##example test saw convert gef2rds \\ --gef=./C04144D5.tissue.gef \\ --bin-size=20 \\ --rds=./C04144D5.bin20.tissue.rds 转化 cellbin GEF 为 RDS 格式文件。 saw convert gef2rds \\ --cellbin-gef=/path/to/input/cellbin/GEF \\ --rds=/path/to/output/seurat/rds ##example test saw convert gef2rds \\ --cellbin-gef=./C04144D5.cellbin.gef \\ --rds=./C04144D5.cellbin.rds gem2rds 转化 bin GEM 为 RDS 格式文件。 saw convert gem2rds \\ --gem=/path/to/input/bin/GEM \\ --bin-size=20 \\ --rds=/path/to/output/seurat/rds ##example test saw convert gem2rds \\ --gem=./C04144D5.tissue.gem \\ --bin-size=20 \\ --rds=./C04144D5.bin20.tissue.rds 转化 cellbin GEM 为 RDS 格式文件。 saw convert gem2rds \\ --cellbin-gem=/path/to/input/cellbin/GEM \\ --rds=/path/to/output/seurat/rds ##example test saw convert gem2rds \\ --cellbin-gem=./C04144D5.cellbin.gem \\ --rds=./C04144D5.cellbin.rds h5ad2rds 转化 AnnData H5AD 为 RDS 格式文件，用于 Seurat 软件中的下游分析。 saw convert h5ad2rds \\ --h5ad=/path/to/input/anndata/h5ad \\ --rds=/path/to/output/rds/file ##example test saw convert h5ad2rds \\ --h5ad=./C04144D5.cellbin.h5ad \\ --rds=./C04144D5.cellbin.rds gef2img 生成 bin GEF 的灰度热图，采用灰度图展示特征表达矩阵。 saw convert gef2img \\ --gef=/path/to/input/GEF \\ --bin-size=1 \\ --image=/path/to/output/heatmap/TIFF/image ##example test saw convert gef2img \\ --gef=./SS200000135TL_D1.raw.gef \\ --bin-size=1 \\ --image=./res_bin1.tif 图像相关 tar2img 从压缩图像 .tar.gz 文件中提取 TIFF 图像，其中通常包含与表达矩阵配准后的显微镜图像，组织分割图像，和细胞分割图像。自动算法或手动处理的图像结果都记录在图像 .tar.gz 文件中。 saw convert tar2img \\ --image-tar=/path/to/input/image/tar \\ --image=/path/to/output/folder ##example test saw convert tar2img \\ --image-tar=./SS200000135TL_D1_SC_20240711_105908_4.1.0.tar.gz \\ --image=./SS200000135TL_D1_image_results img2rpi 合成 TIFF 图像为 RPI 文件，用于 StereoMap 可视化展示。 Layer 图层的名字可以随意命名，但需遵从如下规则：/，例如：DAPI/TissueMask。如果是细胞分割结果相关的图层，建议名称前缀为\"CellMask\"，程序会自动将其转换为细胞轮廓进行展示。 saw convert img2rpi \\ --image=/path/to/input/image1,/path/to/input/image2,/path/to/input/image3... \\ --layers=DAPI/Image,DAPI/TissueMask,DAPI/CellMask... \\ --rpi=/path/to/output/rpi ##example test saw convert img2rpi \\ --image=./SS200000135TL_D1_ssDNA_regist.tif,./SS200000135TL_D1_ssDNA_mask.tif \\ --layers=ssDNA/Image,ssDNA/CellMask... \\ --rpi=./SS200000135TL_D1.rpi merge 合并多张图为一张图像（至多3张图）。 请注意，图像输入的顺序代表其颜色通道 R-G-B。 saw convert merge \\ --image=/path/to/input/image1,/path/to/input/image2,/path/to/input/image3 \\ --merged-image=/path/to/output/multichannel/image ##example test saw convert merge \\ --image=./SS200000135TL_D1_ssDNA_regist.tif,./SS200000135TL_D1_ssDNA_tissue_cut.tif \\ --merged-image=./SS200000135TL_D1.merged.tif 合并显微镜图像 ssDNA_SS200000135TL_D1_regist.tif 和组织分割图 ssDNA_SS200000135TL_D1_tissue_cut.tif，可用于评估组织分割的效果。 显微镜图像 ssDNA_SS200000135TL_D1_regist.tif 和细胞分割图 ssDNA_SS200000135TL_D1_mask.tif 合并结果的部分区域，用于评估细胞分割的效果。 overlay 将通过矩阵推导的模板点叠加到图像上，用以检查图像 QC 识别到的图像模板点是否准确。 矩阵模板文件 _matrix_template.txt 可在 可视化文件 visualization.tar.gz 中找到。 saw convert overlay \\ --image=/path/to/input/image \\ --template=/path/to/input/template/txt \\ --overlaid-image=/path/to/output/overlaid/image ##example test saw convert overlay \\ --image=./SS200000135TL_D1_regist.tif \\ --template=./ssDNA_matrix_template.txt \\ --overlaid-image=./SS200000135TL_D1.overlay.tif 将矩阵模板点叠加到 ssDNA_SS200000135TL_D1_regist.tif 图像上，用以检查配准效果。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"algorithms/":{"url":"algorithms/","title":"算法原理","keywords":"","body":"算法原理算法原理 SAW Read Processing AlgorithmsEssential processing steps for read alignment, annotation and secondary analysis.SAW Image Processing AlgorithmsImage processing algorithms solve image problems and assist in generating expression matrices. *The interpretation of the Algorithm part is only available in EN. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"algorithms/gene-expression-algorithms.html":{"url":"algorithms/gene-expression-algorithms.html","title":"Read processing algorithms","keywords":"","body":"Read processing algorithmsAlignment & AnnotationCID mappingRNA filteringMID filteringGenome AlignmentAnnotation to transcriptomeMID correction & countingPID mappingSecondary analysisDimensionality reduction Clustering Differential expression Spatial gene co-expressionProteome & Transcriptome joint analysisProteome background removalReferenceRead processing algorithms *The interpretation of the Algorithm part is only available in EN. Gene Expression Count during SAW count, for the FASTQ data from the Stereo-seq sequencing platform, includes the following analysis stages: Read processing workflow Read processing workflow Regarding the key steps of read alignment and annotation, a flowchart is used to illustrate. Algorithm workflow Alignment & Annotation CID mapping CID mapping requires FASTQs and a chip mask file, recording position information for sequencing reads. Check the amount of Ns in Coordinate IDs: If there is 1 N base in CID, the N base will be replaced by A/T/C/G. CIDs without N bases will be directly poured into the match pool. CIDs with more than one N base will be discarded. In the absense of an N base, if a CID does not match to any positions, each base of the CID will replaced by the other three types iterately until a successful match. After the mapping, only the unique CID match will be retained for subsequent steps. Workflow of CID mapping RNA filtering Before genome alignment, it is necessary to confirm that the reads entering the next step are cDNA sequences. Ideally, this part of the data only contains cDNA fragments, but there may be cases where the fragmented cDNA is too short or some non-cDNA fragments are detected. Reads will be discarded if any of the following conditions are triggered: with a length of less than 30 after cutting out adapter sequences, with a length of less than 30 after cutting out the poly-A sequence, mapped to DNB sequences. The above three are collectively known as \"non-relevant short reads\". MID filtering MID sequences will be filtered out if they match any of the following: having more than one base with quality having N bases >= 1. Genome Alignment To align reads to the genome with splicing awareness, SAW utilizes the STAR aligner. Using a transcript annotation GTF/GFF file, the system classifies reads as exonic, intronic, or intergenic ones based on their alignment. If a read shares at least 50% of its overlap with an exon, it is considered exonic XF:i:0. If a sequence does not meet the criteria for exon but crosses an intron, it is called intronic XF:i:1. The exonic locus is given priority, and the read is deemed to be reliably mapped to the exonic locus with a MAPQ of 255 for reads that align to one exonic locus but also to one or more non-exonic loci. Annotation to transcriptome In SAW, reads mapped to exonic and intronic regions are to be annotated, using the transcriptomic annotation file. Remove rRNA The preconditions for rRNA filtration are: switching --rRNA-remove on when runningSAW count, addition of rRNA information to the index files using SAW makeRef. Reads mapped to rRNA regions will have a tag of XF:i:3, and they will not move on to the next step. Transcriptome SAW estimates whether there is a successful annotating record based on the position of each read mapped to the genome and whether the alignment is located in a gene region. When the alignment direction of the read on the genome is consistent with that of a gene and overlaps with the gene >= 50% of the mapped length, the read will be considered to be annotated with the gene. If a read is annotated to multiple genes, the one with the longest overlap length with the gene is selected as the final result of the read. When the overlap lengths are the same, the read is considered to be annotated unsuccessfully. Interpretation of annotation Annotating types are classified according to the following rules: If the overlap between read and exon is >=50%, the read is considered to originate from the exonic region of the gene, otherwise, it originates from the intron region. Reads overlapped with genes but have inconsistent directions are classified as antisense XF:i:4. Reads that can be aligned to the genome but cannot be classified as gene or antisense are considered to be intergenic XF:i:2. MID correction & counting At a position, if the MID counts of a certain gene >= 5, they will be corrected. After sorting the MID counts of a specific gene in descending order, the numerical values are corrected following the fundamental principle that allows a Hamming distance of 1. After correction, a tag of UB:Z:XXXXX will be added to the record. An example of MID correction PID mapping Check the number of N in 15bp ADT reads. If the number N is greater than 1, discard the read; If the number N is 1 and pidMismatch > 0, replace N with A/T/C/G, and then compare with the protein panel respectively. If the query is successful, note CNT = 1. After the iterative query is completed, if CNT = 1, perform pid_mapped_mismatch_reads++. If CNT != 1, discard the read directly. If the number N is 0 and pidMismatch = 1, replace any one position of PID with the other three bases for the query. If the number of successful queries is 1, note CNT=1 and perform pid_mapped_mismatch_reads++. If the number of successful queries exceeds 1, note CNT != 1, and discard the read. Secondary analysis The secondary analysis, in SAW count and SAW realign, are performed using Stereopy. The procedure includes 6 main parts: Preprocess gene expression data from the tissue coverage region (normalize, logarithmize, identify highly variable genes, and scale each gene). Normalization processing includes normalize_total(), log1p(), scale(zero_center=False). Reduce the dimensionality of the data by running PCA (not based on high variable genes, n_pcs=20). Compute the neighborhood graph and embed the neighborhood graph using UMAP[1]. Clustering by Leiden[2] algorithm (resolution=1.0 for transcriptomics). Perform differential expression analysis, using the t-test to find marker features (using all genes). Output analysis result file in AnnData H5AD and marker feature CSV. Dimensionality reduction PCA: Spatiotemporal transcriptome data often contain thousands of genes, making the data high-dimensional and challenging to analyze. Principal Components Analysis (PCA) reduces dimensionality by transforming the data into a set of principal components (PCs) that capture the most significant variance. UMAP: SAW supports Uniform Manifold Approximation and Projection (UMAP), which is a popular non-linear dimensionality reduction technique that is particularly useful for visualizing high-dimensional data in a low-dimensional space. In the context of spatiotemporal transcriptome data analysis, it is beneficial to capture both local and global structures as it facilitates the interpretation of complex datasets. UMAP coordinates are available in the pipeline output H5AD, as well as being displayed in the HTML report and StereoMap. Clustering SAW uses the Leiden algorithm for clustering spots by expression similarity, operating in the PCA representation. Leiden: an algorithm for network community detection, which is particularly important in bioinformatics analysis, especially in the analysis of spatial transcriptomic datasets. It is an enhanced version of Louvain's method, developed to address its potential instability and provide higher resolution and a more robust community structure. In bioinformatics, the primary roles and benefits of Leiden algorithm can be summarized as follows: Improved resolution and stability: the algorithm can effectively identify smaller community structures, which is crucial for understanding cellular heterogeneity and subtle changes in complex biological processes. Compared with Louvain's method, Leiden can offer more consistent and stable results across multiple runs. Efficient cell type identification: in the analysis of spatial transcriptomic sequencing data, Leiden clustering can assist researchers in identifying various cell types or states from thousands of cells. By constructing a network of cell similarities, Leiden algorithm can cluster similar cells together to form distinct groups, which typically correspond to various biological functions or cell types. Powerful community structure detection: Leiden algorithm ensures the quality of clustering by optimizing a modularity function, which helps reveal complex biological patterns and potential regulatory networks in samples. It is particularly important for understanding the interactions and signal transduction pathways between cells. Applicable to large-scale datasets: with the advancement of single-cell sequencing technology, the size of datasets is increasing. The Leiden algorithm's computational efficiency allows it to handle large-scale datasets while keeping computational costs low. Flexibility and scalability: it is not only applicable to spatial transcriptomic data but can also be extended to other types of bioinformatic data, such as protein interaction networks, metabolic networks, etc. Differential expression To identify genes whose expression is specific to each cluster for each gene and each cluster, whether the in-cluster mean differs from the out-of-cluster mean. In SAW pipelines, all genes from the spatial expression matrix are input for differential expression analysis, rather than only the highly variable genes. t-test: the method used in the find_marker_genes of Stereopy package is based on classical statistical principles to identify differentially expressed genes between groups of cells. Grouping cells: cells are grouped based on a categorical variable, such as cluster labels obtained from the Leiden clustering algorithm. For example, cells in cluster A are compared to cells in cluster B. Expression levels: for each gene, the expression levels are compared between the two groups of cells. Calculating the t-statistic: the t-statistic is calculated using the formula: Degrees of freedom: the degrees of freedom (df) for the test are calculated, often using a formula that takes into account the sample sizes and variances of both groups. A common formula is: P-value calculation: the t-statistic is then compared to the t-distribution with the calculated degrees of freedom to obtain a p-value. This p-value indicates the probability that the observed difference in means could have occurred by chance. Multiple testing correction: given that thousands of genes are tested simultaneously, multiple testing correction methods (such as Benjamini-Hochberg) are applied to control the false discovery rate (FDR). The t-test method in find_marker_genes leverages the principles of hypothesis testing to identify genes that are significantly differentially expressed between predefined groups of cells. This method provides a straightforward and statistically sound approach to uncovering key marker genes that distinguish between cell types or conditions, facilitating deeper insights into the underlying biology of the dataset. Spatial gene co-expression Spatial gene co-expression analysis is a computational approach that constructs gene-gene correlation networks by integrating gene expression data and spatial location information. This method aims to elucidate the interaction patterns between genes, identify highly co-varying gene sets, and uncover gene functions and core regulatory genes. Spatial gene co-expression analysis in SAW is mainly divided into two parts: Moran's Index[3] the spatial enrichment of each gene's expression level is assessed. Genes exhibiting distinct clustered expression patterns in space are ranked higher. This step serves as an initial screening to identify spatially variable genes, thereby reducing computational resource consumption. Subsequently, the Network Smoothing based on Topology (NeST)[4] algorithm is employed to detect spatially co-expressed gene sets. This method determines the spatial expression patterns of each gene at different resolutions (bin sizes) and then clusters genes based on the similarity of their spatial patterns. Its core idea is to utilize the similarity of gene expression data and known gene-gene interaction relationships to construct a more accurate and robust co-expression network through an iterative smoothing process. Ultimately, it outputs gene sets with similar spatial expression profiles. Data preprocessing: Normalize gene expression data, such as Z-score normalization or log2 transformation. Construct an initial similarity matrix between genes, for example, using the Pearson correlation coefficient or Spearman correlation coefficient to calculate the similarity between gene expression profiles. Network construction Map gene expression data to a known gene interaction network (e.g., PPI network) to construct a gene network. For each gene node in the network, calculate the weighted average of its neighboring nodes as the smoothed expression value of the gene. Iterative smoothing Repeat step 2, using the smoothed gene expression values to recalculate the gene similarity matrix and update the gene network. The iterative process continues until the gene expression values or network structure reaches a stable state. Co-expression network construction Construct a gene co-expression network based on the final gene similarity matrix by setting a threshold. Perform module partitioning on the co-expression network to identify functionally related gene modules. Proteome & Transcriptome joint analysis Combining gene and protein data allows us to gain a more comprehensive understanding of cellular identity, as these two perspectives offer different insights into the molecular state. However, it is important to consider the unique sources of technical bias and noise associated with each data type. Specifically, protein data is prone to inherent technical background noise caused by non-specifically bound antibodies. To address these challenges, we utilize Total Variational Inference (totalVI)[5], which employs a deep generative model to learn a joint probabilistic representation of paired gene and protein measurements. This approach effectively accounts for the distinct noise and technical biases of each modality. Within this framework, our tool, SAW, leverages totalVI to generate a joint latent representation of spots (or cells), produce denoised gene and protein data, and compute differential expression of gene and protein. To initiate the totalVI model, SAW inputs matrices of gene and protein unique molecular identifier counts (GEF file) for spots or cells. The model then generates a joint low-dimensional latent space. For cluster identification, SAW employs the Leiden algorithm and visualizes the clusters using UMAP. Differential expression testing (DE test) is conducted using totalVI, which estimates a distribution over the log fold change (LFC) of expression between two sets of spots (or cells). This distribution is utilized to quantify the strength of evidence supporting a hypothesis of differential expression, employing Bayes factors. SAW performs a one-vs-all DE test to determine gene and protein markers for each cluster, respectively, and stores the results in a single dataframe in CSV format. To filter the results, we retain features with a Bayes factor on the natural log scale above a specified threshold (>1 for gene markers, >0.7 for protein markers), as well as genes with an expression proportion greater than 10% in the cluster of interest. The denoised gene and protein data are produced in the H5MU format, allowing for visualization of gene and protein markers within each cluster using a heatmap. Proteome background removal There is non-specificity in protein antibody binding to cell surface antigens in tissues. Therefore, the antibody protein signal intensity detected in the tissue includes two situations: Protein positive signal is specific binding; Protein negative signal is non-specific binding. Therefore, it is necessary to dynamically determine a reasonable threshold to distinguish protein positive signals from negative signals. Different antibody protein thresholds are independent of each other and do not affect each other, and the threshold must meet the following conditions: The intra-class variance of the protein positive signal set and the negative signal set is the smallest The inter-class variance of the protein positive signal set and the negative signal set is the largest In order to complete the above conditions, it is necessary to perform： Remove the duplicates of the protein signal intensity and sort it from small to large, noted as (m1, m2, m3, m4, ..., mn), and then count the frequency of occurrence of each signal intensity m, noted as (f1, f2, f3, f4, ..., fn). Set the initial threshold t, and t satisfies m1 . Then take t as the threshold, classify those greater than t into one category, note them asC1. Those less than or equal to t are classified into one category, noted as C2. Then calculate the inter-class and intra-class variances of C1 and C2. Since the sum of the intra-class and inter-class variances is a constant when the inter-class variance is the largest, the intra-class variance is the smallest, so only record the inter-class variance corresponding to the t value. Iterate the t value and record the inter-class variance corresponding to each t. After the iteration is completed, take the t value corresponding to the maximum inter-class variance as the reasonable threshold to distinguish the positive signal from the negative signal of the protein. According to the determined threshold, perform the following operations: A value greater than the threshold is considered a specific binding signal. A value less than or equal to the threshold is considered a non-specific binding signal. Then filter out the bin or cell of the non-specific binding signal to achieve background removal. Reference McInnes, L., Healy, J. & Melville, J. UMAP: Uniform Manifold Approximation and Projection for Dimension Reduction. arXiv 1802.03426 (2018). Traag, V.A., Waltman, L. & van Eck, N.J. From Louvain to Leiden: guaranteeing well-connected communities. Sci. Rep. 9, 5233 (2019). Moses, L. & Pachter, L. Museum of spatial transcriptomics. Nat. Methods 19, 534–546 (2022). Walker, B. L. & Nie, Q. NeST: nested hierarchical structure identification in \\ spatial transcriptomic data. Nat. Commun. 14, 6554 (2023). Gayoso, A. et al. Joint probabilistic modeling of single-cell multi-omic data with totalVI. Nat. Methods 18, 272-282 (2021). © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"algorithms/image-processing-algorithms.html":{"url":"algorithms/image-processing-algorithms.html","title":"Image processing algorithms","keywords":"","body":"Image processing algorithmsOverviewTissue segmentationCell segmentationCell border expandingReferenceImage processing algorithms *The interpretation of the Algorithm part is only available in EN. Overview SAW pipelines will automatically execute image processing algorithms, primarily involving tissue detection, cell segmentation and cell border expanding, based on microscope images that have passed QC. The defined tissue contour and cell borders assist in extracting spatial feature expression matrices of specific targeted regions. Tissue segmentation In SAW, gene expression under tissue is used in downstream analysis. A more accurate tissue segmentation helps to define gene expression under tissue with greater precision. The performance of segmentation is affected by imaging quality (such as clarity), tissue properties (such as discontinuous areas), and the contrast between tissue and the background. The grayscale image (ssDNA/DAPI-based) or G-channel image (H&E-based) after Contrast Limited Adaptive Histogram Equalization (CLAHE) is used as input to the BCDU-Net (Bi-directional ConvLSTM U-Net) model [1]. The model classifies each pixel as either being in tissue or not. It also fills holes in large areas, resulting in a binarized tissue mask. If you do not have a microscope image, SAW can still perform tissue segmentation using a feature density map. The algorithm is trained on this type of data. The input feature density map is converted to a grayscale image and subjected to clarity enhancement before being fed into the BCDU-Net model. The remaining image-processing steps are identical to those used in microscope-image-based tissue segmentation. Tissue segmentation overview Additionally, holes in the tissue mask from the Immunofluorescence (IF) image won't be filled. IF NameIF image (auto-colored in StereoMap)IF tissue MaskAKAP3TESK2 If the segmentation result does not meet your expectations, you can refer to the tutorial of With manually processed files, to perform a new segmentation. Cell segmentation SAW provides the option of cell-level analysis based on the cell segmentation result. However, the imaging quality and cell distribution can impact the segmentation performance. To address this issue, we utilize various tissue-type images as input for a deep-learning model to enhance the accuracy of segmentation. This process involves using a digital image clarity-enhanced method and a light model framework to produce the cell segmentation result. SAW also offers a GPU computing option to accelerate the segmentation process. The input to the BCDU-Net model is a grayscale image after histogram equalization. The model also incorporates BCDU-Net [1], this architecture is beneficial for spatial understanding, predicting patterns, and capturing image context with high parameter efficiency. Finally, utilize the watershed method to acquire more reasonable cell outlines, eliminate small areas of less than 15 pixels, and generate binarized cell masks. Cell segmentation overview Cell segmentation in the tissue edge Cell segmentation in hollows \\ If the segmentation result does not meet your expectations, you can refer to the tutorial of With manually processed files, to perform a new segmentation. Cell border expanding After tissue staining, only the cell nucleus area will be stained. Therefore, the area segmented by cell segmentation typically corresponds to the nucleus area. It is important to note that the background area outside the segmented cells may also be considered part of the cell. At the same time, there is also the issue of gene diffusion, which leads to a limited number of genes in the nucleus, hindering downstream analysis. Therefore, EDM (Euclidean Distance Map) correction technology is used to expand the boundary of the cell nucleus and simulate a complete cell as much as possible, thereby increasing the number of genes. Cell border expanding (pink) in the tissue edge Cell border expanding (pink) in hollows The EDM correction algorithm is designed to enhance the cell nucleus's boundary and simulate a complete cell as closely as possible, thereby increasing the number of genes. To achieve this, the input cell segmentation image is converted into an EDM image. The EDM image is composed of the distance from the background pixel outside the cell to the nearest cell. The algorithm calculates the distance from each point in the background to the nearest cell. Based on the threshold (default value is 10, but adjustable), the area within this threshold from the nearest cell is assigned to the cell. In other words, each cell expands its range within the threshold. Within this threshold, any data point that is closest to a cell is assigned to that cell. In other words, each cell extends its range within the threshold. Cell border expanding is automatically performed based on the cell segmentation result, during SAW count and SAW realign. If you are satisfied with the cell segmentation result, --adjusted--distance=0 in SAW realign will be helpful to skip this step. Reference Azad, R., Asadi-Aghbolaghi, M., Fathy, M. & Escalera, S. Bi-Directional ConvLSTM U-Net with Densley Connected Convolutions. 2019 IEEE/CVF International Conference on Computer Vision Workshop (ICCVW) 406-415 (2019). © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"gao-ji-she-zhi/":{"url":"gao-ji-she-zhi/","title":"高级设置","keywords":"","body":"高级设置高级设置 Cluster ModeHow to perform analysis more efficientlyParallel ComputingHow to achieve parallel computing on reads alignmentRun SAW count with GPUHow to start SAW count run with GPU resources in your environmentExpression Matrix FormatLearn about the file formats of the Stereo-seq matrix Image Processing RecordsLearn about the file formats related to image processing *The interpretation of the Advanced part is only available in EN. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"gao-ji-she-zhi/cluster-mode.html":{"url":"gao-ji-she-zhi/cluster-mode.html","title":"Cluster mode","keywords":"","body":"Cluster modeOverviewEnabling Cluster ModeResource configurationSubmit analysisCluster mode *The interpretation of the Advanced part is only available in EN. Overview SAW now supports submitting analysis tasks in cluster mode on Linux systems, compatible with the SGE job scheduling tool. Cluster mode allows analysts to execute tasks in parallel in high-performance computing environments, maximizing cluster resources and improving analysis efficiency. Cluster mode support: Define default job submission rules and resource requirements through configuration files. Resource allocation optimization: Dynamically adjust thread count, memory size, and memory retry factors to optimize resource utilization. Task management: supports job submission, logging, and task interruption. Parallel computing: supports intra-rule and inter-rule parallel computing, suitable for large-scale data analysis. Enabling Cluster Mode Enable cluster mode by specifying --job-mode=sge when running tasks. If cluster mode is not specified, the local mode is used by default. Resource configuration A resource configuration file is used to define default job submission rules and resource requirements. A resource file, /path/to/software/package/saw/config/resources.yaml, is typically in YAML format and includes the following sections: Default resource configuration: defines global defaults for rules without explicit configurations. Rule-specific resource configuration: thread count, memory size (GB), maximum of times to retry, memory retry factors (the memory allocated for the next retry will be increased by a specified multiple) for specific rules. If the default value of a field is null, it indicates that the program will automatically calculate the resources required for this component in real-time. Typically, these components do not consume excessive computing resources. Example file of resource configuration yaml : version: \"1.0\" global: scheduler: \"local\" #choice: local, sge default_setting: max_retries: 0 schedulers: #optional sge: queue: \" \" #if none, default queue will be used ------------------------------------------------------- #optional rule settings, pick needed ones rules: generate_mask: threads: 1 mem_gb: 1.5 retry_factor: 2 generate_cid_count: threads: 16 mem_gb: 1 retry_factor: 2 alignment: #read alignment threads: null mem_gb: null #from CID counts retry_factor: 1.5 annotation: #gene annotation threads: null #lowest 8 mem_gb: 70 retry_factor: 1.5 merge_cid_info: threads: 10 mem_gb: 3 retry_factor: 2 image_registration: #image-related processing threads: null mem_gb: 20 retry_factor: 1.5 tissue_cut: threads: 10 mem_gb: 12 retry_factor: 2 microbe_analysis: threads: 10 mem_gb: 66 retry_factor: 2 microbe_tissue_cut: threads: 10 mem_gb: 11 retry_factor: 2 clustering: #clustering analysis based on matrices threads: 1 mem_gb: 8 retry_factor: 2 cell_cut: threads: 1 mem_gb: 15 retry_factor: 2 saturation: threads: 1 mem_gb: 7 retry_factor: 2 protein_mapping: threads: null mem_gb: 45 retry_factor: 2 protein_tissue_cut: threads: 10 mem_gb: 8 retry_factor: 2 protein_clustering: threads: 11 mem_gb: 3 retry_factor: 2 protein_cell_cut: threads: 1 mem_gb: 15 retry_factor: 2 protein_saturation: threads: 1 mem_gb: 10 retry_factor: 2 protein_remove_background: threads: 10 mem_gb: 20 retry_factor: 2 protein_calculate_statistics: threads: 1 mem_gb: 45 retry_factor: 2 generate_gef: threads: 1 mem_gb: 15 retry_factor: 2 generate_report: threads: 1 mem_gb: 15 retry_factor: 2 package_visualization: threads: 1 mem_gb: 1 retry_factor: 2 Default resource configuration is suitable for most Stereo-seq datasets (chip size 2*3), it is essential to adjust the resource configuration in the resources.yaml file. Submit analysis Enable SGE mode to submit SAW count analysis task: cd /saw/runs saw count \\ --id=SGE_test \\ --sn=C04144D5 \\ --omics=transcriptomics \\ --kit-version='Stereo-seq N FFPE V1.0' \\ --sequencing-type='PE75_25+59' \\ --organism=mouse \\ --tissue=brain \\ --chip-mask=./C04144D5.barcodeToPos.h5 \\ --fastqs=./reads \\ --reference=./mouse_transcriptome \\ --threads-num=96 \\ --memory=100 \\ --job-mode=sge Or use a specified configuration YAML to start an analysis task: Remember to adjust the scheduler to \"sge\" and set a queue if you are using a specific YAML file in SGE clustering mode. cd /saw/runs saw count \\ --id=SGE_with_a_specific_yaml_test \\ --sn=C04144D5 \\ --omics=transcriptomics \\ --kit-version='Stereo-seq N FFPE V1.0' \\ --sequencing-type='PE75_25+59' \\ --organism=mouse \\ --tissue=brain \\ --chip-mask=./C04144D5.barcodeToPos.h5 \\ --fastqs=./reads \\ --reference=./mouse_transcriptome \\ --threads-num=96 \\ --memory=100 \\ --job-mode=./specific_configuration_for_my_stereoseq_chip.yaml © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"gao-ji-she-zhi/parallel-computing.html":{"url":"gao-ji-she-zhi/parallel-computing.html","title":"Parallel computing","keywords":"","body":"Parallel computingParallel alignment of FASTQsResource settingsParallel computing *The interpretation of the Advanced part is only available in EN. Parallel alignment of FASTQs Read alignment and annotation are typically the most resource-intensive steps during the analysis process. Consequently, parallel processing of transcriptome alignment is especially crucial. The decision to enable parallel computing depends on the available memory and the number of threads designated for the analysis, whether it is in local mode or cluster mode. The number of parallel tasks is determined by the smaller value of either [Maximum free memory/memory required for an alignment subtask] or [Setting threads/threads required for an alignment subtask]. Resource settings For instance, if set 150 GB of memory and 24 threads to start SAW count run like: #analysis script saw count \\ ... --id=FASTQ_parallel_alignment \\ --memory=150 \\ --threads-num=24 \\ ... and generate a specific resource configuration file or check the /saw-8.2.X/config/resources.yaml #resource configuration yaml version: \"1.0\" global: scheduler: \"sge\" default_setting: max_retries: 0 schedulers: sge: queue: \" \" rules: ... alignment: #read alignment threads: 16 mem_gb: null ##assume the memory consumption of a subtask is 60GB retry_factor: 1.5 ... The memory required for the read alignment of a pair of FASTQ does not need to be specified. The program will automatically calculate and utilize the number of CID sites in Stereo-seq chip mask. Assume that the memory required for a pair of FASTQ alignments, namely a read alignment subtask, is 60 GB. Therefore, a minimum of [150 GB / 60 GB] and [24 / 16] will be utilized for parallel processing. Clearly, this analysis task can only be executed serially under the aforementioned settings. The most straightforward way is to modify the resource settings: #analysis script saw count \\ ... --id=FASTQ_parallel_alignment \\ --memory=150 \\ #memory is enough --threads-num=32 \\ #give more threads, 32/16=2 ... or #resource configuration yaml version: \"1.0\" global: scheduler: \"sge\" default_setting: max_retries: 0 schedulers: sge: queue: \" \" rules: ... alignment: #read alignment threads: 12 #reduce the number of threads for a single task, 24/12=2 mem_gb: null ##assume the memory consumption of a subtask is 60GB retry_factor: 1.5 ... © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"gao-ji-she-zhi/rerun-analysis.html":{"url":"gao-ji-she-zhi/rerun-analysis.html","title":"Rerun analysis","keywords":"","body":"Rerun analysisBased on Snakemake Key featuresFunctional modulesSAW rerunWhat is rerun?How to rerun?Rerun analysis *The interpretation of the Advanced part is only available in EN. Based on Snakemake SAW pipelines are constructed using the Snakemake computing framework. Snakemake is a powerful and flexible workflow management system designed to create reproducible and scalable data analyses. It is particularly popular in bioinformatics and computational biology but can be applied to any domain involving data processing pipelines. Its workflows are defined using a Python-based language, which makes them both human-readable and highly customizable. Key features Reproducibility: Snakemake ensures that workflows are reproducible by automatically tracking dependencies between input files, output files, and the steps (rules) used to generate them. Scalability: It supports execution on various environments, from local machines to high-performance computing (HPC) clusters and cloud platforms (e.g., AWS, Google Cloud). Portability: Workflows are portable across different systems and environments, thanks to its integration with containerization tools like Docker and Singularity. Parallel execution: Snakemake automatically parallelizes tasks where possible, optimizing resource usage and reducing runtime. Dynamic workflow design: It allows for dynamic determination of input and output files during runtime, enabling flexible and adaptive workflows. Integration with Python: Snakemake leverages Python for scripting, enabling users to incorporate complex logic, data manipulation, and external libraries directly into their workflows. Visualization: It provides tools for visualizing workflows, making it easier to understand and debug complex pipelines. Functional modules Rules: The core building blocks of a Snakemake workflow. Each rule defines a step in the workflow, specifying input files, output files, and the command or script to execute. DAG (Directed Acyclic Graph): Snakemake constructs a DAG to represent the dependencies between rules and files, ensuring tasks are executed in the correct order. Configuration files: External configuration files (e.g., JSON, YAML) can be used to parameterize workflows, making them more modular and reusable. Logging and reporting: Snakemake provides detailed logging and reporting features, allowing users to monitor workflow execution and generate summary reports. Cluster and cloud integration: Snakemake supports submission of jobs to cluster schedulers (e.g., SLURM, PBS) and cloud platforms, enabling scalable execution. Containerization: Integration with Docker and Singularity ensures that workflows run in isolated environments, enhancing reproducibility. SAW rerun What is rerun? Snakemake's rerun functionality is based on its ability to track dependencies and determine which parts of the workflow need to be re-executed. This is achieved through the following principles: File Timestamps: Snakemake compares the timestamps of input and output files. If an input file is newer than its corresponding output file, the rule is marked for rerun. Content-Based Hashing: Snakemake can use content-based hashing (e.g., MD5 checksums) to detect changes in input files, ensuring that even minor modifications trigger a rerun. Rule Dependencies: If a rule depends on the output of another rule, and the upstream rule is rerun, all downstream rules are also marked for rerun. Conditional Execution: Snakemake allows analysts to define conditions under which rules should be rerun, such as changes in configuration parameters or external data sources. How to rerun? Obviously, the rerun function of SAW count benefits from the natural advantages of the Snakemake computing framework. When running analysis tasks, you may encounter the following situations: The analysis task is interrupted due to insufficient computing resources in the computing environment or the sudden shutdown of server machines. You accidentally kill the analysis task. If the input parameters for the second run are identical to those of the first run, which can be verified by comparing them with the recorded information in /pipeline-logs/config.yaml, the analysis will resume. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"gao-ji-she-zhi/analysis-with-gpu.html":{"url":"gao-ji-she-zhi/analysis-with-gpu.html","title":"Analysis with GPU","keywords":"","body":"Analysis with GPUDriver installationCheck GPU resourcesStart with GPUAnalysis with GPU *The interpretation of the Advanced part is only available in EN. SAW software now supports utilizing GPU resources for running analysis. The tissue & cell segmentation step in the SAW count and SAW realign pipelines The proteome & transcriptome joint analysis in the SAW reanalyze pipeline for Stereo-CITE FF sample are time-consuming process. If the GPU is enabled for calculations, the task's running time will be greatly shortened. Here we take the NVIDIA graphics card as an example to explain how to call GPU to start SAW count run. Driver installation SAW pipelines are run on Linux for analysis. After your Linux server is connected to one or more NVIDIA graphics cards, ensure that the appropriate driver has been installed. If not, follow the NVIDIA CUDA Installation Guide for Linux to install CUDA. Check GPU resources After installing CUDA, check GPU resources in your environment as: Please confirm CUDA Version >= 11.7 Please confirm that there is a device memory remaining > 3 GiB and GPU utilization $ nvidia-smi Tue Jun 4 05:20:12 2024 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 515.65.01 Driver Version: 515.65.01 CUDA Version: 11.7 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 Tesla T4 Off | 00000000:17:00.0 Off | 0 | | N/A 28C P8 16W / 70W | 4MiB / 15360MiB | 0% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ | 1 Tesla T4 Off | 00000000:65:00.0 Off | 0 | | N/A 34C P0 26W / 70W | 1259MiB / 15360MiB | 0% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ | 2 Tesla T4 Off | 00000000:CA:00.0 Off | 0 | | N/A 36C P0 28W / 70W | 641MiB / 15360MiB | 0% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ | 3 Tesla T4 Off | 00000000:E3:00.0 Off | 0 | | N/A 65C P0 66W / 70W | 14439MiB / 15360MiB | 99% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ +-----------------------------------------------------------------------------+ | Processes: | | GPU GI CI PID Type Process name GPU Memory | | ID ID Usage | |=============================================================================| | 1 N/A N/A 83410 C .../envs/cellbin2/bin/python 1255MiB | | 2 N/A N/A 84598 C .../envs/cellbin2/bin/python 637MiB | | 3 N/A N/A 15814 C python 14435MiB | +-----------------------------------------------------------------------------+ In the first table NVIDIA-SMI, you can intuitively find that there are 4 GPU graphics cards and the serial number of each one, its corresponding fan speed, card name, and performance status. The remaining detailed parameters involve GPU usage, video memory usage, etc., which will not be introduced in detail here. The second table, Processes, displays the video memory usage, process number, and GPU occupied by each process. Start with GPU --gpu-id is configured to detect a GPU graphics card. Based on the GPU resource distribution in your cluster environment, choose an appropriate serial number for --gpu-id. If no one is detected, SAW count will not start the run, instead of using the CPU. Run the analysis as: cd /saw/runs saw count \\ --id=Demo_Mouse_Brain_with_GPU \\ --sn=C04144D5\\ --omics=transcriptomics \\ --kit-version=\"Stereo-seq N FFPE V1.0\" \\ --sequencing-type=\"PE75_25+59\" \\ --chip-mask=/saw/datasets/chip_mask/C04144D5.barcodeToPos.h5 \\ --fastqs=/saw/datasets/fastqs \\ --reference=/saw/datasets/reference/mouse_transcriptome \\ --image-tar=/saw/datasets/image/C04144D5_SC_20240620_153.tar.gz \\ --gpu-id=0 ## Currently only accepts one GPU ID input © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"gao-ji-she-zhi/expression-matrix-format.html":{"url":"gao-ji-she-zhi/expression-matrix-format.html","title":"Expression matrix format","keywords":"","body":"Expression matrix formatGene Expression File (GEF) Bin GEFCell Bin GEFGene Expression Matrix (GEM) Expression matrix format *The interpretation of the Advanced part is only available in EN. Gene Expression File (GEF) Gene expression file (GEF), in HDF5 format, is a data management and storage format designed to support multidimensional datasets and high computational efficiency. Stereo-seq analysis workflow generates bin GEF and cellbin GEF files. Bin GEF file format is a hierarchically structured data model that stores one or bin combined gene expression matrices in various bin sizes. Cellbin GEF file format stores expression information within each cell. Each GEF container organizes a collection of spatial gene expression matrices. It includes two primary data objects: Group and Dataset. A dataset is a multidimensional array of data elements. Group object is analogous to a file system directory that organizes datasets and other groups in hierarchies. Bin GEF The first level of GEF includes four group objects: \"geneExp\" (required), \"wholeExp\" (optional), \"wholeExpExon\" (optional), and \"stat\" (optional). Group \"geneExp\" contains groups of gene spatial expression data in one or multiple bin sizes. Group \"wholeExp\" contains datasets that record expression level and gene type count of each coordinate in one or multiple bin sizes. Group \"wholeExpExon\" contains datasets that record the exon level of each coordinate in one or multiple bin sizes. Group \"stat\" saves gene names, total MID count and spatial pattern enrichment score of each gene. \"Attributes\" of the file record the version of GEF format, software version, and omics information. \"Attribute\" in each dataset records the key metrics of that dataset. Check the table to get details. Attributes File Attributes DataType Example Description version uint32 2 Gene expression file format version. geftool_ver uint32[3] 1,1,17 Geftool version. It can be used as an individual tool to manipulate GEF files. omics S32 b'Transcriptomics' Omics name. gef_area float32 4.4410855E10 Tissue or labeled tissue area in square nanometers. bin_type S32 b'bin' Bin type of the GEF file. sn S32 b'SS200000135TL_D1' Stereo-seq chip SN /geneExp/binN/expression:Dataset \"expression\" is a 1D array which stores coordinates and MID counts of each gene in the bin size of N, aggregated by gene name. Dataset Attributes DataType Example (bin1) Description minX int32 59820 Minimum x coordinate in bin N. minY int32 102086 Minimum y coordinate in bin N. maxX int32 73040 Maximum x coordinate in bin N. maxY int32 120539 Maximum y coordinate in bin N. maxExp uint32 28 Maximum MID count in a spot when the bin size is N. Data type for \"maxExp\" is dynamically changed for each sample. resolution uint32 500 Physical pitch (nm) between neighbor spots. Dataset DataType:compound DataType Example (bin1) Description x int32 71032 x coordinate in bin N. y int32 103180 y coordinate in bin N. count uint8/uint16/uint32 1 MID count at (x, y) when bin size is N. Data type for \"count\" is consistent with \"maxExp\" in the \"Attributes.\" [optional] /geneExp/binN/exon:Dataset \"exon\" is a 1D array which stores exon expression of each gene in the bin size of N, aggregated by gene name. Dataset Attributes DataType Example (bin1) Description maxExon int32 21 Max exon expression in binN. Dataset DataType:1D array DataType Example (bin1) Description count uint8/uint16/uint32 0 Exon expression in binN at coordinate (x,y), the index is same to the index in the \"expression\" dataset. Data type for \"count\" is dynamically changed for each sample. /geneExp/binN/gene:Dataset \"gene\" is a 1D array which stores the gene names, the starting row indexes in dataset \"expression\", and row counts. Dataset DataType:compound DataType Example (bin1) Description geneID S64 b'ENSMUSG00000000001' Gene ID. geneName S64 b'Gm16045' Gene name. offset uint32 21 The starting row index in dataset \"expression\" for the gene.In this example, the gene expression data for gene \"Gm16045\" starts from row 21 in the dataset \"expression.\" count uint32 2 Row count.In this example, expression data for gene \"Gm16045\" is recorded in row 21 and 22 (2 rows) in the dataset \"expression.\" [optional] /wholeExp/binN:Dataset \"binN\" is a 2D array (matrix) which stores the MID count and gene type count at each spot. Dataset Attributes DataType Example (bin1) Description number uint64 22879557 Number of non-zero spots in the dense matrix. minX int32 59820 Minimum x coordinate in bin N. lenX int32 13221 Length of x. minY int32 102086 Minimum y coordinate in bin N. lenY int32 18454 Length of y. maxMID uint32 2155 Maximum MID count in a spot. maxGene uint32 846 Maximum gene type count in a spot. resolution uint32 500 Pitch (nm) between neighbor spots. Dataset DataType: 2D array (XⅹY), compound DataType Example (bin1) Description MIDcount uint8/uint16/uint32 1 MID count in the spot. The spot coordinate can be identified from the row and column index of the 2D matrix plus the \"minX\" and \"minY\" specified in the attributes. Data type for \"MIDcount\" is dynamically changed for each sample. genecount uint16 1 Gene count in the spot. The spot coordinate can be identified from \"Attributes\" and the indexes of the 2D array. [optional] /wholeExpExon/binN:Dataset \"binN\" in \"/wholeExpExon/\" Group is a 2D array (matrix) which stores the exon expression count at each spot. Dataset Attributes DataType Example (bin1) Description maxExon uint32 21 Maximum exon expression count in a spot when the bin size is N. Dataset DataType: 2D array DataType Example (bin1) Description MIDcount uint8/uint16/uint32 0 MID count in the spot. The spot coordinate can be identified from the row and column index of the 2D matrix plus the \"minX\" and \"minY\" specified in the attributes. Data type for \"MIDcount\" is dynamically changed for each sample. [optional] /stat/gene:Dataset \"gene\" is a 1D array which stores the MID count and spatial pattern enrichment score (E10) of each gene. The array is order by the MID count in descending order. Dataset Attributes DataType Example Description maxE10 float32 65.53 Maximum E10 score. minE10 float32 0. Minimum E10 score. cutoff float32 0.1 Threshold for filtering spots that will be used for computing E10.In this example, 0.1 means that the spots whose MID count is in the top 10% are used for calculating the spatial enrichment score. Dataset DataType:compound DataType Example Description geneID S64 b'ENSMUSG00000000001' Gene ID. geneName S64 b'Ptgds' Gene name. MIDcount uint32 229502 MID count for the gene. E10 float32 65.53 The spatial pattern enrichment score (E10) for the gene. [optional]/proteinList:Dataset \"proteinList\" is a 1D array which stores the protein panel information of the sample. Dataset DataType:compound DataType Example Description PIDName H5T_STRING CD169 Protein name in the protein panel GeneName H5T_STRING Siglec1 Protein's marker gene GeneID H5T_STRING Ensembl gene IDs Ensembl gene IDs Cell Bin GEF The first layer of Cell Bin GEF contains one required group \"cellBin\" and multiple optional datasets. The second layer \"codedCellBlock\" is optional, which stores precomputed data used in the rendering of StereoMap. \"Attributes\" of the file record the version of GEF format, software version, and omics information. \"Attribute\" in each dataset records the key metrics of that dataset. Check the table to get more details. Attributes File Attributes DataType Example Description geftool_ver uint32[3] 0,7,11 geftool version. It can be used as an individual tool to manipulate GEF files. offsetX int32 0 Minimum x coordinate in bin 1. offsetY int32 0 Minimum y coordinate in bin 1. omics S32 b‘Transcriptomcis’ Omics name. resolution uint32 500 Pitch (nm) between neighbor spots. version uint32 2 Gene expression file format version. bin_type S32 CellBin Bin type of the GEF file. sn S32 b'SS200000135TL_D1' Stereo-seq chip SN /cellBin/cell:Dataset \"cell\" is a 1D array which stores basic information and indices information of cells and expression. Dataset Attributes DataType Example Description averageArea float32 494.666 Average area for cells in pixel. averageDnbCount float32 194.299 Average number of mRNA-captured DNBs in a cell. averageExpCount float32 541.715 Average MID count in cell. averageGeneCount float32 310.157 Average gene count in cell. maxArea uint16 1925 Maximum area for cells in pixel. maxDnbCount uint16 883 Maximum number of mRNA-captured DNBs in a cell. maxExpCount uint16 3018 Maximum MID count in cell. maxGeneCount uint16 1415 Maximum gene count in cell. maxX int32 17658 Maximum x coordinate of the cell’s center of mass. maxY int32 19422 Maximum y coordinate of the cell’s center of mass. medianArea float32 474. Median area for cells in pixel. medianDnbCount float32 183. Median number of mRNA-captured DNBs in a cell. medianExpCount float32 491. Median MID count in cell. medianGeneCount float32 289. Median gene count in cell. minArea uint16 2 Minimum area for cells in pixel. minDnbCount uint16 0 Minimum number of mRNA-captured DNBs in a cell. minExpCount uint16 0 Minimum MID count in cell. minGeneCount uint16 0 Minimum gene count in cell. minX int32 2933 Minimum x coordinate of the cell’s center of mass. minY int32 5568 Minimum y coordinate of the cell’s center of mass. Dataset DataType:compound DataType Example Description id uint32 10 Cell ID index, the start ID is 0.In the Example, 10 represents the 10th cell in the dataset. x int32 541 The x coordinate of the cell’s center of mass.In the Example, the x coordinate of the 10th cell’s center of mass is 541. y int32 190 The y coordinate of the cell’s center of mass.In the Example, the x coordinate of the 10th cell’s center of mass is 190. offset uint32 494 The start row index of the cell in the \"/cellBin/cellExp\" dataset.The example represents that the gene ID index and total MID count information of the 10th cell in the \"/cellBin/cellExp\" dataset start from the 494th row. geneCount uint16 100 Gene count in the cell.In the example, 100 represents that the 100 rows in the \"/cellBin/cellExp\", start from the 494th to the 593th row, contains the gene ID indices and total MID count of the gene for the 10th cell in \"/cellBin/cell\" dataset. expCount uint16 500 Cell MID count. dnbCount uint16 200 mRNA-captured DNBs of the cell. area uint16 474 Cell area in pixel. cellTypeID uint32 0 Cell type ID. clusterID uint32 20 Cell cluster ID. /cellBin/cellBorder:Dataset \"cellBorder\" is a 3D array which stores the lists of points for the bounding polygons of the cell. Dataset Attributes DataType Example Description maxX int32 16127 Maximum x coordinate of the bounding box of the cell. maxY int32 16663 Maximum y coordinate of the bounding box of the cell. minX int32 11129 Minimum x coordinate of the bounding box of the cell. minY int32 12784 Minimum y coordinate of the bounding box of the cell. Dataset DataType:3D array DataType Example Description 32*(int16,int16) [[-17,-11],[-15,-5]…[32767,32767]] A list of 32 coordinates recording the differences between cell bounding points and the cell’s center of mass (0,0). The real coordinate of cell’s center of mass (x, y) can be obtained from \"cell\" dataset using cellID. /cellBin/cellExp:Dataset \"cellExp\" is a 1D array which stores the expression information of each cell. Dataset Attributes DataType Example Description maxCount uint16 336 Maximum MID count of a gene in a cell. Dataset DataType:compound DataType Example Description geneID uint32 1610 Gene IDs of the genes detected in the cell. ID is the index of \"gene\" dataset.In the example, 1610 represents the 1610th item in the \"gene\" dataset, and the name of the gene can be acquired in \"gene\" dataset. count uint16 3 MID count for the gene.In the example, (assume this is the 0th item in the \"cellExp\" dataset, from the \"offset\" and \"geneCount\" record in the \"cell\" dataset we can know that the 0th item in the \"cellExp\" belongs to the cell whose cellID=0) the MID count for the gene (geneID=1610) in the cell (cellID=0) is 3. [optional] /cellBin/cellExon:Dataset \"cellExon\" is a 1D array which stores the exon information for each cell. Dataset Attributes DataType Example Description maxExon uint16 5793 Maximum exon count of a gene in all cells. minExon uint16 0 Minimum exon count of a gene in all cells. Dataset DataType:1D array DataType Example Description uint16 16 Exon count in a cell, the index of the array is same to the cellID in the \"cell\" dataset. [optional] /cellBin/cellExpExon:Dataset \"cellExpExon\" is a 1D array which stores exon expression information for each cell. Dataset Attributes DataType Example Description maxExon uint16 336 Maximum exon count of a gene in a cell. Dataset DataType:1D array DataType Example Description uint16 3 Exon count (MID) for the gene. The index is same to the \"cellExp\" dataset.In the example, (assume this is the 0th item in the \"cellExpExon\" dataset, since the index is same to \"cellExp\" dataset, from the \"offset\" and \"geneCount\" record in the \"cell\" dataset we can know that the 0th item in the \"cellExpExon\" belongs to the cell whose cellID=0) the exon count (MID) for the gene (geneID=1610) in the cell (cellID=0) is 3. /cellBin/cellTypeList:Dataset \"cellTypeList\" is a 1D array which stores cell types of each cell. Dataset DataType:1D array DataType Example Description S32 b'default' Cell type, \"default\" stands for undefined cell type. /cellBin/gene:Dataset \"gene\" is a 1D array which stores the indices of cell and expression information of each gene. Dataset Attributes DataType Example Description maxCellCount uint32 5718 Maximum number of cells a gene can be detected. maxExpCount uint32 55361 Maximum MID count of a gene. minCellCount uint32 1 Minimum number of cells a gene can be detected. minExpCount uint32 1 Minimum MID count of a gene. Dataset DataType:compound DataType Example Description geneID S32 b'ENSMUSG00000000001' Gene ID. geneName S32 b'AC149090.1' Gene name. offset uint32 0 The start row index of the gene in \"/cellBin/geneExp\" dataset.In the example, 0 means that start from the 0th item in \"/cellBin/geneExp\" dataset records the cellIDs and total MID count information of \"AC149090.1\". cellcount uint32 60 Number of cells a gene can be detected.In the example, 60 represents that start from the 0th item to the 59th item records the information of gene \"AC149090.1\". expCount uint32 100 Sum of MID count for the gene.In the example, the total MID count of \"AC149090.1\" is 100. maxMIDcount uint16 4 Maximum MID count of a gene in a cell.In this case, the maximum MID count of gene \"AC149090.1\" in a cell is 4. /cellBin/geneExp:Dataset \"geneExp\" is a 1D array which stores cell and expression information of each gene. Dataset Attributes DataType Example Description maxCount uint16 10 Maximum MID count of a gene. Dataset DataType:compound DataType Example Description cellID uint32 1247 cellID that contains the gene whose index is same to the index in \"gene\" dataset.In the example, (assume we use the 0th item in \"geneExp\" dataset) 1247 shows that the gene \"AC149090.1\" appears in the cell whose cellID is 1247. count uint16 3 The MID count of the gene, whose index is same to the index in \"gene\" dataset, in the cellID.In the example, the MID count of gene \"AC149090.1\" in the cell (cellID=1247) is 3. [optional] /cellBin/geneExon:Dataset \"geneExon\" is a 1D array which stores the exon expression information of each gene. Dataset Attributes DataType Example Description maxExon uint32 55361 Maximum exon count of a gene. minExon uint32 0 Minimum exon count of a gene. Dataset DataType:1D array DataType Example Description uint32 97 Total exon count of a gene, the index of \"geneExon\" dataset is same to the \"gene\" dataset.In the example, (assume this is the 0th item in the \"geneExon\" dataset, and gene \"AC149090.1\" is the 0th item in the \"gene\" dataset) the exon count of gene \"AC149090.1\" is 97. [optional] /cellBin/geneExpExon:Dataset \"geneExpExon\" is a 1D array which stores the exon expression information in cells of each gene. Dataset Attributes DataType Example Description maxExon uint16 336 Maximum exon expression of a gene in a cell. Dataset DataType:1D array DataType Example Description uint16 3 Exon count of a gene in a cell. The index of \"geneExpExon\" dataset is same to the \"geneExp\" dataset.In the example, (assume this is the 0th item in the \"geneExpExon\" dataset, since the index is same to \"geneExp\" dataset, from the \"offset\" and \"cellCount\" record in the \"gene\" dataset we can know that the 0th item in the \"geneExpExon\" dataset belongs to the gene \"AC149090.1\") 3 stands for the exon count of gene \"AC149090.1\" in cell 1247 is 3. /cellBin/bockIndex:Dataset \"bockIndex\" is a 1D array which stores the matrix block partition information. Dataset DataType:1D array DataType Example Description uint32 0 Cell count in each partition block.cnt=blockIndex[i+1]-blockIndex[i] /cellBin/bockSize:Dataset \"bockSize\" is a 1D array which stores the block size of partition. Dataset DataType:1D array DataType Example Description uint32 256, 256, 104, 104 4-element array. The 4 items represent the block length in x-axis, block length in y-axis, block count in x-axis, and block count in y-axis, respectively. [optional] /codedCellBlock:Group \"codedCellBlock\" stores pre-computed data for rendering in StereoMap. Group Attributes DataType Example Description info string {\"@type\": \"neuroglancer_annotations_v1\", ...} Metadata of encoded precomputed data in JSON. [optional] /codedCellBlock/L0/0_1:Dataset \"0_1\" is an example chunk encoded pre-computed data, including id, geometry, and so on. Dataset DataType:Bytes DataType Example Description H5T_OPAQUE 1F 8B 08 00 ... Bytecode of the chunk. [optional]/proteinList:Dataset \"proteinList\" is a 1D array which stores the protein panel information of the sample Dataset DataType:compound DataType Example Description PIDName H5T_STRING CD169 Protein name in the protein panel GeneName H5T_STRING Siglec1 Protein's marker gene GeneID H5T_STRING ENSMUSG00000027322 Ensembl gene IDs Gene Expression Matrix (GEM) Gene expression matrix (GEM), a text file, stores gene spatial expression data. SAW generates multiple gene expression matrix files in the workflow, the basic format requires six columns with a header row that shows the column names. The six columns are gene ID, gene name, x coordinate, y coordinate, MID count and exon count. When it comes to cellbin GEM, the seventh column is for cell ID. The header of the expression matrix for the maximum area enclosing rectangle region has several annotation rows starting with \"#\" before the column rows. The header field names and field types are described in the table. Fields Data Type Example Description #FileFormat string GEMv0.2 Gene expression matrix file format version. #SortedBy string None Gene expression matrix sorting strategy. Valid values: \"geneID\", \"x\", \"y\", \"MIDCount\", \"None\". #BinType string Bin Bin type of the GEM file. #BinSize string 1 (Please check 1.3 Terminologies and Concepts Bin) #Omics string Transcriptomics Omics name. #Stereo-seqChip string SS200000135TL_D1 Stereo-seq Chip T serial number. #OffsetX uint32 1 X coordinate of the origin before calibration. #OffsetY uint32 1 Y coordinate of the origin before calibration. geneID string ENSMUSG00000000001 Gene ID geneName string Gnai3 Gene name. x uint32 16809 X coordinate of the spot. y uint32 8546 Y coordinate of the spot. MIDCount uint32 1 Number of MIDs at (x, y) for the gene in the corresponding row. ExonCount uint32 0 [Optional] Number of exon count at (x, y) for the gene in the corresponding row. CellID uint32 55892 [Optional] CellID for (x, y). An example of bin GEM: #FileFormat=GEMv0.2 #SortedBy=None #BinType=Bin #BinSize=1 #Omics=Transcriptomics #Stereo-seqChip=B03523G1 #OffsetX=0 #OffsetY=0 geneID geneName x y MIDCount ExonCount ENSMUSG00000000001 Gnai3 694 17229 1 1 ENSMUSG00000000001 Gnai3 1428 4994 1 1 An example of cellbin GEM: #FileFormat=GEMv0.2 #SortedBy=None #BinType=CellBin #BinSize=Cell #Omics=Transcriptomics #Stereo-seqChip=B03523G1 #OffsetX=0 #OffsetY=0 geneID geneName x y MIDCount ExonCount CellID ENSMUSG00000047454 Gphn 9325 19972 1 0 192276 ENSMUSG00000030616 Sytl2 9314 19976 1 1 192276 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"gao-ji-she-zhi/image-related-record-format.html":{"url":"gao-ji-she-zhi/image-related-record-format.html","title":"Image-related record format","keywords":"","body":"Image-related record formatImage processing record (IPR)Recorded image processing (RPI)Image-related record format *The interpretation of the Advanced part is only available in EN. Image processing record (IPR) Image processing record (IPR) file is designed to record the whole-life information of a microscope image from photo-taking to processing. Each staining image (ssDNA/DAPI, IF, H&E) includes six basic groups, \"ImageInfo\", \"QCInfo\", \"Stitch\", \"TissueSeg\", \"CellSeg\", and \"Register\", which are used to store microscopy photo-taking information, image quality control information, image stitching records, tissue segmentation records, cell segmentation records (optional), and registration records. ItemDescriptionAttributeDescriptionIPRVersionIPR file format version.DatesetDescriptionPreviewA 2D matrix merges stitched image, tissue segmentation boundary and cell segmentation boundary.//ImageInfo: Group records basic image information.AttributesDescriptionAppFileVerMicroscope software version.BackgroundBalanceBackground balance.BitDepthThe bit-depth of a camera sensor describes its ability to transform the analog signal coming from the pixel array into a digital signal.BrightnessRelative intensity affecting a person or sensor.ChannelCountNumber of RGB channels.ColorEnhancementWhether enhanced image color display or not.ContrastThe difference in color and intensity of the depicted object from its background.DeviceSNMicroscope device serial number.DistortionCorrectionWhether fixed distortion or not.ExposureTimeExposure time in ms.FOVHeightHeight of an individual FOV in pixel.FOVWidthWidth of an individual FOV in pixel.GainAmplification applied to the signal by the image sensor.GammaThe coefficient links between the human eye and the digital camera.GammaShiftWhether adapt the digital image taken with the help of a linearly recording camera to the nonlinear perception of the human eye or not.IlluminanceIntensity of light.ManufacturerMicroscope manufacturer.ModelMicroscope model.OverlapOverlapping pixels between single tiles.PixelSizeXSize of pixel in x direction.PixelSizeYSize of pixel in y direction.QCResultFilePrefix of ImageQC/ImageStudio result file, the unique identifier of the image.ScanChannelFluorescence channel.ScanColsNumber of columns scanned.ScanObjectiveMagnification power of the scan objective lens.ScanRowsNumber of rows scanned.ScanTimeScan date and time.SharpnessDegree of clarity of the edge(s) of the image.STOmicsChipFovRowStereo-seq Chip mask‘s FOV row.STOmicsChipFovColStereo-seq Chip mask‘s FOV column.RegisterVersionImage auto-processing & matrix registration software version.StitchedImageWhether the corresponding image is a panorama image (true) or a set of tiled images (false).STOmicsChipSNStereo-seq Chip serial number.WhiteBalanceAn adjustment in electronic and film imaging that corrects the color balance of the lighting.DatasetDataType: 1D arrayDescriptionRGBScaleRGB color.//QCInfo: Group records the QC information of the image.AttributesDescriptionExperimenterEmail of the experimenter who did QC for the image.GoodFOVCountNumber of FOVs that have identified more than 3 track cross points.ImageQCVersionImage QC version.QCPassFlagWhether the corresponding image passed QC.RemarkInfoAny remarks, notes, comments on the image.StainTypeStain type of microscopy image.TotalFOVCountTotal number of FOVs.TrackLineScoreReference score for evaluating whether the detected track lines can be used as references for image stitching and registering with gene expression matrix. (This score only evaluate whether the program detected track lines on the image, it does not infer the clarity of the lines or the images).TrackLineChannelShooting channel of track lines.TrackCrossQCPassFlagWhether the QC of the track-cross point is passed.ScopeStitchQCScoreScore to assess the stability of microscope overlap (DAPI & mIF only).ScopeStitchQCPassFlagWhether the QC of microscope stitch is passed (DAPI & mIF only).TemplateValidAreaProportion of encircled area by the detected points that match the global track line template (within the error range of 5 pixels), to the entire image area.TemplateRecallProportion of detected points, which match the global track line template (within the error range of 5 pixels), to the points derived from the chip track line rules.DatasetDataType: 2D arrayDescriptionScopeStitchQCMatrixMatrix of overlap deviation of each microscope FOV (DAPI & mIF only).CrossPoints/row_col*nGroup of datasets for each FOV that records the track cross point coordinates. (Row and col stand for the FOV row and column index number, and n stands for number of FOVs). Each dataset is a 2D array record, (x, y) coordinates of track cross points in each FOV.//Calibration: Group records the calibration information (_IF only).AttributesDescriptionCalibrationQCPassFlagWhether the calibration QC of IF image is passed.//Calibration/Scope:AttributesDescriptionConfidenceCalibration confidence of microscope-stitched tiled image vs. IF.OffsetXHorizontal offset.OffsetYvertical offset.[optional]//Calibration/Stereo:AttributesDescriptionConfidenceCalibration confidence of Stereo-stitched image vs. IF.OffsetXHorizontal offset.OffsetYVertical offset.//Stitch: Group records the stitching information.AttributesDescriptionStitchingScoreReference score for stitching.TemplateSourceThe reference FOV for deriving the template used for rotating and scaling the microscopic images.WhichStitchStitching method for image, including microscope, template and ripple stitching. The default for stitched image is microscope.DatasetDataType: 2D arrayDescriptionTemplatePointCenter coordinates for deriving template lines.TransformTemplateCoordinates of template points registered with expression matrix.//Stitch/StereoStitch: Group records the image stitching information processed by Stereo program.AttributesDescriptionStitchedGlobalHeightHeight of stitched tiled images using Stereo stitching algorithm. Tiled image only.StitchedGlobalWidthWidth of stitched tiled images using Stereo stitching algorithm. Tiled image only.DatasetDataType: 2D arrayDescriptionStitchedGlobalLocCoordinates for the Stereo stitched tiled image. Tiled image only.//Stitch/ScopeStitch: Group records the image stitching information processed by microscope imaging software.AttributesDescriptionGlobalHeightHeight of panorama image.GlobalWidthWidth of panorama image.DatasetDataType: 2D arrayDescriptionGlobalLocCoordinates for the stitched tiled image (either program stitched or microscope stitched).ScopeJitterDiffJitter offset of microscope stitching.ScopeHorizontalJitterHorizontal jitter offset of microscope stitching. Tiled image only.ScopeVerticalJitterVertical jitter offset of microscope stitching. Tiled image only.//Stitch/StitchEval: Group records the evaluation result of stitching.AttributeDescriptionMaxDeviationMaximum stitching deviation.DatasetDataType: 2D arrayDescriptionGlobalDeviationGlobal stitching deviation matrix. Tiled image only.StitchEvalHStitching deviation matrix for the horizontal axes.StitchEvalVStitching deviation matrix for the vertical axes.//Register: Group records the information that aligns images with gene expression matrix.AttributesDescriptionCounterRot90Count of counter-clockwise rotation of 90 degrees.FlipWhether horizontally flipped or not.MatrixShapeHeight and width of the gene expression matrix.OffsetXOffset between microscope image and gene expression matrix in x-axis.OffsetYOffset between microscope image and gene expression matrix in y-axis.RegisterScoreReference score for registration.RotationRotation degree between raw image and deviation template.ScaleXScale between raw image and deviation template in horizontal direction.ScaleYScale between raw image and deviation template in vertical direction.XStartGene expression matrix offset x (GEF geneExp/binN/expression attribute minX).YStartGene expression matrix offset y (GEF geneExp/binN/expression attribute minY).ManualRotationManual rotation degree of the raw image around the center point.ManualScaleXManual scale of the raw image in horizontal direction based on center point.ManualScaleYManual scale of the raw image in vertical direction based on center point.DatasetDataType: 2D arrayDescriptionMatrixTemplateList of track cross points derived from gene expression matrix.//TissueSeg: Group records the tissue segmentation information.AttributesDescriptionTissueSegScoreReference score for tissue segmentation.TissueSegShapeImage shape for tissue segmentation mask image.ThresholdThe threshold for tissue segmentation in IF images is divided into maximum and minimum values (IF only).DatasetDataType: 2D arrayDescriptionTissueMaskEncoded tissue segmentation mask file (after registration with gene expression matrix).//CellSeg: Group records the cell segmentation information.AttributesDescriptionCellSegShapeImage shape for cell segmentation mask image.DatasetDataType: 2D arrayDescriptionCellMaskEncoded cell segmentation mask file (after registration with gene expression matrix).CellSegTraceCell contour attributes, including height, width and area./StereoResepSwitch: Group stores the state of each module that whether the module needs to be performed.AttributesDescriptionstitchSwitch for performing stitching.tissuesegSwitch for performing tissue segmentation.cellsegSwitch for performing cell segmentation.registerSwitch for performing registration./ManualState: Group stores the state of each module that whether the module has been manually processed.AttributesDescriptionstitchWhether manually stitched the tiled images.tissuesegWhether manually delineated the tissue coverage region.cellsegWhether manually delineated the cell coverage regions.registerWhether manually aligned microscope image and gene expression matrix.calibrationWhether manually calibrated two images. For example, manually match IF image with DAPI image. Recorded image processing (RPI) The image pyramid model is a multi-resolution hierarchical model that is used to store and display images in different resolutions. For the same field of view, the layer of the image pyramid that is closest to the bottom includes the most detailed information and has the largest scale. register pipeline performs the down-sampling step on the registered image, and the result images are layered to construct a pyramid with the suffix \".rpi\". For each resolution layer, the intact registered image is split into 256 pixels x 256 pixels tiles. If the size of a layer is smaller than 256 x 256, the image will then remain intact. The outer layer group of RPI file is defined according to its stain type, generally including ssDNA, DAPI, IF (immunofluorescence image especially for protein, group name as ), and H&E. In each group of stain types, multiple image results, including an image subgroup (registered microscopy image), a TissueMask subgroup (registered mask boundary for the tissue coverage area), and a CellMask subgroup (registered mask boundaries for the cell coverage area, optional), could be saved respectively. Schematic diagram of the image pyramid: Image pyramid displaying Item Description Attributes Description imgSize Size of the image. sizex Max of x. sizey Max of y. version RPI file version. x_start Offset x of the matrix. y_start Offset y of the matrix. /\\/\\: Group records the specific layer information, mainly including \"Image\", \"TissueMask\", \"CellMask\" and \"CellMask_adjusted\". Attributes Description MaxGrayLevel Maximum gray value. MinGrayLevel Minimum gray value. GrayLevelElbow Elbow point of gray value. TrackLayer Whether track layer. Color Layer color. Groups Description binN Detailled downsampling metadata for each bin size. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"release-notes.html":{"url":"release-notes.html","title":"版本说明","keywords":"","body":"版本说明SAW发版记录8.2.2（12月, 2025）8.2.1（11月, 2025）8.2.0（9月, 2025）8.1.3（3月, 2025）8.1.2（11月, 2024）8.1.1（10月, 2024）8.1.0（9月, 2024）8.0.2（7月, 2024）8.0.1 （7月, 2024）8.0.0 （6月, 2024）历史版本版本说明 SAW发版记录 8.2.2（12月, 2025） 问题修复: 修复 SAW realign 分析流程输出 HTML 报告时，微生物页签下的组织内统计信息未能自动更新的问题。修复后，报告将基于新的分割区域（例如：手动组织分割）重新计算。 修复输入多对 FASTQs 数据时，分析流程输出的 JSON 统计文件中 Q30 数值出现计算错误的问题。 修复 HTML 报告在展示 DAPI + mIF 的图像结果时，图片的默认排序顺序不正确的问题。 8.2.1（11月, 2025） 新功能: SAW count/realign 新增 --skip-clustering 参数，支持在流程中跳过聚类分析相关的环节； 问题修复: 修复因服务器的NFS挂载磁盘导致微生物相关分析报错的问题； 修复图像模块处理 S0.5芯片的大图TIFF数据报错的问题； 修复数据量极大情况下（大尺寸的大芯片数据），分析流程输出的GEF矩阵文件中数据溢出的问题； 修复HTML报告中Protein组学-SquareBin页签下统计表格中的数值精度问题； 修复 --gpu-id 参数设置为非0序号显卡出现报错的问题； 8.2.0（9月, 2025） 新功能: SAW makeRef --params-config 支持简便输入第三方比对软件的原生参数 。 SAW count/realign 支持 Stereo-seq N FFPE V1.1 试剂盒数据分析，新增分析参数： --kit-version=\"Stereo-seq N FFPE V1.1\" --sequencing-type=PE75_50+100 Read比对步骤支持多对/组FASTQ文件之间的并行计算，提高资源利用率和运行效率，设置方式详见并行计算说明。 --description 支持自定义HTML报告的备注信息。 --skip-cellbin 可以跳过图像细胞分割，以及后续与其相关的分析步骤 。 --no-bam 移除结果文件中的BAM输出，减少存储占用。 --create-gem 支持分析结果中同步输出对应的GEM格式矩阵文件。 --summary-display-bin-size 支持报告中各组学/模态的Summary页面下的展示bin size，可以从[20,50,100]中选择合适的维度。 --custom-bin-size 支持自定义分析流程使用的bin size维度，可从[20,50,100]中至多选择两个，主要用于初步下游分析和报告展示。 新增 Initial Check 检查功能，启动分析之前对主要输入文件格式和软件进行检查，可通过 --no-initial-check 对其进行屏蔽。 --job-mode 支持SGE集群模式分析，以及自定义资源配置文件，实现更细致和深入的资源调度。 SAW realign 分析流程支持 --gpu-id 使用。 SAW realign 分析流程支持使用 --extra-image-enhance 设置额外的 CLAHE 图像增强次数，应用于后续的图像细胞分割（如果图像符合要求可以调用自动算法进行细胞分割）。 SAW reanalyze 新增空间基因共表达分析功能。 SAW convert 新增 gef2rds、 gem2rds、h5ad2rds 格式转换，输出 RDS 格式文件用于Seurat下游分析 。 bin2tissue 可以根据组织分割图提取对应矩阵信息，也支持基于表达矩阵（无图）的组织分割。 升级点: SAW checkGTF 优化注释文件的内容检查和格式检查的逻辑。 SAW makeRef 构建STAR索引文件时自动调用 checkGTF 检查注释文件。 SAW count/realign 优化STAR比对步骤前的RNA reads过滤，针对某些特定的接头序列，来提升数据利用率，例如：“Confidently Mapped Reads”。 优化read注释步骤的性能，在开启 --uniquely-mapped-only 和 --rRNA-remove 参数的情况下。 Read注释步骤优化注释文件（GTF/GFF）的内容检查和格式检查，跳过问题注释记录 。 QC失败图像的分析流程也会将矩阵模板点输出到visualization.tar.gz文件中。 HTML报告升级 报告界面的UI设计升级，主要包括配色方案、页面布局等； 升级报告内容展示逻辑，从多模态/多组学角度划分导航栏，并且，更新字段表述和解释说明，增加样本信息描述和图像配准检查模块； Microbe组学页面下，报告微的统计值调整为组织区域下的信息； Summary页签下，数据展示可使用 --summary-display-bin-size 参数改变展示 bin size 维度； Square Bin页签下，可使用 --custom-bin-size 参数改变下游分析结果的 bin size 维度； Cell Bin页签下，统计表格中细胞面积单位由pixel变更为μm²； Square Bin和Cell Bin页签下，针对大芯片报告（作图时点数过多）的聚类和UMAP结果进行降采样展示 。 SAW reanalyze 优化差异表达分析中基因的L2FC值计算。 SAW convert 优化bin2cell 直接提取cellbin GEM的逻辑。 优化分析流程日志和子程序模块的日志格式和内容。 优化错误码信息，提供更加详细/明确的报错提示。 删除中间环节的不必要输出文件，降低存储冗余。 新增输出整体分析流程的统计文件 _statistics.json。 问题修复： 修复了程序处理大图数据（BigTIFF格式文件）时出现异常的问题，主要针对大芯片数据。 8.1.3（3月, 2025） 问题修复： 修复 SAW reanalyze cluster 中参数 --bin-size 和 --resolution 对于蛋白组学数据未生效的问题。 修复 SAW convert overlay 在处理大芯片数据时的保存错误。 修复 SAW count 和 realign 中，由于依赖包安装问题导致GPU无法使用。 修复 SAW count --image 文件路径包含\"czi\"字段时，程序异常退出的问题。 修复 SAW count 和 realign 中图像 ROI 小于 (2000,2000) 时的报错问题。 修复大芯片 HTML 报告无法打开的问题，对 bin20 聚类图和 UMAP 图进行了降采样处理；修复饱和度图的展示问题；修复蛋白相关性热图描述问题。 修复 SAW 8.1.2 count 中使用QC失败图像时，删除了输入图像 TAR.GZ 的问题。另外，可从visualization.tar.gz 中找到输入的图像 TAR.GZ。 升级点： Stereo-seq N FFPE V1.0 试剂盒 --sequencing-type 支持 PE75_25+59 和 PE75_25+62（新增）。 SAW count 兼容 .gff3 后缀的注释文件。 SAW count 兼容 Bowtie2 的 .bt2l 后缀的大索引文件。 升级了新鲜冷冻样本 H&E 图像细胞分割功能。 8.1.2（11月, 2024） 问题修复： 当 --adt-fastqs 文件损坏时提示异常。 升级： SAW count 和 realign 输出 HTML 报告为 .report.html，可直接点击打开。所有交互图可下载。 减少 SAW count Annotation 中的内存使用。 升级 totalVI 模型。蛋白组和转录组联合分析，此模块将不会在 SAW count 和 realign 中执行。您可以在 SAW reanalyze multiomics 使用此分析。 改善基于图像的组织分割效果。 接受文件名为 *_R1.fq.gz 和 *_R2.fq.gz 的 FASTQ 文件。 支持转录组参考索引目录前缀为 STAR，与之前 SAW 6.1~7.1 构建的 STAR_SJ100 兼容。 改进输入验证。检查路径有效性:--ref-libraries 中的文件或目录, 图像 TIFF 或 TAR.GZ 文件路径; 检查蛋白列表的格式。 SAW convert 和 reanalyze 输出的 Cell bin GEF 可在 StereoMap 中直接显示。 bin GEF 属性 /wholeExp/maxMID 更改为 100% 最大 MID 数，而不是 99.9%。SAW reanalyze lasso 降低输出 bin GEF 的文件大小。 8.1.1（10月, 2024） 问题修复： SAW realign 修复 QC-failed 图像经手动处理后无法正常运行的问题。 修复 HTML 报告中内置质控信息调用异常问题。 手动图像处理后，同步处理微生物矩阵，并输出至 visualization.tar.gz 中。 修复微生物 micro 模块访问 SAW count 路径文件无权限的问题。 SAW reanalyze 修复 cluster cellbin模式--Leiden-resolution参数未生效的问题。 解决用户本地 python 环境与 SAW 内置 python 环境冲突，导致 numpy 库查询错误的异常。 升级： 流程支持 --image TIFF 图像为正确命名的软链接。 8.1.0（9月, 2024） 新功能： 支持蛋白组转录组 Stereo-CITE FF 样本分析，在运行 SAW count 时请将 --kit-version 设置为 “Stereo-CITE T FF V1.x” 。在以单体可执行程序.tar.gz 发布的SAW中，需要 v8.1.0 或更高版本支持运行Stereo-CITE FF 分析。 支持转录组 Stereo-seq FF kit=V1.3，在运行 SAW count 时请将 --kit-version 设置为 “Stereo-seq T FF V1.3”。 SAW reanalyze 由子模块调用，您可以使用以下方式调用：SAW reanalyze lasso 新增： SAW reanalyze midFilter 执行按 MID 范围手动过滤空间表达矩阵。 SAW reanalyze multiomics 多组学蛋白质组和转录组联合分析。 SAW reanalyze removeBackground 自动去除蛋白背景信号。 接受在 StereoMap 打点配准后输出的图像 .tar.gz ，可以通过 --image-tar 输入SAW。需要 SAW v8.1.0 或更高版本支持图像分析。 升级点： 生信流程 默认在 SAW count 比对中去除adapter，而不是直接丢弃带有adapter的序列。 bin GEF 模式下的聚类省略了零中心变量以处理稀疏输入。 调整了蛋白组和转录组联合分析中的标记基因和标记蛋白的选择阈值。 SAW count 和 SAW realign 升级 HTML 报告。 页面 Square Bin 可以显示 bin20 和 bin50 聚类和 UMAP。 改善了细胞分割后出现单个面积较大的细胞的现象。 问题修复： 修复软件部分已知BUG和问题。 8.0.2（7月, 2024） 问题修复： 修复软件部分已知BUG和问题。 8.0.1 （7月, 2024） 问题修复： 修复软件部分已知BUG和问题。 8.0.0 （6月, 2024） 新形态： SAW本次更新以单体可执行程序.tar.gz 文件的形式发布，可以直接在系统上解压，无需额外配置计算环境。由于它已经集成并预编译所有内置软件所需的依赖项，因此可以在大多数Linux环境直接运行。 新功能： 整合并简化流程使命令编写和完成分析变得更加便捷。这些流程模块包括： SAW count：核心流程模块，用于根据计算基因表达读数和 Stereo-seq 芯片生成表达矩阵。 SAW makeRef：根据参考基因组数据构建索引文件。 SAW checkGTF：检查注释文件的格式。 SAW realign：使用手动处理的文件重新启动分析。 SAW reanalyze：重新执行下游分析。 SAW convert：支持文件格式转换。 SAW 支持从 FFPE（formalin-fixed paraffin-embedded）样本中获取基因表达信息。在运行 SAW count 时，通过将 --kit-version 设置为 \"Stereo-seq N FFPE V1.0\" 来实现。对于 FFPE 分析，需要使用 SAW v8.0.0 或更高版本。 基于 FFPE 组织样本，可以在运行 SAW count 时通过使用 --microorganism-detect 参数来开启微生物分析，需要准备必要的参考数据集。更多信息请参阅参考基因组准备。 SAW 还升级了读取比对和注释的生物信息学工作流程，以适应 FFPE 数据集。 在注释过程中，默认情况下会同时使用唯一比对 reads 和 多比对 reads 中的最优比对进行基因定量分析。如果分析人员只关注唯一比对 reads，可以使用 --uniquely-mapped-only 参数。 新的空间基因表达矩阵通过唯一基因ID进行标识，同时依然记录基因名称信息。 在图像相关的分析部分，软件对图像处理性能进行了优化。同时，在运行 SAW count 时，支持以TIFF格式直接输入显微镜拼接大图图像。 SAW 分析中新增了基于 Leiden 聚类进行的差异表达分析，marker features 被记录在AnnData格式的 H5AD 和 CSV 文件中，并在 HTML 报告和 StereoMap 中展示。 HTML 报告中的图表是交互式的，新增微生物分析页面，增加了 marker features 结果表格。 重新整理输出目录结构，使得结果文件更加清晰易查找，并将中间环节文件和日志放入指定的文件夹中。 输出可视化压缩文件visualization.tar.gz，其中包含 .stereo 统领文件，用于记录 SAW 分析流程的基本信息和 StereoMap 所需的字段信息。 历史版本 历史版本信息可以从 GitHub 获取。 获取帮助 有任何关于SAW版本的问题或疑虑？ 请联系当地销售或FAS/FBS。 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:48:01 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"ji-shu-zhi-chi/cuo-wu-ma.html":{"url":"ji-shu-zhi-chi/cuo-wu-ma.html","title":"错误码","keywords":"","body":"错误码Initial CheckError codesWorkflowAlignment of readsAnnotation of readsImage processingExpression matrixSecondary analysisReport generation错误码 *The interpretation of the Error Code part is only available in EN. Initial Check Initial Check is conducted before commencing the actual analysis tasks. These checks involve verifying input datasets, including FASTQs, image(s), reference(s), optional arguments, the integrity of software packages, and the version information of dependency packages, among others. If any issues are detected, the system will promptly report errors and exit, providing detailed feedback on the checks to prevent resource wastage. By default, the Initial Check function is enabled in the SAW count/realign pipelines. The parameter --no-initial-check has been introduced to control the use of this function. ... 2025-05-09 16:30:57 [runtime] (start:Initial Check) Performing Initial Checks of the analysis (please wait) ~ 2025-05-09 16:30:57 [runtime] (run:Initial Check) Checking image files... 2025-05-09 16:31:25 [runtime] (run:Initial Check) Checking optional arguments... 2025-05-09 16:31:25 [runtime] (done:Initial Check) Initial Checks Finished! 2025-05-09 16:37:58 [library] numpy: 1.23.5 2025-05-09 16:37:58 [library] pandas: 1.5.3 2025-05-09 16:37:58 [library] numba: 0.58.1 2025-05-09 16:37:58 [library] seaborn: 0.13.0 2025-05-09 16:37:58 [library] matplotlib: 3.7.1 2025-05-09 16:37:58 [library] anndata: 0.9.2 2025-05-09 16:37:58 [library] tensorflow: 2.7.0 2025-05-09 16:37:58 [library] onnxruntime-gpu: 1.16.3 2025-05-09 16:37:58 [library] opencv-python: 4.8.0.76 2025-05-09 16:37:58 [library] stlib: 1.1.6 2025-05-09 16:37:58 [library] gefpy: 1.2.2 2025-05-09 16:37:58 [library] stereopy: 1.5.1 2025-05-09 16:37:58 [library] python: 3.8.19 2025-05-09 16:37:59 [library] bcSTAR: installed ... Error codes SAW error codes are designed to capture error information and describe it in a straightforward manner. They are designed to express in three parts, date-time, error code, and explanation. The date-time information could help users distinguish errors in various program executions. Under the /pipeline-logs directory, a stereo_log file will record the error information of pipelines if an error causes the program interruption. You can troubleshoot issues by combining the information from stereo_log. Before using error code information to troubleshoot issues quickly, please ensure that the software version matches the manual you are referencing. From SAW 8.2, the error codes and prompts have been optimized. The classification of error codes is based on the tag (last two digits) of the error code, like SAW-A10101. The specific classification and the description of each error type are shown in the table below: Error tagError typeDescription01Path and permissionPrimarily due to missing input files, non-existent files, lack of access permissions, or incorrect output file paths, etc.02Content and formatPrimarily due to issues such as files being unable to be read correctly, files failing to be parsed, incorrect file formats, missing file information, or errors encountered while writing files, etc.03Parameter settingPrimarily due to missing parameter settings, incorrect parameter types, or values exceeding the available range, etc.04Key metric and analysis outputPrimarily due to abnormal analysis results, or abnormal key metrics, etc.05System resourcePrimarily due to exceeding file storage limits, running out of memory, etc.06Processing logicPrimarily due to issues caused by code logic or underlying functionality.07OthersA small number of errors that do not fall into the aforementioned categories. The first letter following \"SAW-\" indicates whether the error code belongs to the workflow (\"SAW_W00001\"), or the analysis tools (\"SAW_A01001\"). The beginning of an error prompt often includes keywords that provide a hint about the issue: CANNOT ACESS: software can not get access to a specific file or directory. IO ERROR: software meets some error when reading or writing a file. PARSE ERROR: software finds someting wrong when parsing the content or format. INVALID SETTING: input settings are not valid. MISSING PARAMETER: certain parameters are missing. RESOURCE NOT AVAILABLE: computing resources of the enviroment of not available or enough. EXECUTION ERROR: something wrong happens when software is performing a specific function. ... The following sectiosn will present examples of typical error codes and prompts encountered during the analysis. The error code information is continuously being improved. If you encounter an unknown issue, please contact FAS/FBS for help. Workflow Error codeError typeInterpretationSAW-W00001Path and permissionPlease check your input datasets according the specific error message provided.e.g.:CANNOT ACCESS: Cannot find valid STAR reference directory in {STAR_path}.CANNOT ACCESS: FASTQ file not exist: {fastqs}.SAW-W00002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: The file '{filename}' has an invalid extension. Expected one of {valid_extensions} (File suffixes are not case sensitive).PARSE ERROR: Invalid fastq pairs: {fq1}, {fq2}.SAW-W00003Parameter settingPlease check if you have incorrectly entered parameters or omitted certain parameters, etc.e.g.:INVALID SETTING: Mismatch occurs in --sequencing-type and --kit-version. Find more information in SAW User Manual.MISSING PARAMETER: Must input only one reference parameter in [--reference, --ref-libraries]SAW-W00005System resourcePlease check the GPU resources, storage resources, and memory resources in your computing environment, etc.e.g.:RESOURCE NOT AVAILABLE: The GPU ID is not available: {gpu_id}.RESOURCE NOT AVAILABLE: Failed to check GPU status, the GPU ID is not available: {gpu_id}. Error: {e}.SAW-W00006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:EXECUTION ERROR: The program execution encountered an issue and has exited. Please check the log file: {log_file}.EXECUTION ERROR: Failed to building reference index. Alignment of reads Error codeError typeInterpretationSAW-A01001Path and permissionPlease check the input file exists and has the correct access permission.e.g.:CANNOT ACESS: --mask /path/to/chip/mask.SAW-A01002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:VERSION MISMATCH: The reference version does not meet the expectations, please check the reference file.SAW-A01003Parameter settingPlease check if you have incorrectly entered parameters or omitted certain parameters, etc.e.g.:INVALID SETTING: CIDMapping --mismatch %d > 3. Accept --mismatch is less or equal to 3.SAW-A01004Key metric and analysis outputPlease check if your input data, upstream analysis results, or data quality are abnormal, etc.e.g.:ERROR: CID mapping rate-%lf is lower than the setting CIDMapping rateCutoff.SAW-A01006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:ERROR: The number of read1 and read2 parsed in readsbuf is not equal.SAW-A03002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: -m {barcodeToPos_H5}. Only support .h5 suffix chip mask file.SAW-A03005System resourcePlease check the GPU resources, storage resources, and memory resources in your computing environment, etc.e.g.:RESOURCE NOT AVAILABLE: Memory allocation calloc() error. Annotation of reads Error codeError typeInterpretationSAW-A02001Path and permissionPlease check the input file exists and has the correct access permission.e.g.:CANNOT ACESS: --sat_file {file_name}.SAW-A02002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:IO ERROR: Failed to write BAM.IO ERROR: Failed to create directory, directory already exists: {path}.SAW-A02003Parameter settingPlease check if you have incorrectly entered parameters or omitted certain parameters, etc.e.g.:INVALID SETTING: {thread_num} SAW-A02006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:ERROR: Found duplicated geneID {gene_id}.ERROR: Failed to map block file: {file_name}.SAW-A02102Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: Input file should be in GTF/GFF format, suffixed with .gff/.gff.gz, .gff3/.gff3.gz, .gtf/.gft.gz.PARSE ERROR: Annotation records from multiple sites contain the same gene ID information. Image processing Error codeError typeInterpretationSAW-A04001Path and permissionPlease check the input file exists and has the correct access permission.e.g.:CANNOT ACESS: {file_path}.SAW-A04002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: Cannot find attribute 'StainType' in IPR QCInfo.UNEXPECTED FORMAT: Invalid TAR.GZ. Found multiple IPR {ipr_files}./Cannot find IRP.SAW-A04003Parameter settingPlease check if you have incorrectly entered parameters or omitted certain parameters, etc.e.g:MISSING PARAMETER: --sn.SAW-A04006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:ERROR: IPR \"{group} -> QCInfo\" attribute \"QCPassFlag\" is less than 1. Cannot perform automatic registration.ERROR: The stitched FOVs image cannot be found under the {self.img_path}. Expression matrix Error codeError typeInterpretationSAW-A05001Path and permissionPlease check the input file exists and has the correct access permission.e.g.:CANNOT ACESS: {file_path}.SAW-A05002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: -s {image_file}. Only file suffixed with TIFF are supported.SAW-A05003Parameter settingPlease check if you have incorrectly entered parameters or omitted certain parameters, etc.e.g:MISSING PARAMETER: -i {gef_file}.SAW-A05005System resourcePlease check the GPU resources, storage resources, and memory resources in your computing environment, etc.e.g.:RESOURCE NOT AVAILABLE: Memory allocation calloc() error.SAW-A05006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:ERROR: TIFF size not equal to GEF size.SAW-A06002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:IO ERROR: Failed to open bin GEF file {file_name}.PARSE ERROR: Cannot find /cellBin/blockSize in file.SAW-A06005System resourcePlease check the GPU resources, storage resources, and memory resources in your computing environment, etc.e.g.:RESOURCE NOT AVAILABLE: Cannot allocate memory for /wholeExp.SAW-A06006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:ERROR: Height and width of mask TIFF != Expression matix. TIFF:{height,width}. Expression matrix: {height,width}. Secondary analysis Error codeError typeInterpretationSAW-A07001Path and permissionPlease check the input file exists and has the correct access permission.e.g.:CANNOT ACESS: {file_path}.SAW-A07002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERRPR: Only -i/--input_file suffixed with .gef/.gem/.h5ad are supported.SAW-A07003Parameter settingPlease check if you have incorrectly entered parameters or omitted certain parameters, etc.e.g.:MISSING PARAMETER: --marker_modeSAW-A07004Key metric and analysis outputPlease check if your input data, upstream analysis results, or data quality are abnormal, etc.e.g.:ERROR: Gene number less than 3000, please check your gef file.SAW-A07106Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:ERROR: The \"CellBin\" or \"cell\" or \"wholeExp\" or {bin_size} field value is empty in file - {file_name}.SAW-A13002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: The input feature expression {file} is not in a standard format and cannot be parsed.SAW-A13006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:ERROR: The calculation of Moran index is empty. Please check whether the bin size: {bin_size} in the {input_file} is abnormal.ERROR: The number of gene hotspots is zero. Please check whether the bin size of {bin_size} in the {input_file} is abnormal. Report generation Error codeError typeInterpretationSAW-A08002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: Attribute type class does not match expected type class.PARSE ERROR: Failed to open dataset: \"/geneExp/bin1/expression\".SAW-A08006Processing logicPlease make a judgment based on the location where the error occurred and the relevant log information.e.g.:PARSE ERROR: Total map reads less than pid mapped reads, please check file format from --bcstat.SAW-A09001Path and permissionPlease check the input file exists and has the correct access permission.e.g.:CANNOT ACESS: {file_path}.SAW-A09002Content and formatPlease check if your input data format is correct or if the file is corrupted, etc.e.g.:PARSE ERROR: Invalid saturation file format.PARSE ERROR: Please check quality control .xlsx file. Access to help Have any questions or concerns about the error codes fromyour SAW run? Please get in touch with the local agents or FAS/FBS. © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"ji-shu-zhi-chi/shi-pei-jian-rong-de-ruan-jian-he-shi-ji-he.html":{"url":"ji-shu-zhi-chi/shi-pei-jian-rong-de-ruan-jian-he-shi-ji-he.html","title":"适配兼容的软件和试剂盒","keywords":"","body":"适配兼容的软件和试剂盒适配兼容的软件和试剂盒 SAW版本兼容适配的软件兼容适配的试剂盒发布日期SAW 8.2StereoMap 4.2新增：时空转录组FFPE V1.0 & V1.1其他和SAW 8.1一致9月，2025SAW 8.1StereoMap 4.1新增：时空转录组FF V1.2 & V1.3新增：时空蛋白转录组 FF V1.0 & V1.1其他和SAW 8.0一致9月，2024SAW 8.0StereoMap 4.0(ImageStudio已合并入StereoMap 4.0)新增：时空转录组FFPE V1.0时空转录组FF V1.2 (H&E应用)时空转录组FF 大芯片 V1.0时空转录组FF V1.2 (mIF应用)时空转录组FF V1.26月，2024SAW 7.1StereoMap 3.1ImageStudio 3.0新增：时空蛋白转录组 FF V1.0 其他和SAW 7.0一致3月，2024SAW 7.0StereoMap 3.0ImageStudio 3.0新增：时空转录组FF V1.2 (H&E应用)时空转录组FF 大芯片 V1.0时空转录组FF V1.2 (mIF应用)时空转录组FF V1.211月，2023SAW 6.1StereoMap 2.1ImageStudio 2.1新增：时空转录组FF 大芯片V1.0其他和SAW 6.0一致7月，2023SAW 6.0StereoMap 2.0ImageStudio 2.0新增：时空转录组FF V1.2 (mIF应用)时空转录组FF V1.22月，2023SAW 5.4 & 5.5StereoMap 1.0ImageStudio 1.0时空转录组FF V1.21月，2023 © 2025 STOmics Tech. All rights reserved.Modified: 2025-12-29 19:47:43 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"}}